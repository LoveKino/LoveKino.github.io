!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=46)}([function(e,t,n){"use strict";let r=e=>!!(e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0),o=e=>!(!e||"object"!=typeof e),i=e=>"function"==typeof e,a=(e,t)=>{if(!r(e))throw new TypeError(s(e,"list"));if(!i(t))throw new TypeError(s(t,"function"));for(let n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0},s=(e,t)=>`Expect ${t} type, but got type ${typeof e}, and value is ${e}`;e.exports={isArray:e=>Array.isArray(e),likeArray:r,isString:e=>"string"==typeof e,isObject:o,isFunction:i,isNumber:e=>"number"==typeof e&&!isNaN(e),isBool:e=>"boolean"==typeof e,isNode:e=>"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,isPromise:e=>e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch,isNull:e=>null===e,isUndefined:e=>void 0===e,isFalsy:e=>!e,isRegExp:e=>e instanceof RegExp,isReadableStream:e=>o(e)&&i(e.on)&&i(e.pipe),isWritableStream:e=>o(e)&&i(e.on)&&i(e.write),funType:(e,t=[])=>{if(!i(e))throw new TypeError(s(e,"function"));if(!r(t))throw new TypeError(s(t,"array"));for(let e=0;e<t.length;e++){let n=t[e];if(n&&!i(n))throw new TypeError(s(n,"function"))}return function(){for(let n=0;n<t.length;n++){let r=t[n],o=arguments[n];if(r&&!r(o))throw new TypeError(`Argument type error. Arguments order ${n}. Argument is ${o}. function is ${e}, args are ${arguments}.`)}return e.apply(this,arguments)}},any:a,exist:(e,t)=>{if(!r(e))throw new TypeError(s(e,"array"));if(!i(t))throw new TypeError(s(t,"function"));for(let n=0;n<e.length;n++)if(t(e[n]))return!0;return!1},and:(...e)=>{if(!a(e,i))throw new TypeError("The argument of and must be function.");return t=>{for(let n=0;n<e.length;n++)if(!(0,e[n])(t))return!1;return!0}},or:(...e)=>{if(!a(e,i))throw new TypeError("The argument of and must be function.");return t=>{for(let n=0;n<e.length;n++)if((0,e[n])(t))return!0;return!1}},not:e=>{if(!i(e))throw new TypeError("The argument of and must be function.");return t=>!e(t)},mapType:e=>{if(!o(e))throw new TypeError(s(e,"obj"));for(let t in e){let n=e[t];if(!i(n))throw new TypeError(s(n,"function"))}return t=>{if(!o(t))return!1;for(let n in e)if(!(0,e[n])(t[n]))return!1;return!0}},listType:e=>{if(!i(e))throw new TypeError(s(e,"function"));return t=>a(t,e)},truth:()=>!0}},function(e,t,n){"use strict";let{n:r,parseArgs:o}=n(6);e.exports=((...e)=>{let t=e[0];if("string"==typeof t)return r(...e);{let{attributes:n,childs:r}=o(e,{doParseStyle:!1});return t({props:n,children:r})}})},function(e,t,n){"use strict";let r=e=>e&&"object"==typeof e&&!Array.isArray(e),o=(e,t,n="",i={})=>{if(-1!==(i.blackList||[]).findIndex(e=>e===n))return e;if(r(t)){if(e=e||{},r(e))for(let r in t)e[r]=o(e[r],t[r],""===n?r:n+"."+r,i);return e}return void 0===e?t:e},i=(e,...t)=>"function"==typeof e?i(e(...t)):e,a=e=>e&&"object"==typeof e;e.exports={styles:(...e)=>Object.assign({},...e),isMapObject:r,deepMergeMap:o,resolveFnValue:i,get:(e,t="")=>{let n=(t=t.trim())?t.split("."):[],r=n.length;for(let t=0;t<r;t++){let r=n[t].trim();r&&(e=e[r])}return e},set:(e,t="",n)=>{let r=(t=t.trim())?t.split("."):[];if(!r.length)return;let o=e;for(let e=0;e<r.length-1;e++){let t=r[e];if(t=t.trim()){let e=o[t];a(e)||(e={},o[t]=e),o=e}}return o[r[r.length-1]]=n,e},isObject:a,likeArray:e=>e&&"object"==typeof e&&"number"==typeof e.length}},function(e,t,n){"use strict";let r=n(37);e.exports=((e,t)=>r(e)(t))},function(e,t,n){"use strict";let{isObject:r,funType:o,or:i,isString:a,isFalsy:s,likeArray:l}=n(0),c=n(22),{map:u,reduce:p,find:h,findIndex:d,forEach:f,filter:m,any:y,exist:g,compact:b}=n(53),v=(e,t,n)=>-1!==d(e,t,n),P=(e,t,n)=>(e[n]=t,e),S=(e,t,n=[])=>p(e,(e,n)=>(v(e,n,t)||e.push(n),e),n),T=o((e,t="")=>{let n=(t=t.trim())?t.split("."):[];return p(n,E,e,w)},[r,i(a,s)]),E=(e,t)=>e[t],w=e=>!e,_=e=>l(e)&&!a(e)?p(e,(e,t)=>e=e.concat(_(t)),[]):[e];e.exports={flat:_,contain:v,difference:(e,t,n)=>p(e,(e,r)=>(v(t,r,n)||v(e,r,n)||e.push(r),e),[]),union:(e,t,n)=>S(t,n,S(e,n)),interset:(e,t,n)=>p(e,(e,r)=>(v(t,r,n)&&e.push(r),e),[]),map:u,reduce:p,iterate:c,find:h,findIndex:d,deRepeat:S,forEach:f,filter:m,any:y,exist:g,get:T,delay:e=>new Promise(t=>{setTimeout(t,e)}),mergeMap:(e={},t={})=>p(t,P,p(e,P,{})),compact:b}},function(e,t,n){"use strict";let r=(e,t)=>({type:e,data:t}),o=(e,t)=>e.type===t;e.exports={Signal:r,onSignalType:(e,t)=>(n,...r)=>{if(o(n,e))return t(n,...r)},isSignalType:o,deliver:(e,t,n)=>(o,i,a)=>{e.notify(r(t,{sourceType:"delivered",sourceSignal:o,sourceData:i,sourceCtx:a,extra:n}))}}},function(e,t,n){"use strict";e.exports=n(52)},function(e,t,n){"use strict";let{isObject:r,funType:o,or:i,isString:a,isFalsy:s,likeArray:l}=n(0),c=n(33),{map:u,reduce:p,find:h,findIndex:d,forEach:f,filter:m,any:y,exist:g,compact:b,reverse:v,overArgs:P}=n(94),S=(e,t,n)=>-1!==d(e,t,n),T=(e,t,n)=>(e[n]=t,e),E=(e,t,n=[])=>p(e,(e,n)=>(S(e,n,t)||e.push(n),e),n),w=o((e,t="")=>{let n=(t=t.trim())?t.split("."):[];return p(n,_,e,A)},[r,i(a,s)]),_=(e,t)=>e[t],A=e=>!e,N=e=>l(e)&&!a(e)?p(e,(e,t)=>e=e.concat(N(t)),[]):[e];e.exports={flat:N,contain:S,difference:(e,t,n)=>p(e,(e,r)=>(S(t,r,n)||S(e,r,n)||e.push(r),e),[]),union:(e,t,n)=>E(t,n,E(e,n)),interset:(e,t,n)=>p(e,(e,r)=>(S(t,r,n)&&e.push(r),e),[]),map:u,reduce:p,iterate:c,find:h,findIndex:d,deRepeat:E,forEach:f,filter:m,any:y,exist:g,get:w,delay:e=>new Promise(t=>{setTimeout(t,e)}),mergeMap:(e={},t={})=>p(t,T,p(e,T,{})),compact:b,reverse:v,overArgs:P}},function(e,t,n){"use strict";let r=n(1),o=n(134),i=n(39);e.exports=(()=>{let e=["Introduction"],t=e=>[r('h3 id="Introduction"',"Introduction"),r('p style="font-style:italic"',e)],n=(e,t,n)=>[r('h2 style="text-align:center"',e),r('div style="text-align:center;color:gray;"',`${t} ${n}`)];return{paraTitle:t=>(e.push(t),r(`h3 id="${t}"`,t)),introductionPara:t,list:e=>r("ul",[e.map(e=>r("li",e))]),lr:(e,t,n=100)=>r(i,{mode:"partion",leftPartions:[n],style:{container:{display:"inline-block"}}},[r("strong",e),t]),article:({title:i,date:a,author:s,introduction:l,emphasize:c},u)=>r("div",{style:{width:"100%"}},[n(i,a,s),r(o,{toc:e.map(e=>({name:e}))}),l&&t(l),u]),articleTitle:n,code:e=>r("pre",{style:{width:"100%",overflow:"scroll"}},[e]),emphasize:e=>r(span,{style:{fontWeight:"bold"}},e)}})},function(module,exports,__webpack_require__){"use strict";let{reduce:reduce}=__webpack_require__(4),{funType:funType,isObject:isObject,or:or,isString:isString,isFalsy:isFalsy}=__webpack_require__(0),defineProperty=(e,t,n)=>(Object.defineProperty?Object.defineProperty(e,t,n):e[t]=n.value,e),hasOwnProperty=(e,t)=>{if(e.hasOwnProperty)return e.hasOwnProperty(t);for(var n in e)if(n===t)return!0;return!1},toArray=(e=[])=>Array.prototype.slice.call(e),get=funType((e,t="")=>{let n=(t=t.trim())?t.split("."):[];return reduce(n,getValue,e,invertLogic)},[isObject,or(isString,isFalsy)]),getValue=(e,t)=>e[t],invertLogic=e=>!e,set=(e,t="",n)=>{let r=(t=t.trim())?t.split("."):[],o=e;if(isObject(o)&&r.length){for(let e=0;e<r.length-1;e++)if(o=o[r[e]],!isObject(o))return null;return o[r[r.length-1]]=n,!0}},authProp=e=>{let t=(t,n,r)=>{t[n]={token:e,value:r}};return{set:(n,r,o)=>{let i=null;hasOwnProperty(n,r)||defineProperty(n,r,{enumerable:!1,configurable:!1,set:t=>{isObject(t)&&t.token===e&&(i=t.value)},get:()=>i}),t(n,r,o)}}},evalCode=code=>"string"!=typeof code?code:eval(`(function(){\n    try {\n        ${code}\n    } catch(err) {\n        console.log('Error happened, when eval code.');\n        throw err;\n    }\n})()`),delay=e=>new Promise(t=>{setTimeout(t,e)}),runSequence=(e,t=[],n,r)=>{if(!e.length)return Promise.resolve();let o=e[0],i=o&&o.apply(n,t);return r&&i===r?Promise.resolve(r):Promise.resolve(i).then(()=>runSequence(e.slice(1),t,n,r))};module.exports={defineProperty:defineProperty,hasOwnProperty:hasOwnProperty,toArray:toArray,get:get,set:set,authProp:authProp,evalCode:evalCode,delay:delay,runSequence:runSequence}},function(e,t,n){"use strict";e.exports=n(82)},function(e,t,n){"use strict";let{map:r}=n(4),{isObject:o,isNode:i}=n(0),a=n(54),s=n(23);let l=e=>(...t)=>{let{tagName:n,attributes:r,childs:o}=a(t);c(r)&&(o=[r],r={}),u(r.plugin,n,r,o);let{attrMap:i,eventMap:s}=p(r);return{tagName:n,attrMap:i,eventMap:s,elementType:e,type:"kabanery_node",childNodes:o}},c=e=>o(e)&&"kabanery_node"===e.type,u=(e=[],t,n,r)=>{for(let o=0;o<e.length;o++){let i=e[o];i&&i(t,n,r)}},p=e=>{let t={},n={};for(let r in e){let o=e[r];0===r.indexOf("on")?n[r.substring(2)]=o:"plugin"!==r&&(t[r]=o)}return{attrMap:t,eventMap:n}},h=e=>{if(i(e))return e.outerHTML;if(c(e)){let{tagName:t,attrMap:n,childNodes:o}=e,i=r(n,(e,t)=>`${t}="${e}"`).join(" ");return i=i?" "+i:"",`<${t}${i}>${r(o,h).join("")}</${t}>`}return e+""};e.exports={n:l("html"),svgn:l("svg"),cn:l,bindPlugs:(e,t=[])=>(...n)=>{let{tagName:r,attributes:o,childs:i}=a(n),s=o.plugin=o.plugin||[];return o.plugin=s.concat(t),e(r,o,i)},isKabaneryNode:c,toHTML:h,parseArgs:a,parseStyle:s}},function(e,t,n){"use strict";let r=n(24)();e.exports={eventMapHook:`__eventMap_${r}`,globalEventTypePrefix:`__event_type_id_${r}_`,stopPropagationFlag:"__stopPropagation"}},function(e,t,n){"use strict";let{createElement:r,createSvgElement:o}=n(64),{bindEvents:i}=n(14),{map:a}=n(4),{isKabaneryNode:s}=n(11),l=e=>{if(s(e)){let t=null;return t="html"===e.elementType?r(e.tagName,e.attrMap,a(e.childNodes,l)):o(e.tagName,e.attrMap,a(e.childNodes,l)),i(t,e.eventMap),t}return e};e.exports=l},function(e,t,n){"use strict";let r=n(65),{eventMapHook:o}=n(12),{listenEventType:i,clearEvents:a,attachDocument:s,dispatchEvent:l}=r();e.exports={bindEvents:(e,t)=>{e[o]=t;for(let e in t)i(e)},attachDocument:s,dispatchEvent:l,clearEvents:a}},function(e,t,n){"use strict";t.decode=t.parse=n(71),t.encode=t.stringify=n(72)},function(e,t,n){e.exports=n(79)},function(e,t,n){"use strict";e.exports={WAIT:2,MATCH:1,QUIT:0}},function(e,t,n){"use strict";let{reduce:r}=n(7);e.exports={buildClosure:(e,t,n)=>{let o=e,i={},a={};for(let t=0;t<e.length;t++){let n=e[t];i[n.serialize()]=!0,a[n.serializePrefix()]=n}for(;;){let t=r(o,(e,t)=>{let r=n.expandItem(t);return e.concat(r)},[]),s=[];for(let e=0;e<t.length;e++){let n=t[e];if(!i[n.serialize()]){s.push(n),i[n.serialize()]=!0;let e=a[n.serializePrefix()];a[n.serializePrefix()]=e?e.concatForwards(n.getForwards()):n}}if(!s.length)break;e=e.concat(s),o=s}let s=JSON.stringify(Object.keys(i).sort()),l=[];for(let e in a)l.push(a[e]);return{items:l,serializedText:s}},sameClosure:(e,t)=>e.serializedText===t.serializedText}},function(e,t){e.exports={P_PROGRAM:"PROGRAM := EXPRESSION_LIST",P_EXPRESSION_LIST_0:"EXPRESSION_LIST := EXPRESSION",P_EXPRESSION_LIST_1:"EXPRESSION_LIST := EXPRESSION semicolon EXPRESSION_LIST",P_EXPRESSION_0:"EXPRESSION := QUERY_EXPRESSION",P_EXPRESSION_1:"EXPRESSION := UPDATE_EXPRESSION",P_EXPRESSION_2:"EXPRESSION := ",P_UPDATE_EXPRESSION_0:"UPDATE_EXPRESSION := PATH assign QUERY_EXPRESSION",P_UPDATE_EXPRESSION_1:"UPDATE_EXPRESSION := delete PATH",P_UPDATE_EXPRESSION_2:"UPDATE_EXPRESSION := append PATH assign QUERY_EXPRESSION",P_QUERY_EXPRESSION_0:"QUERY_EXPRESSION := ATOM_DATA",P_QUERY_EXPRESSION_1:"QUERY_EXPRESSION := variableName",P_QUERY_EXPRESSION_2:"QUERY_EXPRESSION := PATH",P_QUERY_EXPRESSION_3:"QUERY_EXPRESSION := variableName leftBracket rightBracket",P_QUERY_EXPRESSION_4:"QUERY_EXPRESSION := variableName leftBracket QUERY_EXPRESSION_LIST rightBracket",P_QUERY_EXPRESSION_LIST_0:"QUERY_EXPRESSION_LIST := QUERY_EXPRESSION",P_QUERY_EXPRESSION_LIST_1:"QUERY_EXPRESSION_LIST := QUERY_EXPRESSION comma QUERY_EXPRESSION_LIST",P_PATH_0:"PATH := nodeName",P_PATH_1:"PATH := nodeName PATH",P_PATH_2:"PATH := nodeNameVariable",P_PATH_3:"PATH := nodeNameVariable PATH",P_ATOM_DATA_0:"ATOM_DATA := true",P_ATOM_DATA_1:"ATOM_DATA := false",P_ATOM_DATA_2:"ATOM_DATA := null",P_ATOM_DATA_3:"ATOM_DATA := string",P_ATOM_DATA_4:"ATOM_DATA := number",T_ATOM:"atom",T_PATH:"path",T_FUNCTION:"function",T_VARIABLE_NAME:"variableName",T_ASSIGN:"assign",T_DELETE:"delete",T_APPEND:"append",T_NODE_NAME:"nodeName",T_NODE_NAME_VARIABLE:"nodeNameVariable",A_DEFAULT:"default"}},function(e,t,n){"use strict";let{n:r}=n(6),o=n(3),{styles:i}=n(2);e.exports=o(({props:e,children:t})=>r("div",{style:e.style},t),{defaultProps:{style:e=>i(e.fullParent)},defaultChildren:[""]})},function(e,t,n){"use strict";let r=n(50),o=n(51),i=e=>{for(var t=0;e;)t+=e.offsetLeft,e=e.offsetParent;return t},a=e=>{for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t};e.exports={getX:i,getY:a,getClientX:e=>i(e)-window.scrollX,getClientY:e=>a(e)-window.scrollY,removeChilds:e=>{for(;e&&e.firstChild;)e.removeChild(e.firstChild)},once:(e,t,n,r)=>{let o=function(i){let a=n.apply(this,[i]);return e.removeEventListener(t,o,r),a};e.addEventListener(t,o,r)},shadowFrame:r,getAttributeMap:(e=[])=>{let t={};for(let n=0;n<e.length;n++){let{name:r,value:o}=e[n];t[r]=o}return t},startMomenter:o,getClasses:(e="")=>{let t=[],n=e.split(" ");for(let e=0;e<n.length;e++){let r=n[e];(r=r.trim())&&t.push(r)}return t}}},function(e,t,n){"use strict";let{likeArray:r,isObject:o,funType:i,isFunction:a,isUndefined:s,or:l,isNumber:c,isFalsy:u,mapType:p}=n(0),h=i((e=[],t={})=>{let{predicate:n,transfer:i,output:a,limit:s,def:l}=t;t.predicate=n||y,t.transfer=i||b,t.output=a||m,void 0===s&&(s=e&&e.length),s=t.limit=f(s);let c=l,u=0;if(r(e))for(let n=0;n<e.length;n++){let r=d(e,n,u,c,t);if(c=r.rets,u=r.count,r.stop)return c}else if(o(e))for(let n in e){let r=d(e,n,u,c,t);if(c=r.rets,u=r.count,r.stop)return c}return c},[l(o,a,u),l(s,p({predicate:l(a,u),transfer:l(a,u),output:l(a,u),limit:l(s,c,a)}))]),d=(e,t,n,r,{predicate:o,transfer:i,output:a,limit:s})=>{let l=e[t];return s(r,l,t,e,n)?{stop:!0,count:n,rets:r}:(o(l)&&(r=a(r,i(l,t,e,r),t,e),n++),{stop:!1,count:n,rets:r})},f=e=>s(e)?g:c(e)?(t,n,r,o,i)=>i>=e:e,m=(e,t)=>(e.push(t),e),y=()=>!0,g=()=>!1,b=e=>e;e.exports=h},function(e,t,n){"use strict";let{isString:r,isObject:o}=n(0);e.exports=((e="",{keyWrapper:t,valueWrapper:n}={})=>{if(r(e))return e;if(!o(e))throw new TypeError(`Expect object for style object, but got ${e}`);let s=[];for(let r in e){let o=e[r];r=i(r),o=a(o,r),t&&(r=t(r,o)),n&&(o=n(o,r)),s.push(`${r}: ${o};`)}return s.join("")});let i=e=>e.replace(/[A-Z]/,e=>`-${e.toLowerCase()}`),a=(e,t)=>{if("number"==typeof e&&"z-index"!==t)return e+"px";if("padding"===t||"margin"===t){let t=e.split(" ");for(let e=0;e<t.length;e++){let n=t[e];isNaN(Number(n))||(t[e]=n+"px")}e=t.join(" ")}return e}},function(e,t,n){var r=n(61),o=n(62);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";let{attachDocument:r}=n(14),{isNode:o}=n(0),{flat:i,forEach:a}=n(4),s=n(13);e.exports=((e,t)=>{e=i(e),a(e,e=>{e=s(e),o(e)&&t.appendChild(e)}),r(l(t))});let l=e=>{for(;e.parentNode;)e=e.parentNode;return e}},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";let{isObject:r}=n(0);const o="7e942534-ea8b-4c75-90fd-705aec328d00";let i=e=>a(e)?e:null===e?{content:e,actionType:"epsilon",__basic_action_type__:o}:{content:e,actionType:"normal",__basic_action_type__:o},a=e=>r(e)&&e.__basic_action_type__===o;e.exports={isAction:a,isLeftAction:e=>a(e)&&"left"===e.actionType,isRangeAction:e=>a(e)&&"range"===e.actionType,isUnionAction:e=>a(e)&&"union"===e.actionType,isNormalAction:e=>a(e)&&"normal"===e.actionType,isEpsilonAction:e=>a(e)&&"epsilon"===e.actionType,left:()=>({actionType:"left",__basic_action_type__:o}),range:(e,t)=>({actionType:"range",start:e,end:t,__basic_action_type__:o}),toAction:i,union:(...e)=>{for(let t=0;t<e.length;t++){let n=e[t];a(n)||(e[t]=i(n))}return{actionType:"union",actions:e,__basic_action_type__:o}}}},function(e,t,n){"use strict";let{isObject:r,funType:o,or:i,isString:a,isFalsy:s,likeArray:l}=n(0),c=n(30),{map:u,reduce:p,find:h,findIndex:d,forEach:f,filter:m,any:y,exist:g,compact:b,reverse:v,overArgs:P}=n(86),S=(e,t,n)=>-1!==d(e,t,n),T=(e,t,n)=>(e[n]=t,e),E=(e,t,n=[])=>p(e,(e,n)=>(S(e,n,t)||e.push(n),e),n),w=o((e,t="")=>{let n=(t=t.trim())?t.split("."):[];return p(n,_,e,A)},[r,i(a,s)]),_=(e,t)=>e[t],A=e=>!e,N=e=>l(e)&&!a(e)?p(e,(e,t)=>e=e.concat(N(t)),[]):[e];e.exports={flat:N,contain:S,difference:(e,t,n)=>p(e,(e,r)=>(S(t,r,n)||S(e,r,n)||e.push(r),e),[]),union:(e,t,n)=>E(t,n,E(e,n)),interset:(e,t,n)=>p(e,(e,r)=>(S(t,r,n)&&e.push(r),e),[]),map:u,reduce:p,iterate:c,find:h,findIndex:d,deRepeat:E,forEach:f,filter:m,any:y,exist:g,get:w,delay:e=>new Promise(t=>{setTimeout(t,e)}),mergeMap:(e={},t={})=>p(t,T,p(e,T,{})),compact:b,reverse:v,overArgs:P}},function(e,t,n){"use strict";let{isPromise:r,likeArray:o,isObject:i,funType:a,isFunction:s,isUndefined:l,or:c,isNumber:u,isFalsy:p,isReadableStream:h,mapType:d}=n(0),f=a((e,t={})=>(e=e||[],r(e)?e.then(e=>f(e,t)):m(e,t)),[c(r,i,s,p),c(l,d({predicate:c(s,p),transfer:c(s,p),output:c(s,p),limit:c(l,u,s)}))]),m=(e,t)=>{let n=(t=y(t,e)).def,r=0;if(h(e)){let o=-1;return new Promise((i,a)=>{e.on("data",a=>{let s=g(a,e,++o,r,n,t);n=s.rets,r=s.count,s.stop&&i(n)}),e.on("end",()=>{i(n)}),e.on("error",e=>{a(e)})})}if(o(e))for(let o=0;o<e.length;o++){let i=e[o],a=g(i,e,o,r,n,t);if(n=a.rets,r=a.count,a.stop)return n}else if(i(e))for(let o in e){let i=e[o],a=g(i,e,o,r,n,t);if(n=a.rets,r=a.count,a.stop)return n}return n},y=(e,t)=>{let{predicate:n,transfer:r,output:o,limit:i}=e;return e.predicate=n||P,e.transfer=r||T,e.output=o||v,void 0===i&&(i=t&&t.length),i=e.limit=b(i),e},g=(e,t,n,r,o,{predicate:i,transfer:a,output:s,limit:l})=>l(o,e,n,t,r)?{stop:!0,count:r,rets:o}:(i(e)&&(o=s(o,a(e,n,t,o),n,t),r++),{stop:!1,count:r,rets:o}),b=e=>l(e)?S:u(e)?(t,n,r,o,i)=>i>=e:e,v=(e,t)=>(e.push(t),e),P=()=>!0,S=()=>!1,T=e=>e;e.exports={iterate:f}},function(e,t,n){"use strict";e.exports={assembleToken:(e,t)=>({tokenType:e,name:e.name,text:t})}},function(e,t,n){"use strict";e.exports={END_SYMBOL:"$",EXPAND_START_SYMBOL:"S`",EPSILON:null}},function(e,t,n){"use strict";let{isPromise:r,likeArray:o,isObject:i,funType:a,isFunction:s,isUndefined:l,or:c,isNumber:u,isFalsy:p,isReadableStream:h,mapType:d}=n(0),f=a((e,t={})=>(e=e||[],r(e)?e.then(e=>f(e,t)):m(e,t)),[c(r,i,s,p),c(l,d({predicate:c(s,p),transfer:c(s,p),output:c(s,p),limit:c(l,u,s)}))]),m=(e,t)=>{let n=(t=y(t,e)).def,r=0;if(h(e)){let o=-1;return new Promise((i,a)=>{e.on("data",a=>{let s=g(a,e,++o,r,n,t);n=s.rets,r=s.count,s.stop&&i(n)}),e.on("end",()=>{i(n)}),e.on("error",e=>{a(e)})})}if(o(e))for(let o=0;o<e.length;o++){let i=e[o],a=g(i,e,o,r,n,t);if(n=a.rets,r=a.count,a.stop)return n}else if(i(e))for(let o in e){let i=e[o],a=g(i,e,o,r,n,t);if(n=a.rets,r=a.count,a.stop)return n}return n},y=(e,t)=>{let{predicate:n,transfer:r,output:o,limit:i}=e;return e.predicate=n||P,e.transfer=r||T,e.output=o||v,void 0===i&&(i=t&&t.length),i=e.limit=b(i),e},g=(e,t,n,r,o,{predicate:i,transfer:a,output:s,limit:l})=>l(o,e,n,t,r)?{stop:!0,count:r,rets:o}:(i(e)&&(o=s(o,a(e,n,t,o),n,t),r++),{stop:!1,count:r,rets:o}),b=e=>l(e)?S:u(e)?(t,n,r,o,i)=>i>=e:e,v=(e,t)=>(e.push(t),e),P=()=>!0,S=()=>!1,T=e=>e;e.exports={iterate:f}},function(e,t){e.exports={getProductionId:e=>`${e[0]} := ${e[1].join(" ")}`,processTokens:e=>{let t=[];for(let n=0;n<e.length;n++){let{text:r,tokenType:o}=e[n],i=o.name;"whitespace"!==i&&t.push({text:r,name:i})}return t},isObject:e=>e&&"object"==typeof e,isFunction:e=>"function"==typeof e,isString:e=>"string"==typeof e}},function(e,t,n){"use strict";let{autoId:r,isObject:o,modifySuccess:i,removeNoneExist:a,removeSuccess:s}=n(105);e.exports=((e,{missingValue:t}={})=>{let n=n=>{let r=e;for(let e=0;e<n.length;e++){if(!o(r))return t;if(!r.hasOwnProperty(n[e]))return t;r=r[n[e]]}return r},l=(t,n)=>{let r=e;for(let e=0;e<t.length-1;e++){let n=t[e],i=r[n];o(i)||(i={},r[n]=i),r=i}return r[t[t.length-1]]=n,i(t,n)};return{queryByPath:n,setByPath:l,removeByPath:e=>{let r=e.slice(0,e.length-1),i=e[e.length-1],l=n(r);return l!==t&&o(l)&&l.hasOwnProperty(i)?(delete l[i],s(e)):a(e)},appendByPath:(e,t)=>l(e.concat([r()]),t)}})},function(e,t,n){"use strict";let r=n(3),o=n(1),i=n(117),a=n(122),{syncBindWithKeyMap:s}=n(124),l=n(20);e.exports=(e=>{return r(({props:t,children:n},r)=>o(l,{style:t.style.container},[o(i,s(r,{"loading.show":"show"},{bindedProps:{style:t.style.loading}})),o(a,s(r,{"notice.show":"show","notice.text":"text"},{bindedProps:{style:t.style.notice}})),o(e,t,n)]),{defaultProps:{loading:{show:!1},notice:{show:!1,text:""},style:{container:{},loading:{},notice:{}}}})})},function(e,t,n){"use strict";let{view:r}=n(6),o=n(111),{deepMergeMap:i,resolveFnValue:a}=n(2),s=n(116),{Signal:l}=n(5),c=n(35),{executeAST:u}=n(16);e.exports=(e=>({defaultProps:t={},defaultChildren:n=[],theme:p=o,classTable:h}={})=>{let d=t.style||{},f=a(d,p),m=a(h,p),{appendStyle:y,getClassName:g,updateClassTable:b}=s(m);return r((r,o)=>{r.props=r.props||{},r.children=r.children&&r.children.length?r.children:n,r.props.theme=r.props.theme||p,y(),r.props.theme&&"function"==typeof d&&(f=a(d,r.props.theme)),r.theme&&"function"==typeof h&&(m=a(h,r.props.theme),b(m)),r.props.style=i(r.props.style,f),r.props=i(r.props,t);let s=e=>{r.props.onsignal&&r.props.onsignal(e,o.getData(),o)},v=c(r),P=(e,...t)=>{e=e||l("update-view-data"),o.update(...t),s(e)};return o.notify=s,o.updateWithNotify=P,o.updateTree=(({ast:e,variableStub:t},n,r)=>{r=r||l("update-view-data"),u(e,{queryByPath:v.queryByPath,setByPath:v.setByPath,removeByPath:v.removeByPath,appendByPath:v.appendByPath,variableMap:n,variableStub:t}),P(r)}),o.getClassName=g,e(r,o)})})},function(e,t,n){"use strict";let{styles:r}=n(2),o={position:"relative",boxSizing:"border-box",margin:0,padding:0,border:0,borderRadius:0,overflow:"auto"},i={height:"100%"},a={width:"100%"},s=r(o,{position:"fixed",left:0,top:0},a,i),l=r(o,a,i),c={appearance:"none","-webkit-appearance":"none","-moz-appearance":"none",boxShadow:"none",borderRadius:"none",border:0};e.exports={fullWindow:s,fullParent:l,fullParentWidth:a,fullParentHeight:i,container:o,flat:c}},function(e,t,n){"use strict";let r=n(3),o=n(1),i=n(20),{styles:a}=n(2);const{MODE_PERCENTAGE:s,MODE_PILE:l,MODE_PARTION:c}=n(40);let{getChildStylesInPercentage:u,getChildStylesInPile:p,getChildStylesInPartion:h}=n(41);e.exports=r(({props:e,children:t})=>{let{theme:n,style:r,mode:a,pers:d,leftPartions:f,rightPartions:m}=e;return a===l?r.childs=p(t,n,r.childs,"width"):a===s?r.childs=u(t,d,r.childs,n,"width"):a===c&&(r.childs=h(f,m,r.childs,n,"width")),o(i,{style:r.container,theme:n},[t.map((e,t)=>o("div",{style:r.childs[t]},e)),(a===s||a===l)&&o('div style="clear:both"')])},{defaultProps:{mode:l,pers:[],leftPartions:[],rightPartions:[],style:{container:{},childs:[]}}})},function(e,t){e.exports={MODE_PILE:"pile",MODE_PERCENTAGE:"percentage",MODE_PARTION:"partion"}},function(e,t,n){"use strict";let{styles:r}=n(2),o=(e,t)=>{let n=0;for(let r=0;r<t;r++){let t=e[r];n+=t=void 0===t?1:t}return n},i=(e,t,n)=>0===e?0:(void 0===t[n]?1:t[n])/e*100+"%",a=(e,t,n,o)=>r(o.container,s(e,o),"width"===e?{float:"left"}:{},t,n||{}),s=(e,t)=>"height"===e?t.fullParentWidth:t.fullParentHeight;e.exports={getChildStylesInPercentage:(e,t,n,r,s="height")=>{let l=o(t,e.length);return e.map((e,o)=>{let c=i(l,t,o);return a(s,{[s]:c},n[o],r)})},getChildStylesInPile:(e,t,n,r="height")=>e.map((e,o)=>a(r,{},n[o],t)),getChildStylesInPartion:(e,t,n,r,o="height")=>{let i=e.map((e,t)=>a(o,{[o]:e,zIndex:1},n[t],r)),s=t.map((e,t)=>a(o,{[o]:e,zIndex:2},n[i.length+1+t],r)),l=e.reduce((e,t)=>e+t,0),c=t.reduce((e,t)=>e+t,0),u=a(o,"height"===o?{height:"100%",marginBottom:-1*(l+c),paddingBottom:l+c}:{width:"100%",position:"relative",paddingLeft:l+c,marginRight:-1*(l+c),left:-1*(l+c),zIndex:0},n[i.length],r);return i.concat([u]).concat(s)}}},function(e,t,n){"use strict";let r=n(3),o=n(1),i=n(20);const{MODE_PILE:a,MODE_PERCENTAGE:s,MODE_PARTION:l}=n(40);let{getChildStylesInPercentage:c,getChildStylesInPile:u,getChildStylesInPartion:p}=n(41);e.exports=r(({props:e,children:t})=>{let{theme:n,style:r,mode:h,pers:d,topPartions:f,bottomPartions:m}=e;return h===s?r.childs=c(t,d,r.childs,n,"height"):h===a?r.childs=u(t,n,r.childs,"height"):h===l&&(r.childs=p(f,m,r.childs,n,"height")),o(i,{style:r.container,theme:n},[t.map((e,t)=>o("div",{style:r.childs[t]||{}},[e]))])},{defaultProps:{mode:a,pers:[],topPartions:[],bottomPartions:[],style:{container:{},childs:{}}}})},function(e,t,n){"use strict";let r=n(3),{styles:o}=n(2),i=n(125),{Signal:a,onSignalType:s}=n(5),l=n(1),c=n(128);e.exports=r(({props:e},{notify:t})=>{let n=(e,n)=>{void 0!==n&&t(a("click",{sourceType:e,index:n}))},r=(t,r)=>l(i,{theme:e.theme,style:e.style.logoRight,onsignal:s("click",()=>n("rightLogos",r))},[t]);return l(c,{style:e.style.container},[l("div",{style:e.style.title},e.title),e.leftLogos.map((t,r)=>l(i,{theme:e.theme,style:e.style.logoLeft,onsignal:s("click",()=>n("leftLogos",r))},[t])),e.rightLogos.reduce((e,t,n)=>(e.unshift(r(t,n)),e),[]),l('div style="clear:both"')])},{defaultProps:{title:"",leftLogos:[],rightLogos:[],signal:{type:0,sourceType:null,index:null},style:e=>({title:{textAlign:"center",color:"white",fontSize:e.basics.titleSize,lineHeight:40,position:"absolute",width:"100%"},container:o(e.oneLineBulk,e.actions.cling,{margin:0,padding:0,height:40,width:"100%",overflow:"hidden"}),logoLeft:{float:"left",height:40,cursor:"pointer"},logoRight:{float:"right",height:40,cursor:"pointer"}})}})},function(e,t,n){let r=n(126);e.exports=(({theme:e,frameName:t="ripple",className:n="btn"})=>({[`@keyframes ${t}`]:r,[`${n}::after`]:e.flatRippleMask,[`${n}:focus:not(:active)::after`]:({getClassName:e})=>({animation:`${e(t)} 1s ease-out`})}))},function(e,t){e.exports=[{name:"Resolvable one-dimension recursive algorithm",date:"2017-12-10",brief:"In recursive algorithm, we divide our problem into some sub problems. Sub problem have a less scale than origin problem. Generally, not all recursive algorithm is resolvable. In this article, we explored resolvable conditions for one-dimension recursive algorithm.",docId:"resolvable_one_dimension_recursive_algorithm"},{name:"When and how to use dynamic programming",date:"2017-10-11",brief:"Dynamic programming is a common method used to solve problems which contain optimal substructure. This article focused on the moment to use dynamic programming and make a summary. Find out when and how to write dynamic programming the key goal.",docId:"when_and_how_to_use_dynamic_programming"},{name:"Flexible UI test restraints design",date:"2017-09-27",brief:"UI changes day by day, how to define the correct state of UI became a problem. If the restraints we designed are too strong, they will be useless, because we have to change them everyday. If the restraints we designed are too weak, they won't be able to guard the UI.",docId:"flexible_UI_test_restraints_design"},{name:"Performance analysis between recursive and stack-base none-recursive simulation",date:"2017-09-09",brief:"In the bottom, recursive is running on the stack in memory. It's a top-down way to ergodic question tree. We can simulate it by using a stack to do the DFT (Depth First Traversal). How about the performance between them, what kind of conclusions we can get?",docId:"performance_analysis_between_recursive_and_stack_base_none_recursive_simulation"},{name:"Is power of 2 ^ k problem",date:"2017-09-06",brief:'We know n is a integer in 32-bit (or 64-bit) system. There is an old trick we judge n is power of 2 or 4. Today, we will try to find out a general solution for "is power of 2 ^ k".',docId:"is_power_of_2_k_problem"},{name:"Avoid casual mutable code",date:"2017-08-11",brief:"In javascript, we write mutable code a lot. Even if we did not realize that. In this article, we make a example of bab case of mutable code. Sometimes it's just a bad habit we need to change.",docId:"avoid_casual_mutable_code"}]},function(e,t,n){"use strict";let{SPA:r}=n(47),o=n(107);r({pageViewMap:n(109),pageSignalActionMap:o,pageOptionsMap:{},defaultPage:"indexPage"})},function(e,t,n){"use strict";let{router:r,queryPager:o}=n(48),{mount:i}=n(6),a=n(1),s=n(73),{signalActionFlow:l}=n(77),{Signal:c}=n(5),{wrapPagePropsWithStore:u}=n(106);let p=(e,t,{localStateStore:n=!1,localStateStoreWhiteList:r=[]}={})=>o=>{let i={onsignal:l(t,o)};n&&(i=u(i,{whiteList:r}));let s=a(e,i);return s.ctx.notify(c("kabanery_page_render")),s};e.exports={SPA:({apiPath:e="/api/pfc",apiStub:t={},containerId:n="pager",pageViewMap:l={},pageSignalActionMap:c={},pageOptionsMap:u={},defaultPage:h})=>{let{apiMap:d,runApi:f}=s(e,t),m={};for(let e in l){let t=u[e]||{},n=l[e],r=c[e]||{};m[e]={title:t[e]||e,render:p(n,r,t)}}let y={apiMap:d,runApi:f};i(a(`div id="${n}"`),document.body);let{forward:g,redirect:b,reload:v}=r(o(m,h||Object.keys(m)[0]),y,{containerId:n});y.forward=g,y.redirect=b,y.reload=v,g(window.location.href)},page:p}},function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){"use strict";let{removeChilds:r}=n(21),{mount:o}=n(6),{parse:i}=n(67);let a=(e=[],t)=>{if(null===t||void 0===t)for(let n in e){t=n;break}return t},s=(e,t,n,i)=>Promise.resolve(e(t,n)).then(e=>{let t=document.getElementById(i);if(r(t),o(e,t),t.style="display:block;",document.title=n,window.location.hash){let e=document.getElementById(window.location.hash.substring(1));e&&window.scrollTo(0,e.offsetTop)}});e.exports={router:(e,t,{onSwitchPageStart:n,onSwitchPageFinished:r,containerId:o="pager"}={})=>{let i=!1,a=(e,t,o)=>{n&&n(e,t,o);let i=l(e,t,o);return Promise.resolve(i).then(e=>{r&&r(null,e)}).catch(e=>{r&&r(e)}),i},l=(e,t,n)=>{let r=s(e,t,n,o);return i||(u(),i=!0),r},c=(n,{keepLocation:r}={})=>{if(!window.history.pushState)return void(window.location.href=n);let{render:o,title:i="",transitionData:s={}}=e(n);return n!==window.location.href&&window.history.pushState(s,i,n),r||window.scrollTo(0,0),a(o,t,i)},u=()=>{window.onpopstate=(()=>{c(window.location.href)}),document.addEventListener("click",e=>{setTimeout(()=>{let t=e.target;if(!e.__stopPropagation)for(;t;){if(t.getAttribute){let n=(t.getAttribute("href")||"").trim();if(0===n.indexOf("single://")){e.preventDefault(),e.stopPropagation(),c(n.substring("single://".length).trim());break}}t=t.parentNode}})})};return{forward:c,redirect:n=>{if(!window.history.pushState)return window.location.href=n,void window.location.replace(n);let{render:r,title:o="",transitionData:i={}}=e(n);return n!==window.location.href&&window.history.replaceState(i,o,n),a(r,t)},reload:()=>c(window.location.href,{keepLocation:!0})}},queryPager:(e=[],t)=>(t=a(e,t),n=>{let r=i(n,!0).query.page||t;return e[r]}),restPager:(e=[],t)=>(t=a(e,t),n=>{let r=n.split(/.*\:\/\//)[1].split("/")[1];return r=r||t,e[r]})}},function(e,t,n){"use strict";e.exports=(()=>{let e=document.createElement("div"),t=e.createShadowRoot();t.innerHTML='<div id="shadow-page"></div>';let n=null,r=()=>(document.getElementsByTagName("html")[0].appendChild(e),t.getElementById("shadow-page"));return{start:()=>n||(n=new Promise(e=>{document.body?e(r()):document.addEventListener("DOMContentLoaded",()=>{e(r())})})),close:()=>{n.then(()=>{let t=e.parentNode;t&&t.removeChild(e)})},sr:t,rootDiv:e}})},function(e,t,n){"use strict";let r=e=>"complete"===e.readyState||!e.attachEvent&&"interactive"===e.readyState;e.exports=((e=document)=>{let t=!1,n=[];return(()=>{let r=()=>{if(!t){t=!0;for(let e=0;e<n.length;e++)n[e]();n=[]}};e.addEventListener?(e.addEventListener("DOMContentLoaded",r),e.addEventListener("DOMContentLoaded",r)):e.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&r()})})(),({generalWaitTime:o=0,startTimeout:i=1e4}={})=>new Promise((a,s)=>{t||r(e)?setTimeout(a,o):(n.push(a),setTimeout(()=>{s(new Error("timeout"))},i))})})},function(e,t,n){"use strict";let{n:r,svgn:o,bindPlugs:i,toHTML:a,parseArgs:s,isKabaneryNode:l,cn:c,parseStyle:u}=n(11),p=n(56),h=n(59),d=n(26),f=n(66),m=n(13),{dispatchEvent:y,clearEvents:g}=n(14);e.exports={n:r,isKabaneryNode:l,cn:c,N:f,svgn:o,view:h,plugs:p,bindPlugs:i,mount:d,toHTML:a,reduceNode:m,parseArgs:s,parseStyle:u,dispatchEvent:y,clearEvents:g}},function(e,t,n){"use strict";let r=n(22),o={eq:(e,t)=>e===t},i=(e,t)=>{for(let n in t)e[n]=e[n]||t[n]},a=(e,t,n,o)=>r(e,{output:t,def:n,limit:o}),s=(e,t,n={})=>{i(n,o);let{eq:a}=n,s=r(e,{transfer:l,limit:c,predicate:e=>a(t,e),def:[]});return s.length?s[0]:-1},l=(e,t)=>t,c=(e,t,n,r,o)=>o>=1,u=e=>!e,p=e=>!!e;e.exports={map:(e,t,n)=>r(e,{transfer:t,def:[],limit:n}),forEach:(e,t)=>r(e,{limit:e=>!0===e,transfer:t,output:(e,t)=>t,def:!1}),reduce:a,find:(e,t,n)=>{let r=s(e,t,n);if(-1!==r)return e[r]},findIndex:s,filter:(e,t,n)=>a(e,(e,n,r,o)=>(t&&t(n,r,o)&&e.push(n),e),[],n),any:(e,t)=>a(e,(e,n,r,o)=>{let i=t&&t(n,r,o);return e&&p(i)},!0,u),exist:(e,t)=>a(e,(e,n,r,o)=>{let i=t&&t(n,r,o);return e||p(i)},!1,p),compact:e=>a(e,(e,t)=>(t&&e.push(t),e),[])}},function(e,t,n){"use strict";let r=n(55),{isString:o,isObject:i,isNode:a,likeArray:s,isNumber:l,isBool:c}=n(0),u=(e="")=>{if("string"!=typeof e)return[e];let t=e.split(" ")[0],n=e.substring(t.length);return n=n&&n.trim(),t=t.toLowerCase().trim(),n?[t,n]:[t]},p=e=>{let t=[];if(a(e))t.push(e);else if(s(e))for(let n=0;n<e.length;n++){let r=e[n];t=t.concat(p(r))}else e&&t.push(e);return t};e.exports=((e,{doParseStyle:t=!0}={})=>{let n,h={},d=[],f=e.shift(),m=u(f);m.length>1?(n=m[0],h=m[1]):n=f;let y=e.shift(),g={};return s(y)||o(y)||a(y)||l(y)||c(y)?d=y:i(y)&&(g=y,d=e.shift()||[]),{tagName:n,attributes:h=r(h,g,{doParseStyle:t}),childs:p(d)}})},function(e,t,n){"use strict";let{isString:r}=n(0),o=n(23),{mergeMap:i}=n(4);const a=/([\w-]+)\s*=\s*(([\w-]+)|('.*?')|(".*?"))/;e.exports=((e,t,{doParseStyle:n})=>{if(r(e)){let t=e.trim(),n=[],r=!1;for(;!r;){let e=t.replace(a,(e,t,r)=>(n.push([t,r]),"")).trim();e===t&&(r=!0),t=e}e={};for(let t=0;t<n.length;t++){let[r,o]=n[t];("'"===o[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.substring(1,o.length-1)),e[r]=o}}return(e=i(e,t)).style&&n&&(e.style=o(e.style)),e})},function(e,t,n){"use strict";let r=n(57),o=n(58);e.exports={twowaybinding:r,eventError:o}},function(e,t,n){"use strict";let{get:r,set:o}=n(9);e.exports=((e,t)=>(n,i,a)=>{let s=r(e,t,"");"input"===n?i.value=s:a.unshift(s),i.oninput||(i.oninput=(n=>{o(e,t,n.target.value)}))})},function(e,t,n){"use strict";e.exports=(e=>(t,n)=>{for(let t in n){let o=n[t];0===t.indexOf("on")&&"function"==typeof o&&(n[t]=r(o,e))}});let r=(e,t)=>(function(){try{let n=e.apply(this,arguments);return(n=Promise.resolve(n)).catch(t),n}catch(e){return t(e)}})},function(e,t,n){"use strict";let{set:r}=n(9),{isObject:o,isFunction:i,likeArray:a}=n(0),{forEach:s}=n(4),l=n(60),c=n(13),u=n(26),p=(e,t,{afterRender:n}={})=>{let r=(r,o)=>{let i=d({view:e,afterRender:n});return h(i,r,o,t)},o=r=>{r.create=(r=>{let o=d({view:e,afterRender:n});r&&r(o);let i=(e,n)=>h(o,e,n,t);return i.ctx=o,i}),r.expand=((e={})=>{let t=(...t)=>{let n=t[0];return t[0]=p.ext(n,e),r(...t)};return o(t),t})};return o(r),r};p.ext=((e,t={})=>n=>{for(let e in t)n[e]=t[e];return i(e)?e(n):e});let h=(e,t,n,r)=>{let o=e.initData(t,e);return n&&n(o,e),r&&r(o,e),e.replaceView()},d=({view:e,afterRender:t})=>{let n=null,o=null,p=null,h=(...e)=>{if(1===e.length&&a(e[0])){let t=e[0];s(t,e=>{r(o,e[0],e[1])})}else{let[t,n]=e;i(n)&&(n=n(o)),r(o,t,n)}},d=()=>{let e=m();return e=c(e),n=l(n,e),t&&t(y),n&&(n.ctx=y),n},m=()=>{p||(p=e);let t=p(o,y);return i(t)?(p=t)(o,y):t},y={update:(...e)=>(h(...e),d()),updateData:h,getNode:()=>n,getData:()=>o,transferCtx:e=>{n=e,e.ctx=y},initData:(e={})=>o=f(e,y),replaceView:d,appendView:e=>{n&&u(e,n)},getCtx:()=>y};return y},f=(e,t)=>{let n=null;if(n=i(e)?e(t):e,!o(n))throw new TypeError(`Expect object, but got ${n}. Type is ${typeof n}`);return n};e.exports=p},function(e,t,n){"use strict";let{toArray:r}=n(9),{isNode:o}=n(0),{forEach:i}=n(4),{eventMapHook:a}=n(12),s=n(63),l=(e,t)=>{let n=e.parentNode;return n?(n.replaceChild(t,e),t):e},c=e=>{let t=e.parentNode;t&&t.removeChild(e)},u=(e,t)=>{if(!t)return c(e);if(3===e.nodeType&&3===t.nodeType&&(e.textContent=t.textContent),o(e)&&o(t)){if(3===e.nodeType&&3===t.nodeType)return e.textContent=t.textContent,e;if(e.tagName!==t.tagName||"INPUT"===e.tagName)return l(e,t);p(e,t)}return e},p=(e,t)=>{s(e,t),t.ctx&&t.ctx.transferCtx(e),t[a]&&(e[a]=t[a]);let n=r(e.childNodes),o=r(t.childNodes);h(n,o,e)},h=(e,t,n)=>(d(e,t),i(e,(e,n)=>{u(e,t[n])}),f(e,t,n),e),d=(e,t)=>{for(let n=t.length;n<e.length;n++)c(e[n])},f=(e,t,n)=>{for(let r=e.length;r<t.length;r++){let e=t[r];n.appendChild(e)}};e.exports=((e,t)=>{let n=null;return e?t?n=u(e,t):(c(e),n=null):n=t,n})},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(25))},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},function(e,t,n){"use strict";let{getAttributeMap:r}=n(21),{hasOwnProperty:o}=n(9),{forEach:i}=n(4);e.exports=((e,t)=>{let n=r(e.attributes),a=r(t.attributes);i(n,(t,n)=>{if(o(a,n)){let r=a[n];r!==t&&e.setAttribute(n,r)}else e.removeAttribute(n)}),i(a,(t,r)=>{o(n,r)||e.setAttribute(r,t)})})},function(e,t,n){"use strict";let{isNode:r}=n(0);let o=(e,t,n)=>{for(let n in t){let r=t[n];e.setAttribute(n,r)}for(let t=0;t<n.length;t++){let o=n[t];r(o)?e.appendChild(o):e.textContent=o+""}};e.exports={createElement:(e,t,n)=>{let r=document.createElement(e);return o(r,t,n),r},createSvgElement:(e,t,n)=>{let r=document.createElementNS("http://www.w3.org/2000/svg",e);return o(r,t,n),r}}},function(e,t,n){"use strict";let{contain:r}=n(4),{eventMapHook:o,globalEventTypePrefix:i,stopPropagationFlag:a}=n(12);e.exports=(()=>{let e=[],t={},n={},i=t=>{e.length||e.push(document);for(let n=0;n<e.length;n++){let r=e[n];c(r,t)}},c=(e,t)=>{let r=null;n[t]?r=n[t]:(r=p(t),n[t]=r),e.addEventListener(t,r)},u=r=>{let o=n[r];if(o){for(let t=0;t<e.length;t++)e[t].removeEventListener(r,o);delete n[r],delete t[r]}},p=e=>(function(t){let n=this,r=t.target,o=t.stopPropagation;t.stopPropagation=function(...e){return t[a]=!0,o&&o.apply(this,e)};let i=s(r);for(let r=0;r<i.length;r++){let o=i[r];h(t,e,o,n)}}),h=(e,t,n,r)=>{if(e.__stopPropagation)return!0;let o=d(t,n);return o&&o.apply(r,[e])},d=(e,t)=>{let n=t&&t[o];return n&&n[e]};return{listenEventType:e=>{t[e]||i(e),t[e]=!0},clearEvents:()=>{for(let e in t)u(e)},removeListenerType:u,getDocs:()=>e.slice(0),attachDocument:(n=document)=>{if(!r(e,n)){for(let e in t){let t=l(e);n[t]||(c(n,e),n[t]=!0)}e.push(n)}},dispatchEvent:(e,t)=>{let r=n[e];r&&r(t)}}});let s=e=>{let t=[];for(;e;)t.push(e),e=e.parentNode;return t},l=e=>`${i}${e}`},function(e,t,n){"use strict";let{n:r}=n(11),{isArray:o,isFunction:i,isObject:a}=n(0),{map:s}=n(4);e.exports=((...e)=>{let t=e[0],n={},l=[];return o(e[1])?l=e[1]:i(e[1])?l=[e[1]]:a(e[1])&&(n=e[1],o(e[2])?l=e[2]:i(e[2])&&(l=[e[2]])),(...e)=>{let a=t=>s(t,t=>o(t)?a(t):i(t)?t(...e):t);return r(t,n,a(l))}})},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&a.isObject(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}var i=n(68),a=n(70);t.parse=o,t.resolve=function(e,t){return o(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var s=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(u),h=["'"].concat(p),d=["%","/","?",";","#"].concat(h),f=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=n(15);r.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",l=e.split(o),u=/\\/g;l[0]=l[0].replace(u,"/");var p=e=l.join(o);if(p=p.trim(),!n&&1===e.split("#").length){var S=c.exec(p);if(S)return this.path=p,this.href=p,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?P.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=s.exec(p);if(T){var E=(T=T[0]).toLowerCase();this.protocol=E,p=p.substr(T.length)}if(n||T||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===p.substr(0,2);!w||T&&b[T]||(p=p.substr(2),this.slashes=!0)}if(!b[T]&&(w||T&&!v[T])){for(var _=-1,A=0;A<f.length;A++)-1!==(x=p.indexOf(f[A]))&&(-1===_||x<_)&&(_=x);var N,I;-1!==(I=-1===_?p.lastIndexOf("@"):p.lastIndexOf("@",_))&&(N=p.slice(0,I),p=p.slice(I+1),this.auth=decodeURIComponent(N)),_=-1;for(A=0;A<d.length;A++){var x=p.indexOf(d[A]);-1!==x&&(-1===_||x<_)&&(_=x)}-1===_&&(_=p.length),this.host=p.slice(0,_),p=p.slice(_),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var O=this.hostname.split(/\./),A=0,R=O.length;A<R;A++){var M=O[A];if(M&&!M.match(m)){for(var L="",U=0,C=M.length;U<C;U++)M.charCodeAt(U)>127?L+="x":L+=M[U];if(!L.match(m)){var D=O.slice(0,A),j=O.slice(A+1),B=M.match(y);B&&(D.push(B[1]),j.unshift(B[2])),j.length&&(p="/"+j.join(".")+p),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=i.toASCII(this.hostname));var H=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+H,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==p[0]&&(p="/"+p))}if(!g[E])for(var A=0,R=h.length;A<R;A++){var $=h[A];if(-1!==p.indexOf($)){var F=encodeURIComponent($);F===$&&(F=escape($)),p=p.split($).join(F)}}var Y=p.indexOf("#");-1!==Y&&(this.hash=p.substr(Y),p=p.slice(0,Y));var Q=p.indexOf("?");if(-1!==Q?(this.search=p.substr(Q),this.query=p.substr(Q+1),t&&(this.query=P.parse(this.query)),p=p.slice(0,Q)):t&&(this.search="",this.query={}),p&&(this.pathname=p),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",q=this.search||"";this.path=H+q}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(i=P.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+o+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(a.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var p=Object.keys(e),h=0;h<p.length;h++){var d=p[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||b[e.protocol])n.pathname=e.pathname;else{for(E=(e.pathname||"").split("/");E.length&&!(e.host=E.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==E[0]&&E.unshift(""),E.length<2&&E.unshift(""),n.pathname=E.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",m=n.search||"";n.path=f+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),P=g||y||n.host&&e.pathname,S=P,T=n.pathname&&n.pathname.split("/")||[],E=e.pathname&&e.pathname.split("/")||[],w=n.protocol&&!v[n.protocol];if(w&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===E[0]?E[0]=e.host:E.unshift(e.host)),e.host=null),P=P&&(""===E[0]||""===T[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,T=E;else if(E.length)T||(T=[]),T.pop(),T=T.concat(E),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search))return w&&(n.hostname=n.host=T.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=T.slice(-1)[0],A=(n.host||e.host||T.length>1)&&("."===_||".."===_)||""===_,N=0,I=T.length;I>=0;I--)"."===(_=T[I])?T.splice(I,1):".."===_?(T.splice(I,1),N++):N&&(T.splice(I,1),N--);if(!P&&!S)for(;N--;N)T.unshift("..");!P||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),A&&"/"!==T.join("/").substr(-1)&&T.push("");var x=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(w){n.hostname=n.host=x?"":T.length?T.shift():"";var k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");k&&(n.auth=k.shift(),n.host=n.hostname=k.shift())}return(P=P||n.host&&T.length)&&!x&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var o;!function(i){function a(e){throw new RangeError(k[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+s((e=e.replace(x,".")).split("."),t).join(".")}function c(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function u(e){return s(e,function(e){var t="";return e>65535&&(t+=M((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function p(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:v}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?R(e/E):e>>1,e+=R(e/t);e>O*S>>1;r+=v)e=R(e/O);return R(r+(O+1)*e/(e+T))}function f(e){var t,n,r,o,i,s,l,c,h,f,m=[],y=e.length,g=0,T=_,E=w;for((n=e.lastIndexOf(A))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(i=g,s=1,l=v;o>=y&&a("invalid-input"),((c=p(e.charCodeAt(o++)))>=v||c>R((b-g)/s))&&a("overflow"),g+=c*s,h=l<=E?P:l>=E+S?S:l-E,!(c<h);l+=v)s>R(b/(f=v-h))&&a("overflow"),s*=f;E=d(g-i,t=m.length+1,0==i),R(g/t)>b-T&&a("overflow"),T+=R(g/t),g%=t,m.splice(g++,0,T)}return u(m)}function m(e){var t,n,r,o,i,s,l,u,p,f,m,y,g,T,E,N=[];for(y=(e=c(e)).length,t=_,n=0,i=w,s=0;s<y;++s)(m=e[s])<128&&N.push(M(m));for(r=o=N.length,o&&N.push(A);r<y;){for(l=b,s=0;s<y;++s)(m=e[s])>=t&&m<l&&(l=m);for(l-t>R((b-n)/(g=r+1))&&a("overflow"),n+=(l-t)*g,t=l,s=0;s<y;++s)if((m=e[s])<t&&++n>b&&a("overflow"),m==t){for(u=n,p=v;f=p<=i?P:p>=i+S?S:p-i,!(u<f);p+=v)E=u-f,T=v-f,N.push(M(h(f+E%T,0))),u=R(E/T);N.push(M(h(u,0))),i=d(n,g,r==o),n=0,++r}++n,++t}return N.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var y="object"==typeof r&&r;var g,b=2147483647,v=36,P=1,S=26,T=38,E=700,w=72,_=128,A="-",N=/^xn--/,I=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=v-P,R=Math.floor,M=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:c,encode:u},decode:f,encode:m,toASCII:function(e){return l(e,function(e){return I.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return l(e,function(e){return N.test(e)?f(e.slice(4).toLowerCase()):e})}},void 0!==(o=function(){return g}.call(t,n,t,e))&&(e.exports=o)}()}).call(t,n(69)(e),n(25))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var p,h,d,f,m=e[u].replace(s,"%20"),y=m.indexOf(n);y>=0?(p=m.substr(0,y),h=m.substr(y+1)):(p=m,h=""),d=decodeURIComponent(p),f=decodeURIComponent(h),r(a,d)?o(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[a]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";let r=n(74),o=n(76);e.exports=((e,t)=>{let n=o(e),a=r(t),s={};for(let e in a){let t=a[e];s[e]="function"==typeof t?(...e)=>{let n=()=>{let n=[];for(let t=0;t<e.length;t++){let r=e[t];i(r)?n.push(r()):n.push(r)}return t(...n)};return n.tag="lazy",n}:t}return{apiMap:s,runApi:e=>{try{return i(e)&&(e=e()),n(e.code)}catch(e){return Promise.reject(e)}}}});let i=e=>"function"==typeof e&&"lazy"===e.tag},function(e,t,n){"use strict";let{isObject:r,isFunction:o}=n(75);e.exports=((e={})=>{let t={};for(let n in e)"function"===e[n].type?t[n]=((...t)=>a(n,t,e[n]||{})):t[n]=i(n);return t});let i=e=>({code:`${e}`,type:"variable"}),a=(e,t,n)=>{let i=`${e}(`,a=!0,l=[];for(let e=0;e<t.length;e++){let c=t[e];r(c)&&"function"===c.type?(i+=c.code,a=!1):r(c)&&"variable"===c.type?(i+=c.code,a=!1):(l.push(c),o(n.validateParamItem)&&n.validateParamItem(c,e),i+=s(c)),e<t.length-1&&(i+=",")}return a&&o(n.validateParams)&&n.validateParams(l),i+=")",{type:"function",code:i}},s=e=>{if("string"==typeof e)return JSON.stringify(e);if(null===e)return"null";if(!0===e)return"true";if(!1===e)return"false";if("number"==typeof e)return e+"";throw new Error(`unexpected atom type in pfc, atom is ${e}.`)}},function(e,t){e.exports={processTokens:e=>{let t=[];for(let n=0;n<e.length;n++){let{text:r,tokenType:o}=e[n],i=o.name;"whitespace"!==i&&t.push({text:r,name:i})}return t},getProductionId:e=>`${e[0]} := ${e[1].join(" ")}`,isFunction:e=>"function"==typeof e,isObject:e=>e&&"object"==typeof e}},function(e,t,n){"use strict";e.exports=((e="/api/pfc")=>t=>new Promise((n,r)=>{let o=new XMLHttpRequest;o.onreadystatechange=(()=>{if(o.readyState===XMLHttpRequest.DONE)if(200===o.status){let{errno:e,errMsg:t,data:i}=JSON.parse(o.responseText);0===e?n(i):r(new Error((t.split(":")[1]||"").trim()))}else r(new Error(`status code is ${o.status}`))}),o.open("post",e),o.send(t)}))},function(e,t,n){"use strict";let{signalUpdateStateRunner:r,signalSendRequestRunner:o,responseUpdateStateRunner:i,responseErrorRunner:a}=n(78);let s=(e,t,n,r,o)=>Promise.all(t.map(t=>t.content(e,n,r,o))),l=(e,t,{variableStub:n})=>{for(let r in e){let o=e[r];if(!Array.isArray(o))throw new Error(`Expect array for actions in signal action map. But got ${o}.`);for(let e=0;e<o.length;e++)c(o[e],t,{variableStub:n})}},c=(e,t,{variableStub:n})=>{let s=e.type,l=e.content;if("updateState"===s){if("function"!=typeof l){let o=r(l,u(t,e),{variableStub:p(n,e)});e.content=((...e)=>new Promise((t,n)=>{try{t(o(...e))}catch(e){n(e)}}))}}else{if("sendRequest"!==s)throw new Error(`unexpected action type for a signal action, type is ${s}`);if("function"!=typeof l){let r=u(t,e),s=p(n,e),c=o(l,r,{variableStub:s}),h=e.response&&i(e.response,r,{variableStub:s}),d=e.error&&a(e.error,r,{variableStub:s});e.content=((e,t,n,r)=>c(e,t,n,r).then(e=>h&&h(e,t,n)).catch(e=>{throw d&&d(e,t,n),e}))}}},u=(e,t)=>t.variableMap?Object.assign({},e,t.variableMap):e,p=(e,t)=>t.variableStub?Object.assign({},e,t.variableStub):e;e.exports={signalActionFlow:(e,t,n={},{variableStub:r}={})=>(l(e,n,{variableStub:r}),(n,r,o)=>{let i=e[n.type]||[];return s(n,i,r,o,t)}),runSignalActions:s}},function(e,t,n){"use strict";let{parseStrToAst:r,checkAST:o,executeAST:i}=n(16),a=n(35);const s={localStorage:"undefined"!=typeof localStorage&&localStorage};let l=(e,t)=>{let n=r(e);return t&&o(n,{variableStub:t}),n},c=(e,t,n,r)=>{let o=a(e);return i(t,{queryByPath:o.queryByPath,setByPath:o.setByPath,removeByPath:o.removeByPath,appendByPath:o.appendByPath,variableMap:n,variableStub:r})};e.exports={signalUpdateStateRunner:(e,t,{variableStub:n}={})=>{let r=l(e,n);return(e,o,i)=>{let a=Object.assign({signal:e,viewState:o},s);c(a,r,t,n),i.updateWithNotify()}},signalSendRequestRunner:(e,t,{variableStub:n}={})=>{let r=l(e,n);return(e,o,i,{runApi:a,apiMap:l})=>{let u=Object.assign({signal:e,viewState:o},s);return a(c(u,r,Object.assign({},t,l),n))}},responseUpdateStateRunner:(e,t,{variableStub:n}={})=>{let r=l(e,n);return(e,o,i)=>{c(Object.assign({response:e,viewState:o},s),r,t,n),i.updateWithNotify()}},responseErrorRunner:(e,t,{variableStub:n}={})=>{let r=l(e,n);return(e,o,i)=>{c(Object.assign({errorMsg:e.toString(),error:e,viewState:o,ctx:i},s),r,t,n),i.updateWithNotify()}}}},function(e,t,n){"use strict";let r=n(80),{checkAST:o,runTimeCheck:i,getVariable:a}=n(104),{T_ATOM:s,T_PATH:l,T_ASSIGN:c,T_DELETE:u,T_APPEND:p,T_VARIABLE_NAME:h,T_FUNCTION:d,T_NODE_NAME:f,T_NODE_NAME_VARIABLE:m}=n(19),y=(e,t)=>{let n=[];for(let r=0;r<e.length;r++){let{type:o,value:i}=e[r];o===f?n.push(i):o===m&&n.push(t[i])}return n};e.exports={parser:r,parseStrToAst:e=>{let t=r();return e&&t(e),t(null)},executeAST:(e,{queryByPath:t,setByPath:n,removeByPath:r,appendByPath:o,variableMap:f={},variableStub:m={},skipCheck:g=!1})=>{g||i(m,f);let b=[];for(let t=0;t<e.length;t++)b.unshift({node:e[t],visited:!1});let v=[];for(;b.length;){let e=b[b.length-1],i=e.node;if(i.type===s)v.push(i.value),b.pop();else if(i.type===h){let e=i.value,t=a(e,f,m);v.push(t),b.pop()}else if(i.type===l)v.push(t(y(i.value,f))),b.pop();else if(i.type===d){let{funName:t,params:n}=i.value;if(e.visited){let e=[];for(let t=0;t<n.length;t++)e.push(v.pop());v.push(f[t](...e)),b.pop()}else{e.visited=!0;for(let e=0;e<n.length;e++)b.push({node:n[e],visited:!1})}}else if(i.type===c){let{path:t,value:r}=i.value;if(e.visited){let e=v.pop();v.push(n(y(t.value,f),e)),b.pop()}else e.visited=!0,b.push({node:r,visited:!1})}else if(i.type===u){let{path:e}=i.value;v.push(r(y(e.value,f))),b.pop()}else if(i.type===p){let{path:t,value:n}=i.value;if(e.visited){let e=v.pop();v.push(o(y(t.value,f),e)),b.pop()}else e.visited=!0,b.push({node:n,visited:!1})}}return v[v.length-1]},checkAST:o}},function(e,t,n){"use strict";let r=n(27),{LR:o}=n(90),{getProductionId:i,processTokens:a}=n(34),s=n(101),{ACTION:l,GOTO:c}=n(103),{P_PROGRAM:u,P_EXPRESSION_LIST_0:p,P_EXPRESSION_LIST_1:h,P_EXPRESSION_0:d,P_EXPRESSION_1:f,P_EXPRESSION_2:m,P_UPDATE_EXPRESSION_0:y,P_UPDATE_EXPRESSION_1:g,P_UPDATE_EXPRESSION_2:b,P_QUERY_EXPRESSION_0:v,P_QUERY_EXPRESSION_1:P,P_QUERY_EXPRESSION_2:S,P_QUERY_EXPRESSION_3:T,P_QUERY_EXPRESSION_4:E,P_QUERY_EXPRESSION_LIST_0:w,P_QUERY_EXPRESSION_LIST_1:_,P_PATH_0:A,P_PATH_1:N,P_PATH_2:I,P_PATH_3:x,P_ATOM_DATA_0:k,P_ATOM_DATA_1:O,P_ATOM_DATA_2:R,P_ATOM_DATA_3:M,P_ATOM_DATA_4:L,T_ATOM:U,T_PATH:C,T_ASSIGN:D,T_DELETE:j,T_APPEND:B,T_VARIABLE_NAME:H,T_FUNCTION:X,T_NODE_NAME:$,T_NODE_NAME_VARIABLE:F}=n(19);e.exports=(()=>{let e=r.parser(s),t=o(l,c,{reduceHandler:(e,t)=>{switch(i(e)){case u:t.value=t.children[0].value;break;case p:t.value=null===t.children[0].value?[]:[t.children[0].value];break;case h:t.value=(null===t.children[0].value?[]:[t.children[0].value]).concat(t.children[2].value);break;case d:case f:t.value=t.children[0].value;break;case m:t.value=null;break;case y:t.value={type:D,value:{path:t.children[0].value,value:t.children[2].value}};break;case g:t.value={type:j,value:{path:t.children[1].value}};break;case b:t.value={type:B,value:{path:t.children[1].value,value:t.children[3].value}};break;case v:t.value=t.children[0].value;break;case P:t.value={type:H,value:t.children[0].token.text};break;case S:t.value=t.children[0].value;break;case T:t.value={type:X,value:{funName:t.children[0].token.text,params:[]}};break;case E:t.value={type:"function",value:{funName:t.children[0].token.text,params:t.children[2].value}};break;case w:t.value=[t.children[0].value];break;case _:t.value=[t.children[0].value].concat(t.children[2].value);break;case A:t.value={type:C,value:[{type:$,value:t.children[0].token.text.substring(1)}]};break;case N:t.value={type:C,value:[{type:$,value:t.children[0].token.text.substring(1)}].concat(t.children[1].value.value)};break;case I:var n=t.children[0].token.text;t.value={type:C,value:[{type:F,value:n.substring(2,n.length-1).trim()}]};break;case x:var r=t.children[0].token.text;t.value={type:C,value:[{type:F,value:r.substring(2,r.length-1).trim()}].concat(t.children[1].value.value)};break;case k:t.value={type:U,value:!0};break;case O:t.value={type:U,value:!1};break;case R:t.value={type:U,value:null};break;case M:var o=t.children[0].token.text;t.value={type:U,value:JSON.parse(o)};break;case L:var a=t.children[0].token.text;t.value={type:U,value:Number(a)}}}});return n=>{let r=n&&n.toString(),o=a(e(r));for(let e=0;e<o.length;e++)t(o[e]);if(null===n)return t(null).children[0].value}})},function(e,t,n){"use strict";let{isString:r,funType:o,listType:i,isFunction:a,mapType:s,isFalsy:l,isNumber:c,or:u}=n(0),{WAIT:p,MATCH:h,QUIT:d}=n(17),{stateGraphDSL:f}=n(10),m=n(87),{map:y}=n(4),{getMatch:g}=n(88),{findToken:b,filterTypes:v}=n(89),{assembleToken:P}=n(31),S=o(e=>{e=y(e,e=>{let{priority:t,name:n,independent:r,match:o}=e;if(n=n||o&&o.toString(),o=g(o),!a(o))throw new Error(`Error match in token type ${T(e)}`);return{priority:t||0,name:n,match:o,independent:r}});let t="";return n=>{if(null===n){let n=E(t,e);return t="",n}t+=n.toString();let{rest:r,tokens:o}=w(t,e);return t=r,o}},[i(s({priority:u(l,c),name:u(l,r)}))]),T=({priority:e,match:t,name:n,independent:r})=>`{\n        priority: ${e},\n        match: ${t},\n        name: ${n},\n        independent: ${r}\n    }`;S.parse=((e,t)=>{let n=S(t);return n(e).concat(n(null))});let E=(e,t)=>{let{tokens:n}=w(e,t,"end");return n},w=(e,t,n)=>{let r,o=[];for(;e&&(r=_(e,t,n));){let{token:t,rest:n}=r;e=n,o.push(t)}return{tokens:o,rest:e}},_=(e,t,n="mid")=>{let r=e,o="",i=[],a=t;for(;r;){let t=r[0];o+=t,r=r.substring(1);let[n,s,l]=v(t,o,a);if(a=n,l)return N(P(l,o),e);if(!n.length&&!s.length)return A(e,i,o);i.push({partTypes:n,matchTypes:s,prefix:o})}return o===e&&"end"===n?A(e,i,o):null},A=(e,t,n)=>{let r=b(t);if(!r)throw new Error(`Can not find token from prefix "${n}". And prefix is not any part of token. stock is "${e}".`);return N(r,e)},N=(e,t)=>({token:e,rest:t.substring(e.text.length)});e.exports={parser:S,WAIT:p,QUIT:d,MATCH:h,stateGraphDSL:f,buildFSM:m}},function(e,t,n){"use strict";let{QUIT:r,WAIT:o,MATCH:i}=n(83),a=n(84);let s=function(e,t){this.currentState="__start__state__",this.stateMap=e,this.acceptStateMap=t};s.prototype.transit=function(e){let t=this.stateMap[this.currentState];if(!t)return{type:r,state:this.currentState};let n=t(e);return a.isEpsilonTransition(n)?(this.currentState=n.state,this.transit(e)):void 0===n?{type:r,state:this.currentState}:(this.currentState=n,this.acceptStateMap[n]?{type:i,state:this.currentState}:{type:o,state:this.currentState})},e.exports={fsm:e=>{let{transitions:t,acceptStateMap:n}=a.transitionMaper(a.g("__start__state__",a.c(null,e))),r=new s(t,n);return e=>r.transit(e)},stateGraphDSL:a,DFA:s,QUIT:r,WAIT:o,MATCH:i}},function(e,t,n){"use strict";e.exports={WAIT:2,MATCH:1,QUIT:0}},function(e,t,n){"use strict";let r=n(28),{isNormalAction:o,isRangeAction:i,isUnionAction:a,isLeftAction:s,isEpsilonAction:l}=r,{graph:c,connect:u,repeat:p,sequence:h,circle:d,isEpsilonTransition:f}=n(85),{mergeMap:m}=n(29),y=e=>{let t=g(e),n=[];for(let e in t)0===t[e]&&n.push(e);return n},g=e=>{let t={},{transitionMap:n}=e;for(let e in n){let r=n[e];t[e]=r.length;for(let e=0;e<r.length;e++){let{state:n}=r[e];t[n]=t[n]||0}}return t},b=(e,t)=>{let n={},r={};for(let t in e){let n=e[t];r[n]=r[n]||[],r[n].push(t)}for(let e=0;e<t.length;e++)n[t[e]]=!0;let o=0;for(;;){let e=o;for(let e in n){let t=r[e];if(t)for(let e=0;e<t.length;e++)n[t[e]]||(n[t[e]]=!0,o++)}if(o===e)break}return n},v=(e,t)=>{if(o(e)&&e.content===t)return!0;if(i(e)&&e.start<=t&&t<=e.end)return!0;if(a(e)){let{actions:n}=e;for(let e=0;e<n.length;e++)if(v(n[e],t))return!0}return!1},P=e=>{let t={};for(let n in e){let r=e[n],o=T(r,l);o&&(t[n]=o)}return t},S=e=>{let t={};for(let n in e){let r=e[n],o=T(r,s);o&&(t[n]=o)}return t},T=(e,t)=>{for(let n=e.length-1;n>=0;n--){let{action:r,state:o}=e[n];if(E(r,t))return o}},E=(e,t)=>{if(!a(e))return t(e);{let{actions:n}=e;for(let e=0;e<n.length;e++)if(E(n[e],t))return!0}return!1};e.exports=m(r,{graph:c,connect:u,transitionMaper:e=>{let t={},{transitionMap:n}=e,r=y(e),o=S(n),i=P(n);for(let e in n){let r=n[e];t[e]=(t=>{for(let e=r.length-1;e>=0;e--){let{state:n,action:o}=r[e];if(v(o,t))return n}return o[e]?o[e]:i[e]?{type:"deliver",state:i[e]}:void 0})}return{transitions:t,acceptStateMap:b(i,r)}},repeat:p,sequence:h,circle:d,isEpsilonTransition:f,g:c,c:u})},function(e,t,n){"use strict";let{isString:r,isObject:o}=n(0),i=n(28),{toAction:a}=i,{mergeMap:s}=n(29),l=0,c=()=>`__auto_state_name_${l++}`,u=(...e)=>{let t=null,n=null;r(e[0])?(t=e[0],n=e.slice(1)):(t=c(),n=e);let o={};o[t]=[];for(let e=0;e<n.length;e++){let{action:i,nextGraph:a}=n[e],s=r(a)?a:a.state;o[t].push({action:i,state:s});for(let e in a.transitionMap){if(o[e])throw new Error(`repeated state name for different state, name is ${e}`);o[e]=a.transitionMap[e]}}return{state:t,transitionMap:o}},p=(e,t)=>(e=a(e),t||(t=c()),{action:e,nextGraph:t}),h=(...e)=>{let t=e.slice(0,-1),n=e[e.length-1],r=t[0];if(t.length<=1)return p(r,n);let o=t.slice(1).concat([n]);return p(r,u(h(...o)))};e.exports=s(i,{graph:u,connect:p,repeat:(e,t,n)=>{let r=[];for(let n=0;n<t;n++)r.push(e);return r.push(n),h(...r)},sequence:h,circle:(e,t)=>{let n=c();return u(n,p(e,n),p(null,t))},isEpsilonTransition:e=>o(e)&&"deliver"===e.type})},function(e,t,n){"use strict";let{iterate:r}=n(30),{isFunction:o}=n(0),i={eq:(e,t)=>e===t},a=(e,t)=>{for(let n in t)e[n]=e[n]||t[n]},s=(e,t,n,o)=>r(e,{output:t,def:n,limit:o}),l=(e,t,n={})=>{a(n,i);let{eq:s}=n,l=o(t)?t:e=>s(t,e),p=r(e,{transfer:c,limit:u,predicate:l,def:[]});return p.length?p[0]:-1},c=(e,t)=>t,u=(e,t,n,r,o)=>o>=1,p=e=>!e,h=e=>!!e;e.exports={overArgs:(e,t)=>(...n)=>{let r=t(...n);return e(...r)},map:(e,t,n)=>r(e,{transfer:t,def:[],limit:n}),forEach:(e,t)=>r(e,{limit:e=>!0===e,transfer:t,output:(e,t)=>t,def:!1}),reduce:s,find:(e,t,n)=>{let r=l(e,t,n);if(-1!==r)return e[r]},findIndex:l,filter:(e,t,n)=>s(e,(e,n,r,o)=>(t&&t(n,r,o)&&e.push(n),e),[],n),any:(e,t)=>s(e,(e,n,r,o)=>{let i=t&&t(n,r,o);return e&&h(i)},!0,p),exist:(e,t)=>s(e,(e,n,r,o)=>{let i=t&&t(n,r,o);return e||h(i)},!1,h),compact:e=>s(e,(e,t)=>(t&&e.push(t),e),[]),reverse:e=>s(e,(e,t)=>(e.unshift(t),e),[])}},function(e,t,n){"use strict";let{stateGraphDSL:r,DFA:o}=n(10);e.exports=((e,t)=>{let n=null,{transitions:i,acceptStateMap:a}=r.transitionMaper(r.g("__start__state__",r.c(null,e)),t);return(e,t)=>1===e.length?(n=new o(i,a)).transit(t).type:n.transit(t).type})},function(e,t,n){"use strict";let{isString:r,isFunction:o}=n(0),{MATCH:i,WAIT:a,QUIT:s}=n(17),l=e=>t=>e===t?i:-1!==e.indexOf(t)?a:s;e.exports={getMatch:e=>o(e)?e:r(e)?l(e):void 0}},function(e,t,n){"use strict";let{WAIT:r,MATCH:o}=n(17),{assembleToken:i}=n(31);e.exports={findToken:e=>{let t=null;for(let n=0;n<e.length;n++){let{prefix:r,matchTypes:o}=e[n];for(let e=0;e<o.length;e++){let n=o[e];(!t||n.priority>t.tokenType.priority||n.priority===t.tokenType.priority&&r.length>t.text.length)&&(t=i(n,r))}}return t},filterTypes:(e,t,n)=>{let i=[],a=[],s=null,l=n.length;for(let c=0;c<l;c++){let l=n[c],u=l.match(t,e);u===r?i.push(l):u===o&&(a.push(l),i.push(l),!s&&l.independent&&(s=l))}return[i,a,s]}}},function(e,t,n){"use strict";e.exports=n(91)},function(e,t,n){"use strict";let r=n(92),o=n(95),i=n(100),{forEach:a}=n(7);e.exports={LR:r,LR1Table:o,parse:(e,t)=>{let{ACTION:n,GOTO:s}=o(i(e));return e=>{let o=r(n,s,t);return a(e,o),o(null)}},ctxFreeGrammer:i,buildLR1Table:e=>{let t=i(e);return o(t)}}},function(e,t,n){"use strict";let{END_SYMBOL:r,EXPAND_START_SYMBOL:o}=n(32),{initAST:i,reduceAST:a,appendToken:s}=n(93);e.exports=((e,t,{reduceHandler:n,acceptHandler:a}={})=>{let d=l(),f=i(o),m=(t,n)=>{let r=e[t][n.name];return r||{type:"error",errorMsg:`unexpected symbol (token.name) ${n.name}, token (token.text) is ${n.text}. Try to find ACTION from state ${t}.`}},y=(e,n)=>{let r=t[e][n.name];if(void 0===r)throw new Error(`fail to goto state from ${e} and symbol (token.name) is ${n.name}, token (token.text) is ${n.text}. Try to do GOTO from state ${e}, but next state not exists.`);return r},g=()=>{let e=p(d),t=h(d),r=m(e,t);switch(r.type){case"shift":c(d,r.state,t),f=s(f,t);break;case"reduce":f=u(f,r.production,d,y,n);break;case"error":throw new Error(r.errorMsg);case"accept":d[1]=[],a&&a(f);break;default:throw new Error(`unexpected action type ${r.type}, when try to recoginise from [${e}, ${t.name}]. Token is ${t.text}`)}};return e=>{if(null===e){for(d[1].push({name:r});d[1].length;)g();return f}for(d[1].push(e);d[1].length>1;)g()}});let l=()=>[[0],[]],c=(e,t,n)=>{let r=e[0],o=e[1];r.push(n,t),o.shift()},u=(e,[t,n],r,o,i)=>{let s=r[0],l=[];for(let e=0;e<n.length;e++)s.pop(),l.push(s.pop());let c=p(r);s.push(t),s.push(o(c,{name:t,text:`[none terminal symbol] ${t}`}));let{newAst:u,midNode:h}=a(e,e.children.length-n.length,e.children.length-1,t);return i&&i([t,n],h,l,e),u},p=e=>{let t=e[0];return t[t.length-1]},h=e=>e[1][0]},function(e,t,n){"use strict";let{map:r}=n(7);let o=e=>({type:"terminal",symbol:e.name,token:e});e.exports={initAST:(e,t=[])=>({type:"none-terminal",symbol:e,children:r(t,o)}),reduceAST:(e,t=0,n=0,r)=>{let o={type:"none-terminal",symbol:r},i=e.children.splice(t,n-t+1,o);return o.children=i,{newAst:e,midNode:o}},appendToken:(e,t)=>(e.children.push(o(t)),e)}},function(e,t,n){"use strict";let{iterate:r}=n(33),{isFunction:o}=n(0),i={eq:(e,t)=>e===t},a=(e,t)=>{for(let n in t)e[n]=e[n]||t[n]},s=(e,t,n,o)=>r(e,{output:t,def:n,limit:o}),l=(e,t,n={})=>{a(n,i);let{eq:s}=n,l=o(t)?t:e=>s(t,e),p=r(e,{transfer:c,limit:u,predicate:l,def:[]});return p.length?p[0]:-1},c=(e,t)=>t,u=(e,t,n,r,o)=>o>=1,p=e=>!e,h=e=>!!e;e.exports={overArgs:(e,t)=>(...n)=>{let r=t(...n);return e(...r)},map:(e,t,n)=>r(e,{transfer:t,def:[],limit:n}),forEach:(e,t)=>r(e,{limit:e=>!0===e,transfer:t,output:(e,t)=>t,def:!1}),reduce:s,find:(e,t,n)=>{let r=l(e,t,n);if(-1!==r)return e[r]},findIndex:l,filter:(e,t,n)=>s(e,(e,n,r,o)=>(t&&t(n,r,o)&&e.push(n),e),[],n),any:(e,t)=>s(e,(e,n,r,o)=>{let i=t&&t(n,r,o);return e&&h(i)},!0,p),exist:(e,t)=>s(e,(e,n,r,o)=>{let i=t&&t(n,r,o);return e||h(i)},!1,h),compact:e=>s(e,(e,t)=>(t&&e.push(t),e),[]),reverse:e=>s(e,(e,t)=>(e.unshift(t),e),[])}},function(e,t,n){"use strict";let r=n(96),{forEach:o,findIndex:i}=n(7),a=n(97),{LR1Itemer:s}=n(98),{sameClosure:l}=n(18);e.exports=(e=>{let{END_SYMBOL:t,isTerminalSymbol:n,N:i}=e,l=[],u=[],p=s(e),h=a(e,p),d=r(e,p,h);return o(d,(e,r)=>{l[r]=l[r]||{},o(e.items,i=>{if(p.isAcceptItem(i))l[r][t]={type:"accept"};else if(i.isReduceItem())o(i.getForwards(),e=>{l[r][e]={type:"reduce",production:i.getProduction()}});else if(n(i.getNextSymbol())){let t=h(e,i.getNextSymbol());t&&t.items.length&&(l[r][i.getNextSymbol()]={type:"shift",state:c(d,t)})}})}),o(d,(e,t)=>{u[t]=u[t]||{},o(i,n=>{let r=h(e,n);r&&r.items.length&&(u[t][n]=c(d,r))})}),{GOTO:u,ACTION:l}});let c=(e,t)=>i(e,t,{eq:l})},function(e,t,n){"use strict";let{buildClosure:r}=n(18),{reduce:o}=n(7);e.exports=((e,t,n)=>{let{symbols:o}=e,a=r([t.initItem(e)],e,t),s=[a],l={};l[a.serializedText]=!0;let c=s;for(;;){let e=[];for(let t=0;t<c.length;t++){let r=c[t],a=i(o,r,n);for(let t=0;t<a.length;t++){let n=a[t],r=n.serializedText;l[r]||(e.push(n),l[r]=!0)}}if(!e.length)break;c=e,s=s.concat(c)}return s});let i=(e,t,n)=>o(e,(e,r)=>{let o=n(t,r);return o&&o.items.length&&e.push(o),e},[])},function(e,t,n){"use strict";let{reduce:r,filter:o}=n(7),{buildClosure:i}=n(18);e.exports=((e,t)=>{let n=(e,t)=>{let n=o(e.items,e=>e.getNextSymbol()===t);return r(n,(e,t)=>(t.restIsNotEmpty()&&e.push(t.nextPositionItem()),e),[])};return(r,o)=>{let a=null;if(r.cache_GOTO=r.cache_GOTO||{},r.cache_GOTO[o])a=r.cache_GOTO[o];else{let s=n(r,o);a=i(s,e,t),r.cache_GOTO[o]=a}return a}})},function(e,t,n){"use strict";let r=n(99),{union:o,reduce:i,filter:a,flat:s,map:l}=n(7);e.exports={LR1Itemer:e=>{let{END_SYMBOL:t,isNoneTerminalSymbol:n,getProductionsOf:c}=e,u=r(e),p=(t,n,r)=>{let{getHead:s,getBody:l,isTerminalSymbol:c,isEndSymbol:h}=e,d=()=>r,f=()=>l(t).slice(n+1),m=null,y=null,g=null;return{getNextSymbol:()=>l(t)[n],getProduction:()=>t,getForwards:d,afterNextRest:f,list:()=>[s(t),l(t),n,r],concatForwards:e=>p(t,n,o(r,e)),getAdjoints:()=>{if(null===m){let e=f(),t=d(),n=i(t,(t,n)=>{let r=e.length?u(e.concat([n])):[n];return t.concat(a(r,e=>c(e)||h(e)))},[]);return m=n,n}return m},isReducedItem:()=>!f().length&&1===d().length&&h(d()[0]),restIsNotEmpty:()=>l(t).length&&n<l(t).length,nextPositionItem:()=>p(t,n+1,r,e),getGrammer:()=>e,isReduceItem:()=>n===l(t).length,serialize:()=>(null===y&&(y=JSON.stringify([t,n,r.sort()])),y),serializePrefix:()=>(null===g&&(g=JSON.stringify([t,n])),g)}};var h=()=>p([e.EXPAND_START_SYMBOL,[e.startSymbol]],1,[e.END_SYMBOL]);var d=(e,t)=>e.serialize()===t.serialize();let f=(e,t)=>p(e,0,[t]),m={};return{expandItem:e=>{let r=e.serialize();if(m[r])return m[r].slice(0);let{getNextSymbol:o,getAdjoints:i,isReducedItem:a}=e,u=o();if(!u||!n(u))return[];let p=c(u),h=s(l(p,e=>a()?[f(e,t)]:l(i(),t=>f(e,t))));return m[r]=h,h},buildLR1Item:p,isAcceptItem:e=>d(h(e.getGrammer()),e),sameItem:d,initItem:()=>p([e.EXPAND_START_SYMBOL,[e.startSymbol]],0,[e.END_SYMBOL]),fromList:([e,t,n,r])=>p([e,t],n,r),supItem:f}}}},function(e,t,n){"use strict";let{contain:r,union:o,reduce:i,difference:a,forEach:s}=n(7),{isArray:l}=n(0);e.exports=(e=>{let t={},n=e=>{if(t[e])return t[e];let n=c(e);return t[e]=n,n},c=t=>{let{isTerminalSymbol:n,getProductionsOf:r,isEmptyProduction:a,getBody:s,EPSILON:l}=e;if(n(t))return[t];{let c=r(t);return i(c,(t,r)=>{let i=s(r);return a(r)?o(t,[l]):n(i[0])?o(t,[i[0]]):o(t,p(i,e))},[])}},u={},p=t=>{let{EPSILON:i,getBodyId:l}=e,c=l(t);if(u[c])return u[c];let p=[];return s(t,(e,s)=>{let l=n(e);if(p=o(p,a(l,[i])),!r(l,i))return!0;s===t.length-1&&(p=o(p,[i]))}),u[c]=p,p};return e=>l(e)?p(e):n(e)})},function(e,t,n){"use strict";const{END_SYMBOL:r,EXPAND_START_SYMBOL:o,EPSILON:i}=n(32);e.exports=(({startSymbol:e,T:t,N:n,productions:l})=>{let c=t.concat(n),u=s(l),p=a(t),h=a(n),d=e=>e[1];return{isTerminalSymbol:e=>!!p[e],isNoneTerminalSymbol:e=>!!h[e],getProductionsOf:e=>u[e],isEmptyProduction:e=>!d(e).length,getBody:d,getBodyId:e=>JSON.stringify(e),getHead:e=>e[0],EPSILON:i,END_SYMBOL:r,EXPAND_START_SYMBOL:o,startSymbol:e,productions:l,isEndSymbol:e=>e===r,symbols:c,N:n}});let a=e=>{let t={},n=e.length;for(let r=0;r<n;r++)t[e[r]]=!0;return t},s=e=>{let t={},n=e.length;for(let r=0;r<n;r++){let n=e[r],o=n[0];t[o]=t[o]||[],t[o].push(n)}return t}},function(e,t,n){"use strict";let{stringGraph:r,numberGraph:o}=n(102),{buildFSM:i}=n(27),a=n(10),{stateGraphDSL:s}=a,{g:l,c:c,union:u,sequence:p,range:h,circle:d}=s,f=u(" ","\f","\n","\r","\t","\v","","","","-","","\u2028","\u2029","","","","\ufeff"),m=l(p(".",u("_","%",h("a","z"),h("A","Z"),h("0","9")),d(u("_","%",h("a","z"),h("A","Z"),h("0","9"))))),y=l(p(u("_",h("a","z"),h("A","Z")),d(u("_",h("a","z"),h("A","Z"),h("0","9"))))),g=l(p(".","[",d(f,l(p(u("_",h("a","z"),h("A","Z")),d(u("_",h("a","z"),h("A","Z"),h("0","9")),d(f,l(c("]")))))))));e.exports=[{priority:1,match:"true",name:"true"},{priority:1,match:"false",name:"false"},{priority:1,match:"null",name:"null"},{priority:1,match:i(r),name:"string"},{priority:1,match:i(o),name:"number"},{priority:1,match:i(m),name:"nodeName"},{priority:1,match:i(g),name:"nodeNameVariable"},{priority:1,match:i(y),name:"variableName"},{priority:1,match:"=",name:"assign"},{priority:1,match:"-",name:"delete"},{priority:1,match:"+",name:"append"},{priority:1,match:";",name:"semicolon"},{priority:1,match:"(",name:"leftBracket"},{priority:1,match:")",name:"rightBracket"},{priority:1,match:",",name:"comma"},{priority:1,match:i(l(c(f))),name:"whitespace"}]},function(e,t,n){"use strict";let{stateGraphDSL:r}=n(10),{g:o,c:i,union:a,range:s,sequence:l,circle:c,left:u,repeat:p}=r,h=o(i(a(null,"-"),o(i("0",o("decimal",i(".",c(s("0","9"),"science")),i(null,o("science",i(null,"accept"),l(a("e","E"),a("+","-",null),s("0","9"),c(s("0","9"),"accept")))))),l(s("1","9"),c(s("0","9"),"decimal"))))),d=a(s("0","9"),s("A","F"),s("a","f")),f=o(i('"',o("enter",i("\\",o(i(a('"',"\\","/","b","f","n","r","t"),"enter"),i("u",o(p(d,4,"enter"))))),i('"',"accept"),i(u(),"enter"))));e.exports={numberGraph:h,stringGraph:f}},function(e,t){e.exports={GOTO:[{PROGRAM:11,EXPRESSION_LIST:12,EXPRESSION:13,UPDATE_EXPRESSION:14,QUERY_EXPRESSION:15,PATH:16,ATOM_DATA:17},{PATH:20},{PATH:23},{},{PATH:25},{PATH:26},{},{},{},{},{},{},{},{},{},{},{},{},{PATH:29},{PATH:30},{},{PATH:31},{PATH:32},{},{QUERY_EXPRESSION:43,QUERY_EXPRESSION_LIST:44,PATH:45,ATOM_DATA:46},{},{},{EXPRESSION_LIST:47,EXPRESSION:13,UPDATE_EXPRESSION:14,QUERY_EXPRESSION:15,PATH:16,ATOM_DATA:17},{QUERY_EXPRESSION:48,PATH:49,ATOM_DATA:17},{},{},{},{},{QUERY_EXPRESSION:50,PATH:49,ATOM_DATA:17},{},{},{PATH:52},{PATH:53},{},{},{},{},{},{},{},{},{},{},{},{},{},{QUERY_EXPRESSION:43,QUERY_EXPRESSION_LIST:57,PATH:45,ATOM_DATA:46},{},{},{QUERY_EXPRESSION:43,QUERY_EXPRESSION_LIST:58,PATH:45,ATOM_DATA:46},{},{},{},{},{}],ACTION:[{$:{type:"reduce",production:["EXPRESSION",[]]},semicolon:{type:"reduce",production:["EXPRESSION",[]]},variableName:{type:"shift",state:3},delete:{type:"shift",state:1},append:{type:"shift",state:2},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{nodeName:{type:"shift",state:21},nodeNameVariable:{type:"shift",state:22}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},leftBracket:{type:"shift",state:24}},{$:{type:"reduce",production:["PATH",["nodeName"]]},assign:{type:"reduce",production:["PATH",["nodeName"]]},semicolon:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{$:{type:"reduce",production:["PATH",["nodeNameVariable"]]},assign:{type:"reduce",production:["PATH",["nodeNameVariable"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{$:{type:"reduce",production:["ATOM_DATA",["true"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["true"]]}},{$:{type:"reduce",production:["ATOM_DATA",["false"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["false"]]}},{$:{type:"reduce",production:["ATOM_DATA",["null"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["null"]]}},{$:{type:"reduce",production:["ATOM_DATA",["string"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["string"]]}},{$:{type:"reduce",production:["ATOM_DATA",["number"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["number"]]}},{$:{type:"accept"}},{$:{type:"reduce",production:["PROGRAM",["EXPRESSION_LIST"]]}},{$:{type:"reduce",production:["EXPRESSION_LIST",["EXPRESSION"]]},semicolon:{type:"shift",state:27}},{$:{type:"reduce",production:["EXPRESSION",["UPDATE_EXPRESSION"]]},semicolon:{type:"reduce",production:["EXPRESSION",["UPDATE_EXPRESSION"]]}},{$:{type:"reduce",production:["EXPRESSION",["QUERY_EXPRESSION"]]},semicolon:{type:"reduce",production:["EXPRESSION",["QUERY_EXPRESSION"]]}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},assign:{type:"shift",state:28}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]}},{$:{type:"reduce",production:["PATH",["nodeName"]]},semicolon:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{$:{type:"reduce",production:["PATH",["nodeNameVariable"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{$:{type:"reduce",production:["UPDATE_EXPRESSION",["delete","PATH"]]},semicolon:{type:"reduce",production:["UPDATE_EXPRESSION",["delete","PATH"]]}},{assign:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:21},nodeNameVariable:{type:"shift",state:22}},{assign:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:21},nodeNameVariable:{type:"shift",state:22}},{assign:{type:"shift",state:33}},{rightBracket:{type:"shift",state:35},variableName:{type:"shift",state:34},true:{type:"shift",state:38},false:{type:"shift",state:39},null:{type:"shift",state:40},string:{type:"shift",state:41},number:{type:"shift",state:42},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{$:{type:"reduce",production:["PATH",["nodeName","PATH"]]},assign:{type:"reduce",production:["PATH",["nodeName","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{$:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},assign:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{$:{type:"reduce",production:["EXPRESSION",[]]},semicolon:{type:"reduce",production:["EXPRESSION",[]]},variableName:{type:"shift",state:3},delete:{type:"shift",state:1},append:{type:"shift",state:2},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{variableName:{type:"shift",state:3},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{$:{type:"reduce",production:["PATH",["nodeName","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{$:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{assign:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{assign:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{variableName:{type:"shift",state:3},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},leftBracket:{type:"shift",state:51}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]}},{comma:{type:"reduce",production:["PATH",["nodeName"]]},rightBracket:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{comma:{type:"reduce",production:["PATH",["nodeNameVariable"]]},rightBracket:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{comma:{type:"reduce",production:["ATOM_DATA",["true"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["true"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["false"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["false"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["null"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["null"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["string"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["string"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["number"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["number"]]}},{rightBracket:{type:"reduce",production:["QUERY_EXPRESSION_LIST",["QUERY_EXPRESSION"]]},comma:{type:"shift",state:54}},{rightBracket:{type:"shift",state:55}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]}},{$:{type:"reduce",production:["EXPRESSION_LIST",["EXPRESSION","semicolon","EXPRESSION_LIST"]]}},{$:{type:"reduce",production:["UPDATE_EXPRESSION",["PATH","assign","QUERY_EXPRESSION"]]},semicolon:{type:"reduce",production:["UPDATE_EXPRESSION",["PATH","assign","QUERY_EXPRESSION"]]}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]}},{$:{type:"reduce",production:["UPDATE_EXPRESSION",["append","PATH","assign","QUERY_EXPRESSION"]]},semicolon:{type:"reduce",production:["UPDATE_EXPRESSION",["append","PATH","assign","QUERY_EXPRESSION"]]}},{rightBracket:{type:"shift",state:56},variableName:{type:"shift",state:34},true:{type:"shift",state:38},false:{type:"shift",state:39},null:{type:"shift",state:40},string:{type:"shift",state:41},number:{type:"shift",state:42},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{comma:{type:"reduce",production:["PATH",["nodeName","PATH"]]},rightBracket:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{comma:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},rightBracket:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{variableName:{type:"shift",state:34},true:{type:"shift",state:38},false:{type:"shift",state:39},null:{type:"shift",state:40},string:{type:"shift",state:41},number:{type:"shift",state:42},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]}},{rightBracket:{type:"shift",state:59}},{rightBracket:{type:"reduce",production:["QUERY_EXPRESSION_LIST",["QUERY_EXPRESSION","comma","QUERY_EXPRESSION_LIST"]]}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]}}]}},function(e,t,n){"use strict";let{isObject:r,isFunction:o,isString:i}=n(34),{T_ASSIGN:a,T_DELETE:s,T_VARIABLE_NAME:l,T_FUNCTION:c,T_PATH:u,T_NODE_NAME_VARIABLE:p,A_DEFAULT:h}=n(19);e.exports={checkAST:(e,{variableStub:t={}}={})=>{let n=e.slice(0);for(;n.length;){let e=n.pop(),o=e.type;if(o===l){let n=e.value;if(!t.hasOwnProperty(n))throw new Error(`missing variable ${n} in [${Object.keys(t).join(", ")}]`)}else if(o===c){let{funName:o,params:i}=e.value,a=t[o];if(!r(a)||a.type!==c)throw new Error(`missing function ${o}, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`);let s=i.length;for(let e=0;e<s;e++)n.push(i[e])}else if(o===a)n.push(e.value.path),n.push(e.value.value);else if(o===s)n.push(e.value.path);else if(o===u){let n=e.value;for(let e=0;e<n.length;e++){let{type:o,value:i}=n[e];if(o===p){let e=t[i];if(!r(e)||e.type!==p)throw new Error(`missing type attribute ${p} for ${i}, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`)}}}}},runTimeCheck:(e,t)=>{for(let n in e){let r=e[n];if(!t.hasOwnProperty(n)&&!r.hasOwnProperty(h))throw new Error(`missing variable ${n} in variableMap whick keys are [${Object.keys(t).join(", ")}].`);if(r.type===c&&!o(t[n]))throw new Error(`variable ${n} is not function as expected, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`);if(r.type===p&&!i(t[n]))throw new Error(`variable ${n} is not string as expected, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`)}},getVariable:(e,t,n)=>{let i=n[e]||{},a=null;if(t.hasOwnProperty(e))a=t[e];else{if(!i.hasOwnProperty(h))throw new Error(`missing variable ${e}.`);a=i[h]}return r(i)&&o(i.validate)&&i.validate(a),a}}},function(e,t,n){"use strict";let r=n(24);e.exports={autoId:()=>`_gid_${(new Date).getTime()}_${r().replace(/-/g,"_")}`,isObject:e=>e&&"object"==typeof e,modifySuccess:(e,t)=>({operationType:"update",resultType:"success",path:e,value:t&&t.toString()}),removeNoneExist:e=>({operationType:"delete",resultType:"remove_none_exist",path:e}),removeSuccess:e=>({operationType:"delete",resultType:"success",path:e})}},function(e,t,n){"use strict";let r=n(15),o=n(2),i=(e={})=>{let{version:t=1}=e,n=e.key||a(e),r=r=>{let i=e.whiteList||[];localStorage[n]=JSON.stringify({version:t,props:i.reduce((e,t)=>(o.set(e,t,o.get(r,t)),e),{})})},i=e=>(r(e),e);return{get:(e={})=>{let r=localStorage[n];if(!r)return i(e);try{let n=JSON.parse(r);return n.version<t?i(e):n.version<t?(console.error(`unexpected situation happened, storaged data version is bigger than current version. Storaged data version is ${n.version}. Current version is ${t}.`),i(e)):o.deepMergeMap(e,n.props)}catch(t){return i(e)}},set:r}},a=({pageQueryKey:e="page"}={})=>{let t=`${document.title}-${window.location.pathname}`,n=r.parse(window.location.search.substring(1));return n&&void 0!==n[e]&&(t=`${t}?page=${n[e]}`),t};e.exports={pagePropsStore:i,wrapPagePropsWithStore:(e,t={})=>{let{get:n,set:r}=i(t),o=e.onsignal;return e.onsignal=((e,n,i)=>(t.signalTypes?-1!==t.signalTypes.findIndex(t=>e.type===t)&&r(n.props):r(n.props),o&&o(e,n,i))),n(e)}}},function(e,t,n){"use strict";const{}=n(108);e.exports={indexPage:{kabanery_page_render:[]}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";let r=n(110),o=n(131);e.exports={indexPage:r,article:o}},function(e,t,n){"use strict";let r=n(36),o=n(3),i=n(1),{onSignalType:a}=n(5),s=n(39),l=n(42),c=n(43),u=n(130),p=n(45);e.exports=r(o(()=>i(l,[i(c,{title:"Arre's blog",leftLogos:[]}),i(s,[p.map(({name:e,date:t,brief:n,docId:r})=>i(u,{title:e,style:{container:{cursor:"pointer",width:300,margin:8,height:250}},onsignal:a("click",()=>{window.location.href=`?page=article&docId=${r}`})},[i('div style="color:gray;font-size:14px"',t),i("div",n)]))])]),{defaultProps:{}}))},function(e,t,n){"use strict";let r=n(112);e.exports=r({pageColor:"white",hoverColor:"#90CAF9",blockColor:"#2196F3",borderColor:"#1565C0",veilColor:"rgba(125,125,125,0.6)",fontColor:"white",noticeColor:"rgb(2, 40, 51)",shadowColor:"rgba(100,100,100,0.2)",halfBlockColor:"rgba(33,150,243,0.5)",titleSize:20,normalSize:16,narrowPadding:"4 8 4 8",narrowPaddingTop:4,narrowPaddingRight:8,narrowPaddingBottom:4,narrowPaddingLeft:8,narrowMargin:"4 8 4 8",contrastBlockColor:"white",contrastFontColor:"black"})},function(e,t,n){"use strict";let{styles:r}=n(2),o=n(38),i=n(113),a=n(114),s=n(115);e.exports=((e,t={})=>{let n=i(e),r=a(e),l=s(e,o,n);return"function"==typeof t&&(t=t(e,o,n)),n=Object.assign(n,t.bulks||{}),r=Object.assign(r,t.actions||{}),l=Object.assign(l,t.widgets||{}),Object.assign({basics:e,actions:r},o,n,r,l)})},function(e,t,n){"use strict";let{styles:r}=n(2),o=n(38),{container:i}=o;e.exports=(e=>{let t=r(i,{minWidth:40,backgroundColor:e.blockColor,color:e.fontColor}),n=r(t,{backgroundColor:e.contrastBlockColor,color:e.contrastFontColor}),o=r(t,{padding:e.narrowPadding,fontSize:e.normalSize,textAlign:"center",lineHeight:20,textDecoration:"none",border:"none",color:e.fontColor}),a=r(o,{display:"inline-block",backgroundColor:e.contrastBlockColor,color:e.blockColor});return{bulk:t,contrastBulk:n,oneLineBulk:o,modalBulk:r(o,n,{display:"inline-block",boxShadow:`3px 3px 5px ${e.shadowColor}`}),flatOneLineBulk:a}})},function(e,t){e.exports=(e=>({hover:{backgroundColor:e.hoverColor},active:{backgroundColor:e.hoverColor},focus:{outline:"none"},flatHover:{color:e.hoverColor},flatActive:{color:e.hoverColor}}))},function(e,t,n){let{styles:r}=n(2);e.exports=((e,t,n)=>{let{contrastBulk:o}=n,{flat:i}=t,a=r(o,i,{border:`1px solid ${e.shadowColor}`,boxShadow:`3px 3px 5px ${e.shadowColor}`,borderRadius:2}),s=r(o,i,{width:260,padding:e.narrowPadding,backgroundColor:e.fontColor});return{inputBox:s,textAreaBox:r(s,{width:360,height:200,outline:"none",resize:"none",overflow:"auto",border:`1px solid ${e.borderColor}`,borderRadius:5,fontSize:16}),underLineBorder:{border:0,borderRadius:0,"border-bottom":`1px solid ${e.borderColor}`},underLineFocus:{paddingBottom:e.narrowPaddingBottom-1,"border-bottom":`2px solid ${e.blockColor}`},flatRippleMask:{content:"",position:"absolute",top:"50%",left:"50%",width:5,height:5,backgroundColor:e.halfBlockColor,opacity:"0",borderRadius:"100%",transform:"scale(1, 1) translate(-50%)",transformOrigin:"50% 50%"},cardBox:a}})},function(e,t,n){"use strict";let{isMapObject:r}=n(2),{mount:o,n:i,parseStyle:a}=n(6);let s=-1;e.exports=(e=>{let t=`kabanery-lumine-${++s}`,n=e=>{if("@"===e[0]){let n=e.split(" ")[0],r=e.substring(n.length).trim();return`${n} ${t}-${r}`}return`.${t}-${e}`},l=()=>{u&&(o(i("style",{id:t},u),document.head),u=null)},c=e=>{if("@"===e[0]){let t=e.split(" ")[0];e=e.substring(t.length).trim()}return`${t}-${e.split(":")[0]}`},u=null,p=e=>{if(r(e)){u="";for(let t in e){t=t.trim();let r=n(t),o=e[t];"function"==typeof o&&(o=o({getClassName:c}));let i=a(o,{valueWrapper:e=>`${""!==e?e:"''"} !important`});u+=`\n${r} {${i}}`}}};return p(e),{appendStyle:l,getClassName:c,updateClassTable:e=>{let n=document.getElementById(t);n&&n.parentNode.removeChild(n),p(e),l()}}})},function(e,t,n){"use strict";let r=n(1),o=n(3),i=n(118),a=n(119),s=n(121);e.exports=o(({props:e,children:t})=>e.show?r(a,{style:e.style},t):s(),{defaultProps:{show:!0,style:{textAlign:"center"}},defaultChildren:[r(i,{style:{position:"relative",top:"50%",marginTop:-10}})]})},function(e,t,n){"use strict";let r=n(1),o=n(3);e.exports=o(({props:e},{getClassName:t})=>e.show?r("div",{class:t("load-suffix"),style:e.style},e.textPrefix):r("div"),{defaultProps:{textPrefix:"loading",show:!0,style:{display:"inline-block"}},classTable:{"@keyframes loading":`\n    0% {\n        content: ""\n    }\n    33% {\n        content: "."\n    }\n    67% {\n        content: ".."\n    }\n    100% {\n        content: "..."\n    }`,"load-suffix::after":({getClassName:e})=>({content:JSON.stringify("."),animation:`${e("loading")} 3s infinite ease-in-out`})}})},function(e,t,n){"use strict";let r=n(120),o=n(3),i=n(1);e.exports=o(({props:e,children:t})=>i(r,e,t),{defaultProps:{style:e=>({backgroundColor:e.basics.veilColor,color:e.basics.fontColor,zIndex:1e3})}})},function(e,t,n){"use strict";let{n:r}=n(6),o=n(3),{styles:i}=n(2),{Signal:a}=n(5);e.exports=o(({props:e,children:t},{notify:n})=>r("div",{style:e.style,onclick:()=>{n(a("fullwindow-click"))}},t),{defaultProps:{style:e=>i(e.fullWindow)},defaultChildren:[]})},function(e,t,n){"use strict";let r=n(1),o=n(3);e.exports=o(()=>r("div",{style:{width:0,height:0}}))},function(e,t,n){"use strict";let r=n(1),o=n(3),{Signal:i}=n(5),{styles:a}=n(2),{compileTreeScript:s}=n(123),l=s(".props.show=false");e.exports=o(({props:e},{updateTree:t})=>(e.show&&"forever"!==e.duration&&setTimeout(()=>{t(l,null,i("notice-hide"))},e.duration),r("div",{style:{zIndex:1e4,position:"fixed",width:"100%",height:0,left:0,top:"50%",textAlign:"center"}},[e.show&&r("div",{style:e.style},e.text)])),{defaultProps:{text:"",show:!0,duration:3e3,style:e=>a(e.oneLineBulk,{display:"inline-block",backgroundColor:e.basics.noticeColor,maxWidth:400,maxHeight:200,top:-100,position:"relative"})}})},function(e,t,n){"use strict";let{parseStrToAst:r,checkAST:o}=n(16);e.exports={compileTreeScript:(e,{variableStub:t}={})=>{let n=r(e);return t&&o(n,{variableStub:t}),{ast:n,variableStub:t}}}},function(e,t,n){"use strict";let{get:r,set:o}=n(2),{Signal:i}=n(5);const a=e=>e;e.exports={syncBindWithKeyMap:(e,t,{bindedProps:n={},stopSignal:s,autoUpdate:l=!1,updatedSignalTypes:c=null,onChildSignal:u,toBinded:p=a,toBinder:h=a}={})=>{let d=e.getData().props,f=[];for(let e in t)f.push([e,t[e]]);let m=f.reduce((e,[t,n])=>{let i=r(d,t);return o(e,n,p(i,t,n)),e},{});return Object.assign({theme:d.theme},n,m,{onsignal:(n,a,p)=>{f.forEach(([e,t])=>{let n=r(a.props,t);o(d,e,h(n,e,t))}),u&&u(n,a,p),s||e.notify(i(n.type,{sourceType:"child",keyMap:t,sourceSignal:n,sourceData:a,sourceCtx:p})),l&&(c?-1!==c.findIndex(e=>e===n.type)&&e.update():e.update())}})}}},function(e,t,n){"use strict";let r=n(44),o=n(127),{styles:i}=n(2);e.exports=o({defaultProps:{style:e=>i(e.oneLineBulk,{cursor:"pointer"})},classTable:e=>Object.assign(r({theme:e}),{"btn:hover":e.actions.hover,"btn:active":e.actions.active,"btn:focus":e.actions.focus})})},function(e,t){e.exports=`\n    0% {\n        transform: scale(0, 0);\n        opacity: 1;\n    }\n    20% {\n        transform: scale(25, 25);\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n        transform: scale(40, 40);\n    }`},function(e,t,n){"use strict";let{n:r}=n(6),o=n(37),{Signal:i}=n(5),{styles:a}=n(2);e.exports=o(({props:e,children:t},{notify:n,getClassName:o})=>{let a={class:`${o("btn")}`,style:e.style,onclick:()=>{n(i("click"))}};return e.id&&(a.id=e.id),r("button",a,t[0])})},function(e,t,n){"use strict";let r=n(129),{styles:o}=n(2);e.exports=r(e=>o(e.oneLineBulk,{display:"block",textAlign:"left"}))},function(e,t,n){"use strict";let r=n(1),o=n(3);e.exports=((e,{tagName:t="div"}={})=>o(({props:e,children:n})=>r(t,{style:e.style},[n]),{defaultProps:{style:e}}))},function(e,t,n){"use strict";let r=n(1),o=n(3),{styles:i}=n(2),{Signal:a}=n(5);e.exports=o(({props:e,children:t},{notify:n})=>r("div",{style:i(e.style.container),onclick:()=>{n(a("click"))}},[r("div",{style:i({padding:e.theme.basics.narrowPadding},e.style.content)},[e.title&&r("h3",{style:e.style.title},[e.title]),t])]),{defaultProps:{title:"",style:e=>({container:i(e.cardBox),content:{},title:{}})},defaultChildren:[""]})},function(e,t,n){"use strict";let r=n(36),o=n(3),i=n(1),{onSignalType:a}=n(5),s=n(15),l=n(42),c=n(43),u=n(132),p=n(45);e.exports=r(o(()=>{let e=s.parse(window.location.search.substring(1)),t=u[e.docId],n=p.find(({docId:t})=>t===e.docId);return i(l,[i(c,{title:n.name,leftLogos:[i("div","<")],onsignal:a("click",e=>{"leftLogos"===e.data.sourceType&&0===e.data.index&&(window.location.href="?page=indexPage")})}),i("div",{style:{padding:8}},[t])])},{defaultProps:{}}))},function(e,t,n){const r=n(133),o=n(135),i=n(136),a=n(137),s=n(138),l=n(139);e.exports={flexible_UI_test_restraints_design:r,performance_analysis_between_recursive_and_stack_base_none_recursive_simulation:o,is_power_of_2_k_problem:i,when_and_how_to_use_dynamic_programming:a,resolvable_one_dimension_recursive_algorithm:s,avoid_casual_mutable_code:l}},function(e,t,n){"use strict";let r=n(1),{paraTitle:o,list:i,lr:a,article:s}=n(8)();e.exports=s({title:"flexible UI test restraints design",date:"2017-09-27",author:"Arre",introduction:"UI changes day by day, how to define the correct state of UI became a problem. If the restraints we designed are too strong, they will be useless, because we have to change them everyday. If the restraints we designed are too weak, they won't be able to guard the UI."},[o("Problems"),i(["How to measure a UI's state? After all, UI contains a lot of information, and can be different in different devices.","The frequency of modifying UI is high. (Not absolutly, but for some products like user-level products, may change fast)"]),o("Thought"),i(["Break down the information of UI into some dimensions.","Design an approach to balance accuracy and flexibility for each dimension.","The parameter of the dimension must be easy to set and adjust."]),r("p","This article provides a simple approach based on the two thoughts. It mainly considers to add position, content and style restraints to UI."),o("Position restraint - Grid method"),r("p","Divide page into m * n matrix. For a specific UI, it will be located in an area, which can be represented by pair of coordinates (x1, y1), (x2, y2). For example:"),a(r('img src="./img/position_restraint_demo.png"'),i(["step1: divide screen into 4 * 4 parts.","step2: we can describe there is a button in area (0,0)-(0,0)."]),300),r("h4","flexibility"),r("p","The flexibility of grid method is at m and n, which we used to divide the page. If we set m and n small, the position information will be rough. If we set m and n big, the position information will be precision."),r("p","In some simple situations:"),i(["We can define rough rate like 1.5 to calculate the m and the n for a specific UI.","In a 2 * 2 grids, we can simply to say a button located in left-top or right-top or left-bottom or right-bottom."]),r("h4","usablility"),r("p","The grid method is easy to set and adjust, we can use vision to make desicion. We can increase the grid from 1 * 1 until we think it is ok."),r("h4","combinators"),r("p","We can compose the relationship between area and UI element with some simple combinators."),i([a("In","UI element is in area A.",60),a("Not in","UI element is not in area A.",60),a("And","UI element is in area A and area B.",60),a("Or","UI element is in area A or area B.",60)]),o("Content restraint"),r('img src="./img/content_restraint_demo.png"'),r("p",'The content of UI element is the main meaning that the UI try to delivery. The content of button is "test", that may imply when we click the button, it will run some test stuff.'),r("h4","content extractor"),r("div","A content extractor is a combinator used to extract content from some UI elements dimensions."),r("p","common dimensions"),i(["textContent","image url","textContent","content of css pseudo-class in web scene","the combination of all childrens content"]),r("h4","combinator"),i([a("Match","eg: UI elements image url matches content A."),a("Not match","eg: UI elements text content not matches content A.")]),o("Style restraint"),r("p","The style of UI elements."),r("h4","common styles"),i(["font size","color","background-color"]),r("h4","combinator"),i([a("Match","eg: UI elements style matches content A."),a("Not match","eg: UI elements style not matches content A.")]),o("Other restraint"),r("p","Like tagName, attributes etc."),o("Description UI by using restraints"),r("p","Using restraint rules to describe a UI element. Specify position area, content matching, style matching."),r("p","Eg: There exists a UI element, located at area (0, 0)-(0, 0) in (5 * 6) grid, contains content test, has border, background color is white."),o("Algorithm to solve the description"),r("p","Filter all elements according to the UI restraints description. Whats left are the target elements.")])},function(e,t,n){"use strict";let r=n(1),o=n(3),i=n(44),{styles:a}=n(2);e.exports=o(({props:e},{getClassName:t})=>s(e.toc,{container:e.style.container,nameItem:e.style.nameItem,itemClass:t("tocItem")}),{defaultProps:{style:e=>({container:a(e.contrastBulk,{padding:e.basics.narrowPadding}),nameItem:a(e.flatOneLineBulk)}),toc:[]},classTable:e=>Object.assign(i({className:"tocItem",theme:e}),{"tocItem:hover":e.actions.flatHover,"tocItem:active":e.actions.flatActive,"tocItem:focus":e.actions.focus})});let s=(e,t)=>r("div",{style:t.container},[e.map(({name:e,id:n,next:o})=>(n=n||e,r("div",[r(`a href="#${n}" class=${t.itemClass}`,{style:t.nameItem},e),o&&o.length&&s(o,t)])))])},function(e,t,n){"use strict";let r=n(1),{paraTitle:o,list:i,lr:a,article:s,code:l}=n(8)();e.exports=s({title:"performance analysis between recursive and stack-base none-recursive simulation",date:"2017-09-09",author:"Arre",introduction:"In the bottom, recursive is running on the stack in memory. It's a top-down way to ergodic question tree. We can simulate it by using a stack to do the DFT (Depth First Traversal). How about the performance between them, what kind of conclusions we can get?"},[o("Experiment content"),r("p","We prepare two simple programs. One uses recursive method, the other uses stack-base simulation. To avoid problem like tail recursion optimization, we choose a binary tree traversal problem."),o("Experiment 1"),r("h4","experiment environment"),r("p","node v8.1.4, macOS Sierra, 8GB 1600 MHZ, 1.1 GHZ Intel Core M"),r("h4","recursion version code (js)"),l(`var recursiveTree = (tree) => {\n    if (!tree) return 0;\n    recursiveTree(tree.left);\n    recursiveTree(tree.right);\n};\n`),r("h4","stack-base simulation code (js)"),l(`var iterateTree = (tree) => {\n    var stack = [];\n    stack[0] = tree;\n    var topIndex = 0;\n    while (topIndex >= 0) {\n        var item = stack[topIndex--]; //pop\n\n        if (item.left) {\n            stack[++topIndex] = item.left; // push\n        }\n        if (item.right) {\n            stack[++topIndex] = item.right; // push\n        }\n    }\n};\n`),r("h4","test tree"),l(`function TreeNode(val) {\n    this.val = val;\n    this.left = this.right = null;\n}\n\nlet n = new TreeNode(0);\nlet n1 = new TreeNode(1);\nlet n2 = new TreeNode(2);\nlet n3 = new TreeNode(3);\nn.left = n1;\nn.right= n2;\n\nn1.left = n3;\n`),r('p style="font-size:14px"',"(For a more reliable result of experiment, we should try a lot of different test tree. There only enumerate one.)"),r("h4","comparison result"),l(`stack iteration x 84,084 ops/sec 6.83% (58 runs sampled)\nrecursion x 78,480 ops/sec 8.48% (59 runs sampled)\nFastest is stack iteration,recursion`),r("p","They are so close, we can think they are the same fast."),r("h4","conclusion"),r("p","In js, recursion and stack-base simulation are almost same fast. But obviously, in stack-base simulation code, the efficient of stack is the key point to performance. Js is a kind of black-box in this situation, so we will continue this experiment but with some lower-level language like c++. And our concern will focus on stack."),o("Experiment 2"),r("p","We use std::vector to simulate stack."),r("h4","experiment environment"),r("p","g++ Apple LLVM version 8.1.0 (clang-802.0.42), macOS Sierra, 8GB 1600 MHZ, 1.1 GHZ Intel Core M"),r("h4","recursion version code (c++)"),l(`int recursiveSum(Node *root) {\n  if (root == NULL)\n    return 0;\n  return recursiveSum(root->left) + recursiveSum(root->right) + root->val;\n}\n`),r("h4","stack-base simulation code (c++)"),l(`int stackIterateSum(Node *root) {\n  vector<Node *> stack;\n  stack.push_back(root);\n  int sum = 0;\n\n  while (stack.size()) {\n    Node *top = stack.back();\n    stack.pop_back();\n    sum += top->val;\n\n    if (top->right != NULL) {\n      stack.push_back(top->right);\n    }\n\n    if (top->left != NULL) {\n      stack.push_back(top->left);\n    }\n  }\n\n  return sum;\n}`),r("h4","test tree"),l(`struct Node {\n  int val;\n  Node *left;\n  Node *right;\n};\n\nNode a = {10, NULL, NULL};\nNode b = {8, NULL, NULL};\nNode c = {8, NULL, NULL};\na.left = &b;\na.right = &c;\n`),r("h4","comparison result"),r("p","Stack-base simulation spends almost 7x time of recursion. In other word, recursion's speed is 7x of stack-base simulation."),r("h4","conclusion"),r("p","If we simply use std::vector as stack, out stack-base simulation program will be slow."),r("strong","The question is can we write stack-base simulation code which is faster than recursion."),o("Experiment 3"),r("p","Let's just change the stack-base simulation code from experiment 2. This time we use array, and we allocate memory at first (once)."),r("h4","stack-base simulation code (c++)"),r("p","We use array to simulate stack, we know the stack depth is less than 100, so, we simply allocate 100 size for array."),l(`int stackIterateSum(Node *root) {\n  Node * stack[100];\n  stack[0] = root;\n  int stackIndex = 0;\n  int sum = 0;\n\n  while (stackIndex >= 0) {\n    Node *top = stack[stackIndex--];\n    sum += top->val;\n\n    if (top->right != NULL) {\n      stack[++stackIndex] = top->right;\n    }\n\n    if (top->left != NULL) {\n      stack[++stackIndex] = top->left;\n    }\n  }\n\n  return sum;\n}\n`),r("h4","comparison result"),r("p","This time, stack-base simulation is faster, and the speed is 3.6x of recursion."),o("Conclusion"),i(["In js, stack-base simulation and recursion is the same fast. (array simulates stack)","The key point to make stack-base simulation fater than recursion is to find a better stack for you problem.","In lower-level language which we can control memory, if we know the depth of recursion, we can use an array to simulate stack. We allocate memory at first (this trick will avoid multiple times memory allocating). This kind of stack-simulation will be fast. If we want to rewrite a recursion code for better performance, we can use this trick."])])},function(e,t,n){"use strict";let r=n(1),{paraTitle:o,list:i,article:a,code:s}=n(8)();e.exports=a({title:"Is power of 2 ^ k problem",date:"2017-09-06",author:"Arre",introduction:'We know n is a integer in 32-bit (or 64-bit) system. There is an old trick we judge n is power of 2 or 4. Today, we will try to find out a general solution for "is power of 2 ^ k".'},[o("Represent of integer"),r("p","In the bottom of computer, integer is a bounch of 0 1. In this problem, we do not consider negtive situation, so the number can equal to the binary form. And we assume a integer is 32-bit long. For example:"),i(["1 = 0000 0000 0000 0000 0000 0000 0000 0001","2 = 0000 0000 0000 0000 0000 0000 0000 0010","3 = 0000 0000 0000 0000 0000 0000 0000 0011"]),o("Is power of 2"),r("p",[r("h4","If n is power of 2, it means there will only have one 1 in n' binary representation. If n is 0, obviously n is not power of 2. Otherwise we can use binary operation n & (n - 1) = 0."),r("div",'We need to proof, if n & (n - 1), there will only be one 1 in n\'s binary representation. Because n > 0, so n must got at least one 1 in n\' binary reprentation. So we can represent n like: "E10...0", it means after 1 there are r (r>=0) 0s, E is a bunch of 0 1. The n - 1 will be "E01...1". Then we do n & (n - 1), we will got "(E & E)00...0". Because n & (n - 1) = 0, so E & E must be 0, so E = 0...0, it means, for n there is only one 1 in it\'s binary representation.'),r("div","For Example: n = 2 ^ 7 = 0000 0000 0000 0000 0000 0000 1000 0000"),s(`\n    0000 0000 0000 0000 0000 0000 1000 0000 \n  -                                       1\n  -----------------------------------------\n    0000 0000 0000 0000 0000 0000 0111 1111\n\n    0000 0000 0000 0000 0000 0000 1000 0000\n  & 0000 0000 0000 0000 0000 0000 0111 1111\n  -----------------------------------------\n    0000 0000 0000 0000 0000 0000 0000 0000\n`)]),o("Is power of 2 ^ 2"),r("p",[r("div","some examples"),i(["4 ^ 0 = 0000 0000 0000 0000 0000 0000 0000 0001","4 ^ 1 = 0000 0000 0000 0000 0000 0000 0000 0100","4 ^ 2 = 0000 0000 0000 0000 0000 0000 0001 0000","4 ^ 3 = 0000 0000 0000 0000 0000 0000 0100 0000"]),r("div","We can conclude at least three points from examples:"),i(["There is and only is one 1 in binary representation. (If n is power of 2 ^ 2, n will be the power of 2. So the conlusion before still stands.)","The minimum n is 1, the only 1 in binary representation is at position index 0.","4 ^ m compared to 4 ^ (m - 1), the 1 moved two postion to the left. (Obvisouly, 4 ^ m = 4 ^ (m -1) << 2)"]),r("div","So, all possible position for the only 1, can be enumerated, in this case, the odd postion."),s("0101 0101 0101 0101 0101 0101 0101 0101"),r("div","So we got a problem, how to detect the only 1's position? We can use:"),r("h4","n & mask = n"),r("div","The mask makes all possible positions of the only 1 in integer 1, the others 0. So when n & mask, if the only 1 in n matched a 1 in mask will still be 1, others be 0. If the only 1 in n do not matched a 1 in mask, will be 0."),r("div","We can give the conclustion:"),r("h4","n > 0, n is power of 2 ^ 2, is equivalent to n & (n - 1) = 0 and n & 0x55555555 = n")]),o("Is power of 2 ^ k, k > 1."),r("p",[r("h4","More generally, how about n is power of 2 ^ k problem."),r("div","From dicussion before, we can conclude that: n > 0, n is power of 2 ^ k, is equivalent to n & (n - 1) = 0 and n & mask = n."),r("h4","How to find the mask?"),r("div","Like discussed before, mask stands for all possible positions of the only 1."),r("div","(2 ^ k) ^ m = (2 ^ k) ^ (m - 1) << k, it means, when m increase 1, the only 1 in binary representation will move k postion to the left. And (2 ^ k) ^ 0 = 1, the start position is at index 0. We can present the possible 1s:"),s(`\n                ... 1 ... ... 1 ... 1 ... 1 ... 1\n                [32/k]*k     3k    2k     k     0\n`),r("div","The last position for the only 1 is [32/k]*k"),r("div","At last, we can give the conclution this way:"),r("h4","n is power of 2 ^ k, is equivalent to n & (n - 1) = 0 and n & mask = n, and mask is: "),s(`\n                ... 1 ... ... 1 ... 1 ... 1 ... 1\n                [32/k]*k     3k    2k     k     0\n`)])])},function(e,t,n){"use strict";let r=n(1),{paraTitle:o,list:i,article:a,code:s,emphasize:l}=n(8)();e.exports=a({title:"When and how to use dynamic programming",date:"2017-10-11",author:"Arre",introduction:"Dynamic programming is a common method used to solve problems which contain optimal substructure. This article focused on the moment to use dynamic programming and make a summary. Find out when and how to write dynamic programming the key goal."},[o("Look back - Concept"),r("p","Like divide-and-conquer, dynamic programming (DP) is another method which consider to compose subproblems results into a big problem result. When we say composing subproblems which means we can use recursion technology to solve it. But sometimes, subproblems will be calculate mutiple times in recursion, because of the overlapping subproblems. To avoid this, we can use memorization or tabulation."),r("p","Another classical situation to use DP is the optimal substructure."),s(`Assume a problem is P, |P| is the scale of the problem. \nf(P) is a max/min result to handle problem P. \nWe can represent optimal substructure like this:\n(consider the max situation)\n\nf(P) = Max(h1(f(P1)), h2(f(P2)), ..., hr(f(Pr))), r >= 0\n\nP1, P2, ..., Pr are sub problems of P, |P1| < |P|, |P2| < |P|, ..., |Pr| < |P|.\nh1, h2, ..., hr are some help function.\n`),r("p","No matter what, on consideration of engineering, we can say in DP: "),i(["We can get the problem result by composing sub problems results.","In recursion tree, there may are some same sub problems."]),o("Look back - General method to solve DP problem"),r("p","Standard methods are:"),i(["Memoization. Since there are repeated sub problems, we just need to use a map to record sub problems result, and use it before we calculate a sub problem.","Tabulation. Another thought to solve this kind of problem is use a table (one-dimensional, two-dimensional, ...). Every kind of scale of problem result can be found at table, so we just need to use results in table to calculate new scale result to fill the table."]),o("Notations to represent DP"),r("p","In order to discuss this problem more consistently, we need a unformally way to represent DP."),r("h4","input notation"),r("p","We use P to stand for input of the problem. When we say scale of problem, it equals scale of input. We use  to stand for the domain of P in a specific problem."),r("h4","input identity"),r("p","How to judge two input that are same or not. It's a way to judge two problem that are same or not. Different data structure may have different way to do that. In here, we just use notation Id(P) to represent identity of P."),s(`Id:   Y`),r("h4","target function"),r("p","Our goal in progamming is to solve the problem to get result, we call this procedure as target function. In here, we use F to notate target function."),r("h4","scale of input"),s(`Scale of P is a tuple, like (N1, N2, ..., Nk), k >= 1\nNi is a integer stands for scale weight in dimension i. i = 1, 2, ..., k.\nNotate |P| = (N1, N2, ..., Nk), D(P) = k`),r("p","Scale used to measure how big input is. Commonly, scale of input integer n is n. The input is an array, the scale may be the length of the array."),r("p","Examples for scale of input:"),i(["Fibonacci number, f(n). Scale of the input is (n)","LCS (longest common sequence), LCS(A[0...n-1], B[0...m-1]). Scale of the input is (n, m)"]),r("p","An important thing about scale is how to compare two scales"),s(`We got problem P1 and P2, if there are comparable: \nD(P1) = D(P2).\n\n|P1| = |P2| is equivalent to:\n(i)  D(P1) = D(P2)\n(ii) let |P1| = (N1, N2, ..., Nk), |P2| = (N1\`, N2\`, ..., Nk\`), for all Ni = Ni\`, i = 1, 2, ..., k\n\n|P1| >= |P2| is equivalent to:\n(i)  D(P1) = D(P2)\n(ii) let |P1| = (N1, N2, ..., Nk), |P2| = (N1\`, N2\`, ..., Nk\`), for all Ni >= Ni\`, i = 1, 2, ..., k\n\n|P1| > |P2| is equivalent to:\n(i)  |P1| >= |P2|\n(ii) let |P1| = (N1, N2, ..., Nk), |P2| = (N1\`, N2\`, ..., Nk\`), exists Ni > Ni\`, i = 1, 2, ..., k\n\nWe can define |P1| <= |P2|, |P1| < |P2| in the same way.\n`),r("h4","sub input"),r("p","In here, sub input equals sub problem. Assume P` is a sub input of P, we can know P` come from P and P` has a smaller scale. So for a specific sub input P`, we need to know two stuff:"),i(["How to get P` from P","The scale of P`"]),s(`Assume input P\` is a sub problem of P, it must satisfied:\n (i)   P\`  .\n (ii)  |P\`| < |P|\n (iii) P\` = (P), which means we construct P\` from P. :   \n\n We use P\` < P to notate that P\` is a sub input of P. (Don't get confused with |P\`| < |P|.)\n`),r("h4","DP problem notation"),s(`If input P with target function F can be resolved like this:\nF(P) = some values,  if |P| is small enough\n    |  H(F(P1), F(P2), ..., F(Pr)), Pi < P, i=1,2,...,r\n\nWe also know how to construct P1, P2, ..., Pr from P.\n\nPi = i(P), i = 1,2,3,...,r\n\nWe say this is a DP problem.\n\nH function is composition method, which consider how to compose sub inputs results into a bigger input result.\n`),r("p","Now, we will analysis the two methods to solve DP."),o("Recursion with memorization method"),s(`// We defined a map used to store sub inputs results\nfunction F(P, map) {\n    if(P are some small enough inputs) {\n        resolve smale input value directly, assign to variable value;\n        return value;\n    }\n\n    // at first we check if we calculate this problem\n    if(map[Id(P)]) { // found in cache, O(1)\n        return map[Id(P)];\n    }\n\n    // do the recursion\n    // construct sub inputs\n    P1, P2, ..., Pr\n    value = H(F(P1), F(P2), ..., F(Pr));\n\n    map[Id(P)] = value; // memory it\n    return value;\n}`),o("Tabulation method"),r("h4","Scale & Input identical assumption"),r("p","To use tabulation method, we need a assumption, which is:"),s(`Scale & Input identical assumption: input P1, p2, if |P1| = |P2|, then P1 = P2.\n\nIn another word, we could just define the identity of P is it's scale.\n\nId(P) = |P|.\n`),o("When to use DP"),r("p","Let's return to our main topic when to use DP. The answer is:"),i(["We can construct DP problem by using recursion function, like we mentioned before.","Overlapping sub problems.","Problem satisfies Scale & Input identical assumption"]),r("p","If our problem is simple enough or we already have a better solution, of cource, we do not need to use DP. But if our problem has obvious recursive characteristics, we can try this method. If we have overlapping sub problems, we definitely can use this method. And there is another situation, if we do not have a solution for our problem, recursion is absolute good choice to give it a shot. After we wrote the recursion equation, we can then analysis about optimal substructure and overlapping sub problems to decide to use DP or not."),r("p","If we try to use this method, the steps to construct DP problem are:"),i(["Define the scale of your input","Try to reduce input to some sub inputs. We may need to enumerate some sub problems by dimensions. For example, we can enumerate sub inputs of input (n,m) to (n-1,m) (n, m-1), (n-1,m-1).","Try to find a way to compose sub inputs results.","If we reached here, we can say DP is an option. Then we just need to figure out some boundy for small inputs. And choose memorization or tabulation."])])},function(e,t,n){"use strict";let{paraTitle:r,list:o,article:i,code:a}=n(8)();n(1);e.exports=i({title:"Resolvable one-dimension recursive algorithm",date:"2017-12-09",author:"Arre",introduction:"In recursive algorithm, we divide our problem into some sub problems. Sub problem have a less scale than origin problem. Generally, not all recursive algorithm is resolvable. In this article, we explored resolvable conditions for one-dimension recursive algorithm."},[r("Working on ...")])},function(e,t,n){"use strict";const r=n(1),{paraTitle:o,code:i,article:a}=n(8)();e.exports=a({title:"Avoid casual mutable code",date:"2017-08-11",author:"Arre",introduction:"In javascript, we write mutable code a lot. Even if we did not realize that. In this article, we make a example of bab case of mutable code. Sometimes it's just a bad habit we need to change."},[o("What is mutable variable?"),r("p","In code, if a variable's value can be changed, then this variable is a mutable variable. If we did change the value of a variable in a line, we could just call this line a mutable code line. For example:"),i(`let a = 10;  // we defined a mutable variable a\na = 20; // we changed the value of a.`),r("p","In this example, we defined a variable a, and change it's value after that."),r("p","It's common in javascript to change a variable's value. Sometimes, it is necessary to keep code simple and clean. Let's make a example:"),o("Sometimes, mutable variable is a good choice."),r("p","problem: print a tree data level by level"),i(`Example, we got tree\n\n          3\n     2         1\n  4    5     6    7\n\nWe want to print the tree level by level:\n3\n2,1\n4,5,6,7\n`),i(`function PrintTree(t) {\n  let level = [t];\n\n  while(level.length) {\n     const levelStr = level.map((item) => item.value).join(',');\n     console.log(levelStr); // print current level string\n\n     // change current level\n     level = level.reduce((prev, item) => {\n        // add current item's children to next level\n        if (item.left) prev.push(item.left);\n        if (item.right) prev.push(item.right);\n        return prev;\n     }, []);\n  }\n}`),r("p","In this example, we defined level as a mutable variable, but give us a super convenient. If we try to make level immutable, the code will not be so clean."),r("p","So why we should try to avoid casual mutable code, even if javascript is just a single thread language."),r("p","Let's make a bad common example."),o("Bad mutable variable example"),r("p","problem: write curry function."),r('a href="https://en.wikipedia.org/wiki/Currying" target="_blank"',"Curry"),i(`const curry = (fn) => {\n    const length = fn.length;\n    if (!length || length === 1) return fn;\n\n    return curryFun(fn, [], length);\n};\n\nconst curryFun = (fn, vs, restLen) => {\n    if (restLen <= 0) return fn(...vs); // accept enough params\n\n    return (...args) => {\n        vs = vs.concat(args);\n        const nextLen = restLen - args.length;\n\n        return curryFun(fn, vs, nextLen);\n    };\n};\n`),r("p","This implementation is wrong! And somehow it can passes some cases. Let's make a bad case by using this curry function."),i(`var add = curry(function(a, b, c) {\n  return a + b + c;\n});\nadd(1)(2)(3); // 6\nadd(2)(3)(4); // 6 not 9!\n`),r("p","This case failed, add(2)(3)(4) supposed to be 9 not 6. let's try to find out why."),r("p","The problem is this line:"),i("vs = vs.concat(args);"),r("p","In the whole program, we just change variable vs. And vs will be passed by closure (because closure called the curryFun too, and pass the same vs variable). So in this code we just shared vs and we changed it. The change would be valid for all closures which shared vs. That means when we called add(2)(3)(4), the vs parameter is not empty."),o("Correct immutable version"),r("p",'Just need to correct "vs = vs.concat(args);". We correct it by produce a new array "const nextVs = vs.concat(args);"'),i(`const curry = (fn) => {\n    const length = fn.length;\n    if (!length || length === 1) return fn;\n\n    return curryFun(fn, [], length);\n};\n\nconst curryFun = (fn, vs, restLen) => {\n    if (restLen <= 0) return fn(...vs); // accept enough params\n\n    return (...args) => {\n        const nextVs = vs.concat(args); // do not change vs.\n        const nextLen = restLen - args.length;\n\n        return curryFun(fn, nextVs, nextLen);\n    };\n};\n`)])}]);