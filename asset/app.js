!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=49)}([function(e,t,r){"use strict";let n=e=>!!(e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0),o=e=>!(!e||"object"!=typeof e),i=e=>"function"==typeof e,s=(e,t)=>{if(!n(e))throw new TypeError(a(e,"list"));if(!i(t))throw new TypeError(a(t,"function"));for(let r=0;r<e.length;r++)if(!t(e[r]))return!1;return!0},a=(e,t)=>`Expect ${t} type, but got type ${typeof e}, and value is ${e}`;e.exports={isArray:e=>Array.isArray(e),likeArray:n,isString:e=>"string"==typeof e,isObject:o,isFunction:i,isNumber:e=>"number"==typeof e&&!isNaN(e),isBool:e=>"boolean"==typeof e,isNode:e=>"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,isPromise:e=>e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch,isNull:e=>null===e,isUndefined:e=>void 0===e,isFalsy:e=>!e,isRegExp:e=>e instanceof RegExp,isReadableStream:e=>o(e)&&i(e.on)&&i(e.pipe),isWritableStream:e=>o(e)&&i(e.on)&&i(e.write),funType:(e,t=[])=>{if(!i(e))throw new TypeError(a(e,"function"));if(!n(t))throw new TypeError(a(t,"array"));for(let e=0;e<t.length;e++){let r=t[e];if(r&&!i(r))throw new TypeError(a(r,"function"))}return function(){for(let r=0;r<t.length;r++){let n=t[r],o=arguments[r];if(n&&!n(o))throw new TypeError(`Argument type error. Arguments order ${r}. Argument is ${o}. function is ${e}, args are ${arguments}.`)}return e.apply(this,arguments)}},any:s,exist:(e,t)=>{if(!n(e))throw new TypeError(a(e,"array"));if(!i(t))throw new TypeError(a(t,"function"));for(let r=0;r<e.length;r++)if(t(e[r]))return!0;return!1},and:(...e)=>{if(!s(e,i))throw new TypeError("The argument of and must be function.");return t=>{for(let r=0;r<e.length;r++)if(!(0,e[r])(t))return!1;return!0}},or:(...e)=>{if(!s(e,i))throw new TypeError("The argument of and must be function.");return t=>{for(let r=0;r<e.length;r++)if((0,e[r])(t))return!0;return!1}},not:e=>{if(!i(e))throw new TypeError("The argument of and must be function.");return t=>!e(t)},mapType:e=>{if(!o(e))throw new TypeError(a(e,"obj"));for(let t in e){let r=e[t];if(!i(r))throw new TypeError(a(r,"function"))}return t=>{if(!o(t))return!1;for(let r in e)if(!(0,e[r])(t[r]))return!1;return!0}},listType:e=>{if(!i(e))throw new TypeError(a(e,"function"));return t=>s(t,e)},truth:()=>!0}},function(e,t,r){"use strict";let n=e=>e&&"object"==typeof e&&!Array.isArray(e),o=(e,t,r="",i={})=>{if(-1!==(i.blackList||[]).findIndex(e=>e===r))return e;if(n(t)){if(e=e||{},n(e))for(let n in t)e[n]=o(e[n],t[n],""===r?n:r+"."+n,i);return e}return void 0===e?t:e},i=(e,...t)=>"function"==typeof e?i(e(...t)):e,s=e=>e&&"object"==typeof e;e.exports={styles:(...e)=>Object.assign({},...e),isMapObject:n,deepMergeMap:o,resolveFnValue:i,get:(e,t="")=>{let r=(t=t.trim())?t.split("."):[],n=r.length;for(let t=0;t<n;t++){let n=r[t].trim();n&&(e=e[n])}return e},set:(e,t="",r)=>{let n=(t=t.trim())?t.split("."):[];if(!n.length)return;let o=e;for(let e=0;e<n.length-1;e++){let t=n[e];if(t=t.trim()){let e=o[t];s(e)||(e={},o[t]=e),o=e}}return o[n[n.length-1]]=r,e},isObject:s,likeArray:e=>e&&"object"==typeof e&&"number"==typeof e.length}},function(e,t,r){"use strict";let{n:n,parseArgs:o}=r(6);e.exports=((...e)=>{let t=e[0];if("string"==typeof t)return n(...e);{let{attributes:r,childs:n}=o(e,{doParseStyle:!1});return t({props:r,children:n})}})},function(e,t,r){"use strict";let n=r(39);e.exports=((e,t)=>n(e)(t))},function(e,t,r){"use strict";let{isObject:n,funType:o,or:i,isString:s,isFalsy:a,likeArray:l}=r(0),c=r(24),{map:u,reduce:p,find:h,findIndex:d,forEach:f,filter:m,any:y,exist:g,compact:b}=r(56),E=(e,t,r)=>-1!==d(e,t,r),v=(e,t,r)=>(e[r]=t,e),S=(e,t,r=[])=>p(e,(e,r)=>(E(e,r,t)||e.push(r),e),r),T=o((e,t="")=>{let r=(t=t.trim())?t.split("."):[];return p(r,P,e,_)},[n,i(s,a)]),P=(e,t)=>e[t],_=e=>!e,A=e=>l(e)&&!s(e)?p(e,(e,t)=>e=e.concat(A(t)),[]):[e];e.exports={flat:A,contain:E,difference:(e,t,r)=>p(e,(e,n)=>(E(t,n,r)||E(e,n,r)||e.push(n),e),[]),union:(e,t,r)=>S(t,r,S(e,r)),interset:(e,t,r)=>p(e,(e,n)=>(E(t,n,r)&&e.push(n),e),[]),map:u,reduce:p,iterate:c,find:h,findIndex:d,deRepeat:S,forEach:f,filter:m,any:y,exist:g,get:T,delay:e=>new Promise(t=>{setTimeout(t,e)}),mergeMap:(e={},t={})=>p(t,v,p(e,v,{})),compact:b}},function(e,t,r){"use strict";let n=(e,t)=>({type:e,data:t}),o=(e,t)=>e.type===t;e.exports={Signal:n,onSignalType:(e,t)=>(r,...n)=>{if(o(r,e))return t(r,...n)},isSignalType:o,deliver:(e,t,r)=>(o,i,s)=>{e.notify(n(t,{sourceType:"delivered",sourceSignal:o,sourceData:i,sourceCtx:s,extra:r}))}}},function(e,t,r){"use strict";e.exports=r(55)},function(e,t,r){"use strict";let{isObject:n,funType:o,or:i,isString:s,isFalsy:a,likeArray:l}=r(0),c=r(35),{map:u,reduce:p,find:h,findIndex:d,forEach:f,filter:m,any:y,exist:g,compact:b,reverse:E,overArgs:v}=r(97),S=(e,t,r)=>-1!==d(e,t,r),T=(e,t,r)=>(e[r]=t,e),P=(e,t,r=[])=>p(e,(e,r)=>(S(e,r,t)||e.push(r),e),r),_=o((e,t="")=>{let r=(t=t.trim())?t.split("."):[];return p(r,A,e,w)},[n,i(s,a)]),A=(e,t)=>e[t],w=e=>!e,N=e=>l(e)&&!s(e)?p(e,(e,t)=>e=e.concat(N(t)),[]):[e];e.exports={flat:N,contain:S,difference:(e,t,r)=>p(e,(e,n)=>(S(t,n,r)||S(e,n,r)||e.push(n),e),[]),union:(e,t,r)=>P(t,r,P(e,r)),interset:(e,t,r)=>p(e,(e,n)=>(S(t,n,r)&&e.push(n),e),[]),map:u,reduce:p,iterate:c,find:h,findIndex:d,deRepeat:P,forEach:f,filter:m,any:y,exist:g,get:_,delay:e=>new Promise(t=>{setTimeout(t,e)}),mergeMap:(e={},t={})=>p(t,T,p(e,T,{})),compact:b,reverse:E,overArgs:v}},function(module,exports,__webpack_require__){"use strict";let{reduce:reduce}=__webpack_require__(4),{funType:funType,isObject:isObject,or:or,isString:isString,isFalsy:isFalsy}=__webpack_require__(0),defineProperty=(e,t,r)=>(Object.defineProperty?Object.defineProperty(e,t,r):e[t]=r.value,e),hasOwnProperty=(e,t)=>{if(e.hasOwnProperty)return e.hasOwnProperty(t);for(var r in e)if(r===t)return!0;return!1},toArray=(e=[])=>Array.prototype.slice.call(e),get=funType((e,t="")=>{let r=(t=t.trim())?t.split("."):[];return reduce(r,getValue,e,invertLogic)},[isObject,or(isString,isFalsy)]),getValue=(e,t)=>e[t],invertLogic=e=>!e,set=(e,t="",r)=>{let n=(t=t.trim())?t.split("."):[],o=e;if(isObject(o)&&n.length){for(let e=0;e<n.length-1;e++)if(o=o[n[e]],!isObject(o))return null;return o[n[n.length-1]]=r,!0}},authProp=e=>{let t=(t,r,n)=>{t[r]={token:e,value:n}};return{set:(r,n,o)=>{let i=null;hasOwnProperty(r,n)||defineProperty(r,n,{enumerable:!1,configurable:!1,set:t=>{isObject(t)&&t.token===e&&(i=t.value)},get:()=>i}),t(r,n,o)}}},evalCode=code=>"string"!=typeof code?code:eval(`(function(){\n    try {\n        ${code}\n    } catch(err) {\n        console.log('Error happened, when eval code.');\n        throw err;\n    }\n})()`),delay=e=>new Promise(t=>{setTimeout(t,e)}),runSequence=(e,t=[],r,n)=>{if(!e.length)return Promise.resolve();let o=e[0],i=o&&o.apply(r,t);return n&&i===n?Promise.resolve(n):Promise.resolve(i).then(()=>runSequence(e.slice(1),t,r,n))};module.exports={defineProperty:defineProperty,hasOwnProperty:hasOwnProperty,toArray:toArray,get:get,set:set,authProp:authProp,evalCode:evalCode,delay:delay,runSequence:runSequence}},function(e,t,r){"use strict";e.exports=r(85)},function(e,t,r){"use strict";let{map:n}=r(4),{isObject:o,isNode:i}=r(0),s=r(57),a=r(25);let l=e=>(...t)=>{let{tagName:r,attributes:n,childs:o}=s(t);c(n)&&(o=[n],n={}),u(n.plugin,r,n,o);let{attrMap:i,eventMap:a}=p(n);return{tagName:r,attrMap:i,eventMap:a,elementType:e,type:"kabanery_node",childNodes:o}},c=e=>o(e)&&"kabanery_node"===e.type,u=(e=[],t,r,n)=>{for(let o=0;o<e.length;o++){let i=e[o];i&&i(t,r,n)}},p=e=>{let t={},r={};for(let n in e){let o=e[n];0===n.indexOf("on")?r[n.substring(2)]=o:"plugin"!==n&&(t[n]=o)}return{attrMap:t,eventMap:r}},h=e=>{if(i(e))return e.outerHTML;if(c(e)){let{tagName:t,attrMap:r,childNodes:o}=e,i=n(r,(e,t)=>`${t}="${e}"`).join(" ");return i=i?" "+i:"",`<${t}${i}>${n(o,h).join("")}</${t}>`}return e+""};e.exports={n:l("html"),svgn:l("svg"),cn:l,bindPlugs:(e,t=[])=>(...r)=>{let{tagName:n,attributes:o,childs:i}=s(r),a=o.plugin=o.plugin||[];return o.plugin=a.concat(t),e(n,o,i)},isKabaneryNode:c,toHTML:h,parseArgs:s,parseStyle:a}},function(e,t,r){"use strict";let n=r(26)();e.exports={eventMapHook:`__eventMap_${n}`,globalEventTypePrefix:`__event_type_id_${n}_`,stopPropagationFlag:"__stopPropagation"}},function(e,t,r){"use strict";let{createElement:n,createSvgElement:o}=r(67),{bindEvents:i}=r(13),{map:s}=r(4),{isKabaneryNode:a}=r(10),l=e=>{if(a(e)){let t=null;return t="html"===e.elementType?n(e.tagName,e.attrMap,s(e.childNodes,l)):o(e.tagName,e.attrMap,s(e.childNodes,l)),i(t,e.eventMap),t}return e};e.exports=l},function(e,t,r){"use strict";let n=r(68),{eventMapHook:o}=r(11),{listenEventType:i,clearEvents:s,attachDocument:a,dispatchEvent:l}=n();e.exports={bindEvents:(e,t)=>{e[o]=t;for(let e in t)i(e)},attachDocument:a,dispatchEvent:l,clearEvents:s}},function(e,t,r){"use strict";t.decode=t.parse=r(74),t.encode=t.stringify=r(75)},function(e,t,r){e.exports=r(82)},function(e,t,r){"use strict";e.exports={WAIT:2,MATCH:1,QUIT:0}},function(e,t,r){"use strict";let{reduce:n}=r(7);e.exports={buildClosure:(e,t,r)=>{let o=e,i={},s={};for(let t=0;t<e.length;t++){let r=e[t];i[r.serialize()]=!0,s[r.serializePrefix()]=r}for(;;){let t=n(o,(e,t)=>{let n=r.expandItem(t);return e.concat(n)},[]),a=[];for(let e=0;e<t.length;e++){let r=t[e];if(!i[r.serialize()]){a.push(r),i[r.serialize()]=!0;let e=s[r.serializePrefix()];s[r.serializePrefix()]=e?e.concatForwards(r.getForwards()):r}}if(!a.length)break;e=e.concat(a),o=a}let a=JSON.stringify(Object.keys(i).sort()),l=[];for(let e in s)l.push(s[e]);return{items:l,serializedText:a}},sameClosure:(e,t)=>e.serializedText===t.serializedText}},function(e,t){e.exports={P_PROGRAM:"PROGRAM := EXPRESSION_LIST",P_EXPRESSION_LIST_0:"EXPRESSION_LIST := EXPRESSION",P_EXPRESSION_LIST_1:"EXPRESSION_LIST := EXPRESSION semicolon EXPRESSION_LIST",P_EXPRESSION_0:"EXPRESSION := QUERY_EXPRESSION",P_EXPRESSION_1:"EXPRESSION := UPDATE_EXPRESSION",P_EXPRESSION_2:"EXPRESSION := ",P_UPDATE_EXPRESSION_0:"UPDATE_EXPRESSION := PATH assign QUERY_EXPRESSION",P_UPDATE_EXPRESSION_1:"UPDATE_EXPRESSION := delete PATH",P_UPDATE_EXPRESSION_2:"UPDATE_EXPRESSION := append PATH assign QUERY_EXPRESSION",P_QUERY_EXPRESSION_0:"QUERY_EXPRESSION := ATOM_DATA",P_QUERY_EXPRESSION_1:"QUERY_EXPRESSION := variableName",P_QUERY_EXPRESSION_2:"QUERY_EXPRESSION := PATH",P_QUERY_EXPRESSION_3:"QUERY_EXPRESSION := variableName leftBracket rightBracket",P_QUERY_EXPRESSION_4:"QUERY_EXPRESSION := variableName leftBracket QUERY_EXPRESSION_LIST rightBracket",P_QUERY_EXPRESSION_LIST_0:"QUERY_EXPRESSION_LIST := QUERY_EXPRESSION",P_QUERY_EXPRESSION_LIST_1:"QUERY_EXPRESSION_LIST := QUERY_EXPRESSION comma QUERY_EXPRESSION_LIST",P_PATH_0:"PATH := nodeName",P_PATH_1:"PATH := nodeName PATH",P_PATH_2:"PATH := nodeNameVariable",P_PATH_3:"PATH := nodeNameVariable PATH",P_ATOM_DATA_0:"ATOM_DATA := true",P_ATOM_DATA_1:"ATOM_DATA := false",P_ATOM_DATA_2:"ATOM_DATA := null",P_ATOM_DATA_3:"ATOM_DATA := string",P_ATOM_DATA_4:"ATOM_DATA := number",T_ATOM:"atom",T_PATH:"path",T_FUNCTION:"function",T_VARIABLE_NAME:"variableName",T_ASSIGN:"assign",T_DELETE:"delete",T_APPEND:"append",T_NODE_NAME:"nodeName",T_NODE_NAME_VARIABLE:"nodeNameVariable",A_DEFAULT:"default"}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";let{get:n,set:o}=r(1),{Signal:i}=r(5);const s=e=>e;e.exports={syncBindWithKeyMap:(e,t,{bindedProps:r={},stopSignal:a,autoUpdate:l=!1,updatedSignalTypes:c=null,onChildSignal:u,toBinded:p=s,toBinder:h=s}={})=>{let d=e.getData().props,f=[];for(let e in t)f.push([e,t[e]]);let m=f.reduce((e,[t,r])=>{let i=n(d,t);return o(e,r,p(i,t,r)),e},{});return Object.assign({theme:d.theme},r,m,{onsignal:(r,s,p)=>{f.forEach(([e,t])=>{let r=n(s.props,t);o(d,e,h(r,e,t))}),u&&u(r,s,p),a||e.notify(i(r.type,{sourceType:"child",keyMap:t,sourceSignal:r,sourceData:s,sourceCtx:p})),l&&(c?-1!==c.findIndex(e=>e===r.type)&&e.update():e.update())}})}}},function(e,t,r){"use strict";let{n:n}=r(6),o=r(3),{styles:i}=r(1);e.exports=o(({props:e,children:t})=>n("div",{style:e.style},t),{defaultProps:{style:e=>i(e.fullParent)},defaultChildren:[""]})},function(e,t,r){"use strict";let n=r(3),o=r(2),i=r(21),{styles:s}=r(1);const{MODE_PERCENTAGE:a,MODE_PILE:l,MODE_PARTION:c}=r(41);let{getChildStylesInPercentage:u,getChildStylesInPile:p,getChildStylesInPartion:h}=r(42);e.exports=n(({props:e,children:t})=>{let{theme:r,style:n,mode:s,pers:d,leftPartions:f,rightPartions:m}=e;return s===l?n.childs=p(t,r,n.childs,"width"):s===a?n.childs=u(t,d,n.childs,r,"width"):s===c&&(n.childs=h(f,m,n.childs,r,"width")),o(i,{style:n.container,theme:r},[t.map((e,t)=>o("div",{style:n.childs[t]},e)),(s===a||s===l)&&o('div style="clear:both"')])},{defaultProps:{mode:l,pers:[],leftPartions:[],rightPartions:[],style:{container:{},childs:[]}}})},function(e,t,r){"use strict";let n=r(53),o=r(54),i=e=>{for(var t=0;e;)t+=e.offsetLeft,e=e.offsetParent;return t},s=e=>{for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t};e.exports={getX:i,getY:s,getClientX:e=>i(e)-window.scrollX,getClientY:e=>s(e)-window.scrollY,removeChilds:e=>{for(;e&&e.firstChild;)e.removeChild(e.firstChild)},once:(e,t,r,n)=>{let o=function(i){let s=r.apply(this,[i]);return e.removeEventListener(t,o,n),s};e.addEventListener(t,o,n)},shadowFrame:n,getAttributeMap:(e=[])=>{let t={};for(let r=0;r<e.length;r++){let{name:n,value:o}=e[r];t[n]=o}return t},startMomenter:o,getClasses:(e="")=>{let t=[],r=e.split(" ");for(let e=0;e<r.length;e++){let n=r[e];(n=n.trim())&&t.push(n)}return t}}},function(e,t,r){"use strict";let{likeArray:n,isObject:o,funType:i,isFunction:s,isUndefined:a,or:l,isNumber:c,isFalsy:u,mapType:p}=r(0),h=i((e=[],t={})=>{let{predicate:r,transfer:i,output:s,limit:a,def:l}=t;t.predicate=r||y,t.transfer=i||b,t.output=s||m,void 0===a&&(a=e&&e.length),a=t.limit=f(a);let c=l,u=0;if(n(e))for(let r=0;r<e.length;r++){let n=d(e,r,u,c,t);if(c=n.rets,u=n.count,n.stop)return c}else if(o(e))for(let r in e){let n=d(e,r,u,c,t);if(c=n.rets,u=n.count,n.stop)return c}return c},[l(o,s,u),l(a,p({predicate:l(s,u),transfer:l(s,u),output:l(s,u),limit:l(a,c,s)}))]),d=(e,t,r,n,{predicate:o,transfer:i,output:s,limit:a})=>{let l=e[t];return a(n,l,t,e,r)?{stop:!0,count:r,rets:n}:(o(l)&&(n=s(n,i(l,t,e,n),t,e),r++),{stop:!1,count:r,rets:n})},f=e=>a(e)?g:c(e)?(t,r,n,o,i)=>i>=e:e,m=(e,t)=>(e.push(t),e),y=()=>!0,g=()=>!1,b=e=>e;e.exports=h},function(e,t,r){"use strict";let{isString:n,isObject:o}=r(0);e.exports=((e="",{keyWrapper:t,valueWrapper:r}={})=>{if(n(e))return e;if(!o(e))throw new TypeError(`Expect object for style object, but got ${e}`);let a=[];for(let n in e){let o=e[n];n=i(n),o=s(o,n),t&&(n=t(n,o)),r&&(o=r(o,n)),a.push(`${n}: ${o};`)}return a.join("")});let i=e=>e.replace(/[A-Z]/,e=>`-${e.toLowerCase()}`),s=(e,t)=>{if("number"==typeof e&&"z-index"!==t)return e+"px";if("padding"===t||"margin"===t){let t=e.split(" ");for(let e=0;e<t.length;e++){let r=t[e];isNaN(Number(r))||(t[e]=r+"px")}e=t.join(" ")}return e}},function(e,t,r){var n=r(64),o=r(65);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";let{attachDocument:n}=r(13),{isNode:o}=r(0),{flat:i,forEach:s}=r(4),a=r(12);e.exports=((e,t)=>{e=i(e),s(e,e=>{e=a(e),o(e)&&t.appendChild(e)}),n(l(t))});let l=e=>{for(;e.parentNode;)e=e.parentNode;return e}},function(e,t,r){"use strict";e.exports=r(84)},function(e,t,r){"use strict";let{isObject:n}=r(0);const o="7e942534-ea8b-4c75-90fd-705aec328d00";let i=e=>s(e)?e:null===e?{content:e,actionType:"epsilon",__basic_action_type__:o}:{content:e,actionType:"normal",__basic_action_type__:o},s=e=>n(e)&&e.__basic_action_type__===o;e.exports={isAction:s,isLeftAction:e=>s(e)&&"left"===e.actionType,isRangeAction:e=>s(e)&&"range"===e.actionType,isUnionAction:e=>s(e)&&"union"===e.actionType,isNormalAction:e=>s(e)&&"normal"===e.actionType,isEpsilonAction:e=>s(e)&&"epsilon"===e.actionType,left:()=>({actionType:"left",__basic_action_type__:o}),range:(e,t)=>({actionType:"range",start:e,end:t,__basic_action_type__:o}),toAction:i,union:(...e)=>{for(let t=0;t<e.length;t++){let r=e[t];s(r)||(e[t]=i(r))}return{actionType:"union",actions:e,__basic_action_type__:o}}}},function(e,t,r){"use strict";let{isObject:n,funType:o,or:i,isString:s,isFalsy:a,likeArray:l}=r(0),c=r(32),{map:u,reduce:p,find:h,findIndex:d,forEach:f,filter:m,any:y,exist:g,compact:b,reverse:E,overArgs:v}=r(89),S=(e,t,r)=>-1!==d(e,t,r),T=(e,t,r)=>(e[r]=t,e),P=(e,t,r=[])=>p(e,(e,r)=>(S(e,r,t)||e.push(r),e),r),_=o((e,t="")=>{let r=(t=t.trim())?t.split("."):[];return p(r,A,e,w)},[n,i(s,a)]),A=(e,t)=>e[t],w=e=>!e,N=e=>l(e)&&!s(e)?p(e,(e,t)=>e=e.concat(N(t)),[]):[e];e.exports={flat:N,contain:S,difference:(e,t,r)=>p(e,(e,n)=>(S(t,n,r)||S(e,n,r)||e.push(n),e),[]),union:(e,t,r)=>P(t,r,P(e,r)),interset:(e,t,r)=>p(e,(e,n)=>(S(t,n,r)&&e.push(n),e),[]),map:u,reduce:p,iterate:c,find:h,findIndex:d,deRepeat:P,forEach:f,filter:m,any:y,exist:g,get:_,delay:e=>new Promise(t=>{setTimeout(t,e)}),mergeMap:(e={},t={})=>p(t,T,p(e,T,{})),compact:b,reverse:E,overArgs:v}},function(e,t,r){"use strict";let{isPromise:n,likeArray:o,isObject:i,funType:s,isFunction:a,isUndefined:l,or:c,isNumber:u,isFalsy:p,isReadableStream:h,mapType:d}=r(0),f=s((e,t={})=>(e=e||[],n(e)?e.then(e=>f(e,t)):m(e,t)),[c(n,i,a,p),c(l,d({predicate:c(a,p),transfer:c(a,p),output:c(a,p),limit:c(l,u,a)}))]),m=(e,t)=>{let r=(t=y(t,e)).def,n=0;if(h(e)){let o=-1;return new Promise((i,s)=>{e.on("data",s=>{let a=g(s,e,++o,n,r,t);r=a.rets,n=a.count,a.stop&&i(r)}),e.on("end",()=>{i(r)}),e.on("error",e=>{s(e)})})}if(o(e))for(let o=0;o<e.length;o++){let i=e[o],s=g(i,e,o,n,r,t);if(r=s.rets,n=s.count,s.stop)return r}else if(i(e))for(let o in e){let i=e[o],s=g(i,e,o,n,r,t);if(r=s.rets,n=s.count,s.stop)return r}return r},y=(e,t)=>{let{predicate:r,transfer:n,output:o,limit:i}=e;return e.predicate=r||v,e.transfer=n||T,e.output=o||E,void 0===i&&(i=t&&t.length),i=e.limit=b(i),e},g=(e,t,r,n,o,{predicate:i,transfer:s,output:a,limit:l})=>l(o,e,r,t,n)?{stop:!0,count:n,rets:o}:(i(e)&&(o=a(o,s(e,r,t,o),r,t),n++),{stop:!1,count:n,rets:o}),b=e=>l(e)?S:u(e)?(t,r,n,o,i)=>i>=e:e,E=(e,t)=>(e.push(t),e),v=()=>!0,S=()=>!1,T=e=>e;e.exports={iterate:f}},function(e,t,r){"use strict";e.exports={assembleToken:(e,t)=>({tokenType:e,name:e.name,text:t})}},function(e,t,r){"use strict";e.exports={END_SYMBOL:"$",EXPAND_START_SYMBOL:"S`",EPSILON:null}},function(e,t,r){"use strict";let{isPromise:n,likeArray:o,isObject:i,funType:s,isFunction:a,isUndefined:l,or:c,isNumber:u,isFalsy:p,isReadableStream:h,mapType:d}=r(0),f=s((e,t={})=>(e=e||[],n(e)?e.then(e=>f(e,t)):m(e,t)),[c(n,i,a,p),c(l,d({predicate:c(a,p),transfer:c(a,p),output:c(a,p),limit:c(l,u,a)}))]),m=(e,t)=>{let r=(t=y(t,e)).def,n=0;if(h(e)){let o=-1;return new Promise((i,s)=>{e.on("data",s=>{let a=g(s,e,++o,n,r,t);r=a.rets,n=a.count,a.stop&&i(r)}),e.on("end",()=>{i(r)}),e.on("error",e=>{s(e)})})}if(o(e))for(let o=0;o<e.length;o++){let i=e[o],s=g(i,e,o,n,r,t);if(r=s.rets,n=s.count,s.stop)return r}else if(i(e))for(let o in e){let i=e[o],s=g(i,e,o,n,r,t);if(r=s.rets,n=s.count,s.stop)return r}return r},y=(e,t)=>{let{predicate:r,transfer:n,output:o,limit:i}=e;return e.predicate=r||v,e.transfer=n||T,e.output=o||E,void 0===i&&(i=t&&t.length),i=e.limit=b(i),e},g=(e,t,r,n,o,{predicate:i,transfer:s,output:a,limit:l})=>l(o,e,r,t,n)?{stop:!0,count:n,rets:o}:(i(e)&&(o=a(o,s(e,r,t,o),r,t),n++),{stop:!1,count:n,rets:o}),b=e=>l(e)?S:u(e)?(t,r,n,o,i)=>i>=e:e,E=(e,t)=>(e.push(t),e),v=()=>!0,S=()=>!1,T=e=>e;e.exports={iterate:f}},function(e,t){e.exports={getProductionId:e=>`${e[0]} := ${e[1].join(" ")}`,processTokens:e=>{let t=[];for(let r=0;r<e.length;r++){let{text:n,tokenType:o}=e[r],i=o.name;"whitespace"!==i&&t.push({text:n,name:i})}return t},isObject:e=>e&&"object"==typeof e,isFunction:e=>"function"==typeof e,isString:e=>"string"==typeof e}},function(e,t,r){"use strict";let{autoId:n,isObject:o,modifySuccess:i,removeNoneExist:s,removeSuccess:a}=r(108);e.exports=((e,{missingValue:t}={})=>{let r=r=>{let n=e;for(let e=0;e<r.length;e++){if(!o(n))return t;if(!n.hasOwnProperty(r[e]))return t;n=n[r[e]]}return n},l=(t,r)=>{let n=e;for(let e=0;e<t.length-1;e++){let r=t[e],i=n[r];o(i)||(i={},n[r]=i),n=i}return n[t[t.length-1]]=r,i(t,r)};return{queryByPath:r,setByPath:l,removeByPath:e=>{let n=e.slice(0,e.length-1),i=e[e.length-1],l=r(n);return l!==t&&o(l)&&l.hasOwnProperty(i)?(delete l[i],a(e)):s(e)},appendByPath:(e,t)=>l(e.concat([n()]),t)}})},function(e,t,r){"use strict";let n=r(3),o=r(2),i=r(119),s=r(124),{syncBindWithKeyMap:a}=r(20),l=r(21);e.exports=(e=>{return n(({props:t,children:r},n)=>o(l,{style:t.style.container},[o(i,a(n,{"loading.show":"show"},{bindedProps:{style:t.style.loading}})),o(s,a(n,{"notice.show":"show","notice.text":"text"},{bindedProps:{style:t.style.notice}})),o(e,t,r)]),{defaultProps:{loading:{show:!1},notice:{show:!1,text:""},style:{container:{},loading:{},notice:{}}}})})},function(e,t,r){"use strict";let{view:n}=r(6),o=r(113),{deepMergeMap:i,resolveFnValue:s}=r(1),a=r(118),{Signal:l}=r(5),c=r(37),{executeAST:u}=r(15);e.exports=(e=>({defaultProps:t={},defaultChildren:r=[],theme:p=o,classTable:h}={})=>{let d=t.style||{},f=s(d,p),m=s(h,p),{appendStyle:y,getClassName:g,updateClassTable:b}=a(m);return n((n,o)=>{n.props=n.props||{},n.children=n.children&&n.children.length?n.children:r,n.props.theme=n.props.theme||p,y(),n.props.theme&&"function"==typeof d&&(f=s(d,n.props.theme)),n.theme&&"function"==typeof h&&(m=s(h,n.props.theme),b(m)),n.props.style=i(n.props.style,f),n.props=i(n.props,t);let a=e=>{n.props.onsignal&&n.props.onsignal(e,o.getData(),o)},E=c(n),v=(e,...t)=>{e=e||l("update-view-data"),o.update(...t),a(e)};return o.notify=a,o.updateWithNotify=v,o.updateTree=(({ast:e,variableStub:t},r,n)=>{n=n||l("update-view-data"),u(e,{queryByPath:E.queryByPath,setByPath:E.setByPath,removeByPath:E.removeByPath,appendByPath:E.appendByPath,variableMap:r,variableStub:t}),v(n)}),o.getClassName=g,e(n,o)})})},function(e,t,r){"use strict";let{styles:n}=r(1),o={position:"relative",boxSizing:"border-box",margin:0,padding:0,border:0,borderRadius:0,overflow:"auto"},i={height:"100%"},s={width:"100%"},a=n(o,{position:"fixed",left:0,top:0},s,i),l=n(o,s,i),c={appearance:"none","-webkit-appearance":"none","-moz-appearance":"none",boxShadow:"none",borderRadius:"none",border:0};e.exports={fullWindow:a,fullParent:l,fullParentWidth:s,fullParentHeight:i,container:o,flat:c}},function(e,t){e.exports={MODE_PILE:"pile",MODE_PERCENTAGE:"percentage",MODE_PARTION:"partion"}},function(e,t,r){"use strict";let{styles:n}=r(1),o=(e,t)=>{let r=0;for(let n=0;n<t;n++){let t=e[n];r+=t=void 0===t?1:t}return r},i=(e,t,r)=>0===e?0:(void 0===t[r]?1:t[r])/e*100+"%",s=(e,t,r,o)=>n(o.container,a(e,o),"width"===e?{float:"left"}:{},t,r||{}),a=(e,t)=>"height"===e?t.fullParentWidth:t.fullParentHeight;e.exports={getChildStylesInPercentage:(e,t,r,n,a="height")=>{let l=o(t,e.length);return e.map((e,o)=>{let c=i(l,t,o);return s(a,{[a]:c},r[o],n)})},getChildStylesInPile:(e,t,r,n="height")=>e.map((e,o)=>s(n,{},r[o],t)),getChildStylesInPartion:(e,t,r,n,o="height")=>{let i=e.map((e,t)=>s(o,{[o]:e,zIndex:1},r[t],n)),a=t.map((e,t)=>s(o,{[o]:e,zIndex:2},r[i.length+1+t],n)),l=e.reduce((e,t)=>e+t,0),c=t.reduce((e,t)=>e+t,0),u=s(o,"height"===o?{height:"100%",marginBottom:-1*(l+c),paddingBottom:l+c}:{width:"100%",position:"relative",paddingLeft:l+c,marginRight:-1*(l+c),left:-1*(l+c),zIndex:0},r[i.length],n);return i.concat([u]).concat(a)}}},function(e,t,r){"use strict";let n=r(3),o=r(2),i=r(21);const{MODE_PILE:s,MODE_PERCENTAGE:a,MODE_PARTION:l}=r(41);let{getChildStylesInPercentage:c,getChildStylesInPile:u,getChildStylesInPartion:p}=r(42);e.exports=n(({props:e,children:t})=>{let{theme:r,style:n,mode:h,pers:d,topPartions:f,bottomPartions:m}=e;return h===a?n.childs=c(t,d,n.childs,r,"height"):h===s?n.childs=u(t,r,n.childs,"height"):h===l&&(n.childs=p(f,m,n.childs,r,"height")),o(i,{style:n.container,theme:r},[t.map((e,t)=>o("div",{style:n.childs[t]||{}},[e]))])},{defaultProps:{mode:s,pers:[],topPartions:[],bottomPartions:[],style:{container:{},childs:{}}}})},function(e,t,r){"use strict";let n=r(3),{styles:o}=r(1),i=r(126),{Signal:s,onSignalType:a}=r(5),l=r(2),c=r(129);e.exports=n(({props:e},{notify:t})=>{let r=(e,r)=>{void 0!==r&&t(s("click",{sourceType:e,index:r}))},n=(t,n)=>l(i,{theme:e.theme,style:e.style.logoRight,onsignal:a("click",()=>r("rightLogos",n))},[t]);return l(c,{style:e.style.container},[l("div",{style:e.style.title},e.title),e.leftLogos.map((t,n)=>l(i,{theme:e.theme,style:e.style.logoLeft,onsignal:a("click",()=>r("leftLogos",n))},[t])),e.rightLogos.reduce((e,t,r)=>(e.unshift(n(t,r)),e),[]),l('div style="clear:both"')])},{defaultProps:{title:"",leftLogos:[],rightLogos:[],signal:{type:0,sourceType:null,index:null},style:e=>({title:{textAlign:"center",color:"white",fontSize:e.basics.titleSize,lineHeight:40,position:"absolute",width:"100%"},container:o(e.oneLineBulk,e.actions.cling,{margin:0,padding:0,height:40,width:"100%",overflow:"hidden"}),logoLeft:{float:"left",height:40,cursor:"pointer"},logoRight:{float:"right",height:40,cursor:"pointer"}})}})},function(e,t,r){let n=r(127);e.exports=(({theme:e,frameName:t="ripple",className:r="btn"})=>({[`@keyframes ${t}`]:n,[`${r}::after`]:e.flatRippleMask,[`${r}:focus:not(:active)::after`]:({getClassName:e})=>({animation:`${e(t)} 1s ease-out`})}))},function(e,t,r){"use strict";let n=r(2),o=r(3),{styles:i}=r(1),{Signal:s}=r(5);e.exports=o(({props:e,children:t},{notify:r})=>n("div",{style:i(e.style.container),onclick:()=>{r(s("click"))}},[n("div",{style:i({padding:e.theme.basics.narrowPadding},e.style.content)},[e.title&&n("h3",{style:e.style.title},[e.title]),t])]),{defaultProps:{title:"",style:e=>({container:i(e.cardBox),content:{},title:{}})},defaultChildren:[""]})},function(e,t){e.exports=[{name:"flexible UI test restraints design",date:"2017-09-27",brief:"UI changes day by day, how to define the correct state of UI became a problem. If the restraints we designed are too strong, they will be useless, because we have to change them everyday. If the restraints we designed are too weak, they won't be able to guard the UI.",docId:"flexible_UI_test_restraints_design"},{name:"performance analysis between recursive and stack-base none-recursive simulation",date:"2017-09-09",brief:"In the bottom, recursive is running on the stack in memory. It's a top-down way to ergodic question tree. We can simulate it by using a stack to do the DFT (Depth First Traversal). How about the performance between them, what kind of conclusions we can get?",docId:"performance_analysis_between_recursive_and_stack_base_none_recursive_simulation"},{name:"Is power of 2 ^ k problem",date:"2017-09-06",brief:'We know n is a integer in 32-bit (or 64-bit) system. There is a old trick we judge n is power of 2 or 4. Today, we will try to find out a general solution for "is power of 2 ^ k".',docId:"is_power_of_2_k_problem"}]},function(e,t,r){let n=r(2),o=r(134),i=r(22);e.exports=(()=>{let e=["Introduction"],t=e=>[n('h3 id="Introduction"',"Introduction"),n('p style="font-style:italic"',e)],r=(e,t,r)=>[n('h2 style="text-align:center"',e),n('div style="text-align:center;color:gray;"',`${t} ${r}`)];return{paraTitle:t=>(e.push(t),n(`h3 id="${t}"`,t)),introductionPara:t,list:e=>n("ul",[e.map(e=>n("li",e))]),lr:(e,t,r=100)=>n(i,{mode:"partion",leftPartions:[r],style:{container:{display:"inline-block"}}},[n("strong",e),t]),article:({title:i,date:s,author:a,introduction:l},c)=>n("div",{style:{width:"100%"}},[r(i,s,a),n(o,{toc:e.map(e=>({name:e}))}),l&&t(l),c]),articleTitle:r,code:e=>n("pre",{style:{width:"100%",overflow:"scroll"}},[e])}})},function(e,t,r){"use strict";let{SPA:n}=r(50),o=r(110);n({pageViewMap:r(111),pageSignalActionMap:o,pageOptionsMap:{},defaultPage:"indexPage"})},function(e,t,r){"use strict";let{router:n,queryPager:o}=r(51),{mount:i}=r(6),s=r(2),a=r(76),{signalActionFlow:l}=r(80),{Signal:c}=r(5),{wrapPagePropsWithStore:u}=r(109);let p=(e,t,{localStateStore:r=!1,localStateStoreWhiteList:n=[]}={})=>o=>{let i={onsignal:l(t,o)};r&&(i=u(i,{whiteList:n}));let a=s(e,i);return a.ctx.notify(c("kabanery_page_render")),a};e.exports={SPA:({apiPath:e="/api/pfc",apiStub:t={},containerId:r="pager",pageViewMap:l={},pageSignalActionMap:c={},pageOptionsMap:u={},defaultPage:h})=>{let{apiMap:d,runApi:f}=a(e,t),m={};for(let e in l){let t=u[e]||{},r=l[e],n=c[e]||{};m[e]={title:t[e]||e,render:p(r,n,t)}}let y={apiMap:d,runApi:f};i(s(`div id="${r}"`),document.body);let{forward:g,redirect:b,reload:E}=n(o(m,h||Object.keys(m)[0]),y,{containerId:r});y.forward=g,y.redirect=b,y.reload=E,g(window.location.href)},page:p}},function(e,t,r){"use strict";e.exports=r(52)},function(e,t,r){"use strict";let{removeChilds:n}=r(23),{mount:o}=r(6),{parse:i}=r(70);let s=(e=[],t)=>{if(null===t||void 0===t)for(let r in e){t=r;break}return t},a=(e,t,r,i)=>Promise.resolve(e(t,r)).then(e=>{let t=document.getElementById(i);if(n(t),o(e,t),t.style="display:block;",document.title=r,window.location.hash){let e=document.getElementById(window.location.hash.substring(1));e&&window.scrollTo(0,e.offsetTop)}});e.exports={router:(e,t,{onSwitchPageStart:r,onSwitchPageFinished:n,containerId:o="pager"}={})=>{let i=!1,s=(e,t,o)=>{r&&r(e,t,o);let i=l(e,t,o);return Promise.resolve(i).then(e=>{n&&n(null,e)}).catch(e=>{n&&n(e)}),i},l=(e,t,r)=>{let n=a(e,t,r,o);return i||(u(),i=!0),n},c=(r,{keepLocation:n}={})=>{if(!window.history.pushState)return void(window.location.href=r);let{render:o,title:i="",transitionData:a={}}=e(r);return r!==window.location.href&&window.history.pushState(a,i,r),n||window.scrollTo(0,0),s(o,t,i)},u=()=>{window.onpopstate=(()=>{c(window.location.href)}),document.addEventListener("click",e=>{setTimeout(()=>{let t=e.target;if(!e.__stopPropagation)for(;t;){if(t.getAttribute){let r=(t.getAttribute("href")||"").trim();if(0===r.indexOf("single://")){e.preventDefault(),e.stopPropagation(),c(r.substring("single://".length).trim());break}}t=t.parentNode}})})};return{forward:c,redirect:r=>{if(!window.history.pushState)return window.location.href=r,void window.location.replace(r);let{render:n,title:o="",transitionData:i={}}=e(r);return r!==window.location.href&&window.history.replaceState(i,o,r),s(n,t)},reload:()=>c(window.location.href,{keepLocation:!0})}},queryPager:(e=[],t)=>(t=s(e,t),r=>{let n=i(r,!0).query.page||t;return e[n]}),restPager:(e=[],t)=>(t=s(e,t),r=>{let n=r.split(/.*\:\/\//)[1].split("/")[1];return n=n||t,e[n]})}},function(e,t,r){"use strict";e.exports=(()=>{let e=document.createElement("div"),t=e.createShadowRoot();t.innerHTML='<div id="shadow-page"></div>';let r=null,n=()=>(document.getElementsByTagName("html")[0].appendChild(e),t.getElementById("shadow-page"));return{start:()=>r||(r=new Promise(e=>{document.body?e(n()):document.addEventListener("DOMContentLoaded",()=>{e(n())})})),close:()=>{r.then(()=>{let t=e.parentNode;t&&t.removeChild(e)})},sr:t,rootDiv:e}})},function(e,t,r){"use strict";let n=e=>"complete"===e.readyState||!e.attachEvent&&"interactive"===e.readyState;e.exports=((e=document)=>{let t=!1,r=[];return(()=>{let n=()=>{if(!t){t=!0;for(let e=0;e<r.length;e++)r[e]();r=[]}};e.addEventListener?(e.addEventListener("DOMContentLoaded",n),e.addEventListener("DOMContentLoaded",n)):e.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()})})(),({generalWaitTime:o=0,startTimeout:i=1e4}={})=>new Promise((s,a)=>{t||n(e)?setTimeout(s,o):(r.push(s),setTimeout(()=>{a(new Error("timeout"))},i))})})},function(e,t,r){"use strict";let{n:n,svgn:o,bindPlugs:i,toHTML:s,parseArgs:a,isKabaneryNode:l,cn:c,parseStyle:u}=r(10),p=r(59),h=r(62),d=r(28),f=r(69),m=r(12),{dispatchEvent:y,clearEvents:g}=r(13);e.exports={n:n,isKabaneryNode:l,cn:c,N:f,svgn:o,view:h,plugs:p,bindPlugs:i,mount:d,toHTML:s,reduceNode:m,parseArgs:a,parseStyle:u,dispatchEvent:y,clearEvents:g}},function(e,t,r){"use strict";let n=r(24),o={eq:(e,t)=>e===t},i=(e,t)=>{for(let r in t)e[r]=e[r]||t[r]},s=(e,t,r,o)=>n(e,{output:t,def:r,limit:o}),a=(e,t,r={})=>{i(r,o);let{eq:s}=r,a=n(e,{transfer:l,limit:c,predicate:e=>s(t,e),def:[]});return a.length?a[0]:-1},l=(e,t)=>t,c=(e,t,r,n,o)=>o>=1,u=e=>!e,p=e=>!!e;e.exports={map:(e,t,r)=>n(e,{transfer:t,def:[],limit:r}),forEach:(e,t)=>n(e,{limit:e=>!0===e,transfer:t,output:(e,t)=>t,def:!1}),reduce:s,find:(e,t,r)=>{let n=a(e,t,r);if(-1!==n)return e[n]},findIndex:a,filter:(e,t,r)=>s(e,(e,r,n,o)=>(t&&t(r,n,o)&&e.push(r),e),[],r),any:(e,t)=>s(e,(e,r,n,o)=>{let i=t&&t(r,n,o);return e&&p(i)},!0,u),exist:(e,t)=>s(e,(e,r,n,o)=>{let i=t&&t(r,n,o);return e||p(i)},!1,p),compact:e=>s(e,(e,t)=>(t&&e.push(t),e),[])}},function(e,t,r){"use strict";let n=r(58),{isString:o,isObject:i,isNode:s,likeArray:a,isNumber:l,isBool:c}=r(0),u=(e="")=>{if("string"!=typeof e)return[e];let t=e.split(" ")[0],r=e.substring(t.length);return r=r&&r.trim(),t=t.toLowerCase().trim(),r?[t,r]:[t]},p=e=>{let t=[];if(s(e))t.push(e);else if(a(e))for(let r=0;r<e.length;r++){let n=e[r];t=t.concat(p(n))}else e&&t.push(e);return t};e.exports=((e,{doParseStyle:t=!0}={})=>{let r,h={},d=[],f=e.shift(),m=u(f);m.length>1?(r=m[0],h=m[1]):r=f;let y=e.shift(),g={};return a(y)||o(y)||s(y)||l(y)||c(y)?d=y:i(y)&&(g=y,d=e.shift()||[]),{tagName:r,attributes:h=n(h,g,{doParseStyle:t}),childs:p(d)}})},function(e,t,r){"use strict";let{isString:n}=r(0),o=r(25),{mergeMap:i}=r(4);const s=/([\w-]+)\s*=\s*(([\w-]+)|('.*?')|(".*?"))/;e.exports=((e,t,{doParseStyle:r})=>{if(n(e)){let t=e.trim(),r=[],n=!1;for(;!n;){let e=t.replace(s,(e,t,n)=>(r.push([t,n]),"")).trim();e===t&&(n=!0),t=e}e={};for(let t=0;t<r.length;t++){let[n,o]=r[t];("'"===o[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.substring(1,o.length-1)),e[n]=o}}return(e=i(e,t)).style&&r&&(e.style=o(e.style)),e})},function(e,t,r){"use strict";let n=r(60),o=r(61);e.exports={twowaybinding:n,eventError:o}},function(e,t,r){"use strict";let{get:n,set:o}=r(8);e.exports=((e,t)=>(r,i,s)=>{let a=n(e,t,"");"input"===r?i.value=a:s.unshift(a),i.oninput||(i.oninput=(r=>{o(e,t,r.target.value)}))})},function(e,t,r){"use strict";e.exports=(e=>(t,r)=>{for(let t in r){let o=r[t];0===t.indexOf("on")&&"function"==typeof o&&(r[t]=n(o,e))}});let n=(e,t)=>(function(){try{let r=e.apply(this,arguments);return(r=Promise.resolve(r)).catch(t),r}catch(e){return t(e)}})},function(e,t,r){"use strict";let{set:n}=r(8),{isObject:o,isFunction:i,likeArray:s}=r(0),{forEach:a}=r(4),l=r(63),c=r(12),u=r(28),p=(e,t,{afterRender:r}={})=>{let n=(n,o)=>{let i=d({view:e,afterRender:r});return h(i,n,o,t)},o=n=>{n.create=(n=>{let o=d({view:e,afterRender:r});n&&n(o);let i=(e,r)=>h(o,e,r,t);return i.ctx=o,i}),n.expand=((e={})=>{let t=(...t)=>{let r=t[0];return t[0]=p.ext(r,e),n(...t)};return o(t),t})};return o(n),n};p.ext=((e,t={})=>r=>{for(let e in t)r[e]=t[e];return i(e)?e(r):e});let h=(e,t,r,n)=>{let o=e.initData(t,e);return r&&r(o,e),n&&n(o,e),e.replaceView()},d=({view:e,afterRender:t})=>{let r=null,o=null,p=null,h=(...e)=>{if(1===e.length&&s(e[0])){let t=e[0];a(t,e=>{n(o,e[0],e[1])})}else{let[t,r]=e;i(r)&&(r=r(o)),n(o,t,r)}},d=()=>{let e=m();return e=c(e),r=l(r,e),t&&t(y),r&&(r.ctx=y),r},m=()=>{p||(p=e);let t=p(o,y);return i(t)?(p=t)(o,y):t},y={update:(...e)=>(h(...e),d()),updateData:h,getNode:()=>r,getData:()=>o,transferCtx:e=>{r=e,e.ctx=y},initData:(e={})=>o=f(e,y),replaceView:d,appendView:e=>{r&&u(e,r)},getCtx:()=>y};return y},f=(e,t)=>{let r=null;if(r=i(e)?e(t):e,!o(r))throw new TypeError(`Expect object, but got ${r}. Type is ${typeof r}`);return r};e.exports=p},function(e,t,r){"use strict";let{toArray:n}=r(8),{isNode:o}=r(0),{forEach:i}=r(4),{eventMapHook:s}=r(11),a=r(66),l=(e,t)=>{let r=e.parentNode;return r?(r.replaceChild(t,e),t):e},c=e=>{let t=e.parentNode;t&&t.removeChild(e)},u=(e,t)=>{if(!t)return c(e);if(3===e.nodeType&&3===t.nodeType&&(e.textContent=t.textContent),o(e)&&o(t)){if(3===e.nodeType&&3===t.nodeType)return e.textContent=t.textContent,e;if(e.tagName!==t.tagName||"INPUT"===e.tagName)return l(e,t);p(e,t)}return e},p=(e,t)=>{a(e,t),t.ctx&&t.ctx.transferCtx(e),t[s]&&(e[s]=t[s]);let r=n(e.childNodes),o=n(t.childNodes);h(r,o,e)},h=(e,t,r)=>(d(e,t),i(e,(e,r)=>{u(e,t[r])}),f(e,t,r),e),d=(e,t)=>{for(let r=t.length;r<e.length;r++)c(e[r])},f=(e,t,r)=>{for(let n=e.length;n<t.length;n++){let e=t[n];r.appendChild(e)}};e.exports=((e,t)=>{let r=null;return e?t?r=u(e,t):(c(e),r=null):r=t,r})},function(e,t,r){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var o=new Uint8Array(16);r=function(){return n.getRandomValues(o),o}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=r}).call(t,r(27))},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},function(e,t,r){"use strict";let{getAttributeMap:n}=r(23),{hasOwnProperty:o}=r(8),{forEach:i}=r(4);e.exports=((e,t)=>{let r=n(e.attributes),s=n(t.attributes);i(r,(t,r)=>{if(o(s,r)){let n=s[r];n!==t&&e.setAttribute(r,n)}else e.removeAttribute(r)}),i(s,(t,n)=>{o(r,n)||e.setAttribute(n,t)})})},function(e,t,r){"use strict";let{isNode:n}=r(0);let o=(e,t,r)=>{for(let r in t){let n=t[r];e.setAttribute(r,n)}for(let t=0;t<r.length;t++){let o=r[t];n(o)?e.appendChild(o):e.textContent=o+""}};e.exports={createElement:(e,t,r)=>{let n=document.createElement(e);return o(n,t,r),n},createSvgElement:(e,t,r)=>{let n=document.createElementNS("http://www.w3.org/2000/svg",e);return o(n,t,r),n}}},function(e,t,r){"use strict";let{contain:n}=r(4),{eventMapHook:o,globalEventTypePrefix:i,stopPropagationFlag:s}=r(11);e.exports=(()=>{let e=[],t={},r={},i=t=>{e.length||e.push(document);for(let r=0;r<e.length;r++){let n=e[r];c(n,t)}},c=(e,t)=>{let n=null;r[t]?n=r[t]:(n=p(t),r[t]=n),e.addEventListener(t,n)},u=n=>{let o=r[n];if(o){for(let t=0;t<e.length;t++)e[t].removeEventListener(n,o);delete r[n],delete t[n]}},p=e=>(function(t){let r=this,n=t.target,o=t.stopPropagation;t.stopPropagation=function(...e){return t[s]=!0,o&&o.apply(this,e)};let i=a(n);for(let n=0;n<i.length;n++){let o=i[n];h(t,e,o,r)}}),h=(e,t,r,n)=>{if(e.__stopPropagation)return!0;let o=d(t,r);return o&&o.apply(n,[e])},d=(e,t)=>{let r=t&&t[o];return r&&r[e]};return{listenEventType:e=>{t[e]||i(e),t[e]=!0},clearEvents:()=>{for(let e in t)u(e)},removeListenerType:u,getDocs:()=>e.slice(0),attachDocument:(r=document)=>{if(!n(e,r)){for(let e in t){let t=l(e);r[t]||(c(r,e),r[t]=!0)}e.push(r)}},dispatchEvent:(e,t)=>{let n=r[e];n&&n(t)}}});let a=e=>{let t=[];for(;e;)t.push(e),e=e.parentNode;return t},l=e=>`${i}${e}`},function(e,t,r){"use strict";let{n:n}=r(10),{isArray:o,isFunction:i,isObject:s}=r(0),{map:a}=r(4);e.exports=((...e)=>{let t=e[0],r={},l=[];return o(e[1])?l=e[1]:i(e[1])?l=[e[1]]:s(e[1])&&(r=e[1],o(e[2])?l=e[2]:i(e[2])&&(l=[e[2]])),(...e)=>{let s=t=>a(t,t=>o(t)?s(t):i(t)?t(...e):t);return n(t,r,s(l))}})},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,r){if(e&&s.isObject(e)&&e instanceof n)return e;var o=new n;return o.parse(e,t,r),o}var i=r(71),s=r(73);t.parse=o,t.resolve=function(e,t){return o(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},t.format=function(e){return s.isString(e)&&(e=o(e)),e instanceof n?e.format():n.prototype.format.call(e)},t.Url=n;var a=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(u),h=["'"].concat(p),d=["%","/","?",";","#"].concat(h),f=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(14);n.prototype.parse=function(e,t,r){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",l=e.split(o),u=/\\/g;l[0]=l[0].replace(u,"/");var p=e=l.join(o);if(p=p.trim(),!r&&1===e.split("#").length){var S=c.exec(p);if(S)return this.path=p,this.href=p,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=a.exec(p);if(T){var P=(T=T[0]).toLowerCase();this.protocol=P,p=p.substr(T.length)}if(r||T||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===p.substr(0,2);!_||T&&b[T]||(p=p.substr(2),this.slashes=!0)}if(!b[T]&&(_||T&&!E[T])){for(var A=-1,w=0;w<f.length;w++)-1!==(O=p.indexOf(f[w]))&&(-1===A||O<A)&&(A=O);var N,x;-1!==(x=-1===A?p.lastIndexOf("@"):p.lastIndexOf("@",A))&&(N=p.slice(0,x),p=p.slice(x+1),this.auth=decodeURIComponent(N)),A=-1;for(w=0;w<d.length;w++){var O=p.indexOf(d[w]);-1!==O&&(-1===A||O<A)&&(A=O)}-1===A&&(A=p.length),this.host=p.slice(0,A),p=p.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var k=this.hostname.split(/\./),w=0,R=k.length;w<R;w++){var M=k[w];if(M&&!M.match(m)){for(var U="",C=0,L=M.length;C<L;C++)M.charCodeAt(C)>127?U+="x":U+=M[C];if(!U.match(m)){var D=k.slice(0,w),B=k.slice(w+1),X=M.match(y);X&&(D.push(X[1]),B.unshift(X[2])),B.length&&(p="/"+B.join(".")+p),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var $=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+$,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==p[0]&&(p="/"+p))}if(!g[P])for(var w=0,R=h.length;w<R;w++){var j=h[w];if(-1!==p.indexOf(j)){var Y=encodeURIComponent(j);Y===j&&(Y=escape(j)),p=p.split(j).join(Y)}}var Q=p.indexOf("#");-1!==Q&&(this.hash=p.substr(Q),p=p.slice(0,Q));var F=p.indexOf("?");if(-1!==F?(this.search=p.substr(F),this.query=p.substr(F+1),t&&(this.query=v.parse(this.query)),p=p.slice(0,F)):t&&(this.search="",this.query={}),p&&(this.pathname=p),E[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",q=this.search||"";this.path=$+q}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(i=v.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+r+a+n},n.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(s.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return E[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!E[e.protocol]){for(var p=Object.keys(e),h=0;h<p.length;h++){var d=p[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||b[e.protocol])r.pathname=e.pathname;else{for(P=(e.pathname||"").split("/");P.length&&!(e.host=P.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==P[0]&&P.unshift(""),P.length<2&&P.unshift(""),r.pathname=P.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",m=r.search||"";r.path=f+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||y||r.host&&e.pathname,S=v,T=r.pathname&&r.pathname.split("/")||[],P=e.pathname&&e.pathname.split("/")||[],_=r.protocol&&!E[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===P[0]?P[0]=e.host:P.unshift(e.host)),e.host=null),v=v&&(""===P[0]||""===T[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,T=P;else if(P.length)T||(T=[]),T.pop(),T=T.concat(P),r.search=e.search,r.query=e.query;else if(!s.isNullOrUndefined(e.search))return _&&(r.hostname=r.host=T.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=e.search,r.query=e.query,s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=T.slice(-1)[0],w=(r.host||e.host||T.length>1)&&("."===A||".."===A)||""===A,N=0,x=T.length;x>=0;x--)"."===(A=T[x])?T.splice(x,1):".."===A?(T.splice(x,1),N++):N&&(T.splice(x,1),N--);if(!v&&!S)for(;N--;N)T.unshift("..");!v||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),w&&"/"!==T.join("/").substr(-1)&&T.push("");var O=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(_){r.hostname=r.host=O?"":T.length?T.shift():"";var I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return(v=v||r.host&&T.length)&&!O&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){var o;!function(i){function s(e){throw new RangeError(I[e])}function a(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function l(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+a((e=e.replace(O,".")).split("."),t).join(".")}function c(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function u(e){return a(e,function(e){var t="";return e>65535&&(t+=M((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function p(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,r){var n=0;for(e=r?R(e/P):e>>1,e+=R(e/t);e>k*S>>1;n+=E)e=R(e/k);return R(n+(k+1)*e/(e+T))}function f(e){var t,r,n,o,i,a,l,c,h,f,m=[],y=e.length,g=0,T=A,P=_;for((r=e.lastIndexOf(w))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&s("not-basic"),m.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<y;){for(i=g,a=1,l=E;o>=y&&s("invalid-input"),((c=p(e.charCodeAt(o++)))>=E||c>R((b-g)/a))&&s("overflow"),g+=c*a,h=l<=P?v:l>=P+S?S:l-P,!(c<h);l+=E)a>R(b/(f=E-h))&&s("overflow"),a*=f;P=d(g-i,t=m.length+1,0==i),R(g/t)>b-T&&s("overflow"),T+=R(g/t),g%=t,m.splice(g++,0,T)}return u(m)}function m(e){var t,r,n,o,i,a,l,u,p,f,m,y,g,T,P,N=[];for(y=(e=c(e)).length,t=A,r=0,i=_,a=0;a<y;++a)(m=e[a])<128&&N.push(M(m));for(n=o=N.length,o&&N.push(w);n<y;){for(l=b,a=0;a<y;++a)(m=e[a])>=t&&m<l&&(l=m);for(l-t>R((b-r)/(g=n+1))&&s("overflow"),r+=(l-t)*g,t=l,a=0;a<y;++a)if((m=e[a])<t&&++r>b&&s("overflow"),m==t){for(u=r,p=E;f=p<=i?v:p>=i+S?S:p-i,!(u<f);p+=E)P=u-f,T=E-f,N.push(M(h(f+P%T,0))),u=R(P/T);N.push(M(h(u,0))),i=d(r,g,n==o),r=0,++n}++r,++t}return N.join("")}"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var y="object"==typeof n&&n;var g,b=2147483647,E=36,v=1,S=26,T=38,P=700,_=72,A=128,w="-",N=/^xn--/,x=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=E-v,R=Math.floor,M=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:c,encode:u},decode:f,encode:m,toASCII:function(e){return l(e,function(e){return x.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return l(e,function(e){return N.test(e)?f(e.slice(4).toLowerCase()):e})}},void 0!==(o=function(){return g}.call(t,r,t,e))&&(e.exports=o)}()}).call(t,r(72)(e),r(27))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var p,h,d,f,m=e[u].replace(a,"%20"),y=m.indexOf(r);y>=0?(p=m.substr(0,y),h=m.substr(y+1)):(p=m,h=""),d=decodeURIComponent(p),f=decodeURIComponent(h),n(s,d)?o(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(o(s))+r;return i(e[s])?n(e[s],function(e){return a+encodeURIComponent(o(e))}).join(t):a+encodeURIComponent(o(e[s]))}).join(t):a?encodeURIComponent(o(a))+r+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";let n=r(77),o=r(79);e.exports=((e,t)=>{let r=o(e),s=n(t),a={};for(let e in s){let t=s[e];a[e]="function"==typeof t?(...e)=>{let r=()=>{let r=[];for(let t=0;t<e.length;t++){let n=e[t];i(n)?r.push(n()):r.push(n)}return t(...r)};return r.tag="lazy",r}:t}return{apiMap:a,runApi:e=>{try{return i(e)&&(e=e()),r(e.code)}catch(e){return Promise.reject(e)}}}});let i=e=>"function"==typeof e&&"lazy"===e.tag},function(e,t,r){"use strict";let{isObject:n,isFunction:o}=r(78);e.exports=((e={})=>{let t={};for(let r in e)"function"===e[r].type?t[r]=((...t)=>s(r,t,e[r]||{})):t[r]=i(r);return t});let i=e=>({code:`${e}`,type:"variable"}),s=(e,t,r)=>{let i=`${e}(`,s=!0,l=[];for(let e=0;e<t.length;e++){let c=t[e];n(c)&&"function"===c.type?(i+=c.code,s=!1):n(c)&&"variable"===c.type?(i+=c.code,s=!1):(l.push(c),o(r.validateParamItem)&&r.validateParamItem(c,e),i+=a(c)),e<t.length-1&&(i+=",")}return s&&o(r.validateParams)&&r.validateParams(l),i+=")",{type:"function",code:i}},a=e=>{if("string"==typeof e)return JSON.stringify(e);if(null===e)return"null";if(!0===e)return"true";if(!1===e)return"false";if("number"==typeof e)return e+"";throw new Error(`unexpected atom type in pfc, atom is ${e}.`)}},function(e,t){e.exports={processTokens:e=>{let t=[];for(let r=0;r<e.length;r++){let{text:n,tokenType:o}=e[r],i=o.name;"whitespace"!==i&&t.push({text:n,name:i})}return t},getProductionId:e=>`${e[0]} := ${e[1].join(" ")}`,isFunction:e=>"function"==typeof e,isObject:e=>e&&"object"==typeof e}},function(e,t,r){"use strict";e.exports=((e="/api/pfc")=>t=>new Promise((r,n)=>{let o=new XMLHttpRequest;o.onreadystatechange=(()=>{if(o.readyState===XMLHttpRequest.DONE)if(200===o.status){let{errno:e,errMsg:t,data:i}=JSON.parse(o.responseText);0===e?r(i):n(new Error((t.split(":")[1]||"").trim()))}else n(new Error(`status code is ${o.status}`))}),o.open("post",e),o.send(t)}))},function(e,t,r){"use strict";let{signalUpdateStateRunner:n,signalSendRequestRunner:o,responseUpdateStateRunner:i,responseErrorRunner:s}=r(81);let a=(e,t,r,n,o)=>Promise.all(t.map(t=>t.content(e,r,n,o))),l=(e,t,{variableStub:r})=>{for(let n in e){let o=e[n];if(!Array.isArray(o))throw new Error(`Expect array for actions in signal action map. But got ${o}.`);for(let e=0;e<o.length;e++)c(o[e],t,{variableStub:r})}},c=(e,t,{variableStub:r})=>{let a=e.type,l=e.content;if("updateState"===a){if("function"!=typeof l){let o=n(l,u(t,e),{variableStub:p(r,e)});e.content=((...e)=>new Promise((t,r)=>{try{t(o(...e))}catch(e){r(e)}}))}}else{if("sendRequest"!==a)throw new Error(`unexpected action type for a signal action, type is ${a}`);if("function"!=typeof l){let n=u(t,e),a=p(r,e),c=o(l,n,{variableStub:a}),h=e.response&&i(e.response,n,{variableStub:a}),d=e.error&&s(e.error,n,{variableStub:a});e.content=((e,t,r,n)=>c(e,t,r,n).then(e=>h&&h(e,t,r)).catch(e=>{throw d&&d(e,t,r),e}))}}},u=(e,t)=>t.variableMap?Object.assign({},e,t.variableMap):e,p=(e,t)=>t.variableStub?Object.assign({},e,t.variableStub):e;e.exports={signalActionFlow:(e,t,r={},{variableStub:n}={})=>(l(e,r,{variableStub:n}),(r,n,o)=>{let i=e[r.type]||[];return a(r,i,n,o,t)}),runSignalActions:a}},function(e,t,r){"use strict";let{parseStrToAst:n,checkAST:o,executeAST:i}=r(15),s=r(37);const a={localStorage:"undefined"!=typeof localStorage&&localStorage};let l=(e,t)=>{let r=n(e);return t&&o(r,{variableStub:t}),r},c=(e,t,r,n)=>{let o=s(e);return i(t,{queryByPath:o.queryByPath,setByPath:o.setByPath,removeByPath:o.removeByPath,appendByPath:o.appendByPath,variableMap:r,variableStub:n})};e.exports={signalUpdateStateRunner:(e,t,{variableStub:r}={})=>{let n=l(e,r);return(e,o,i)=>{let s=Object.assign({signal:e,viewState:o},a);c(s,n,t,r),i.updateWithNotify()}},signalSendRequestRunner:(e,t,{variableStub:r}={})=>{let n=l(e,r);return(e,o,i,{runApi:s,apiMap:l})=>{let u=Object.assign({signal:e,viewState:o},a);return s(c(u,n,Object.assign({},t,l),r))}},responseUpdateStateRunner:(e,t,{variableStub:r}={})=>{let n=l(e,r);return(e,o,i)=>{c(Object.assign({response:e,viewState:o},a),n,t,r),i.updateWithNotify()}},responseErrorRunner:(e,t,{variableStub:r}={})=>{let n=l(e,r);return(e,o,i)=>{c(Object.assign({errorMsg:e.toString(),error:e,viewState:o,ctx:i},a),n,t,r),i.updateWithNotify()}}}},function(e,t,r){"use strict";let n=r(83),{checkAST:o,runTimeCheck:i,getVariable:s}=r(107),{T_ATOM:a,T_PATH:l,T_ASSIGN:c,T_DELETE:u,T_APPEND:p,T_VARIABLE_NAME:h,T_FUNCTION:d,T_NODE_NAME:f,T_NODE_NAME_VARIABLE:m}=r(18),y=(e,t)=>{let r=[];for(let n=0;n<e.length;n++){let{type:o,value:i}=e[n];o===f?r.push(i):o===m&&r.push(t[i])}return r};e.exports={parser:n,parseStrToAst:e=>{let t=n();return e&&t(e),t(null)},executeAST:(e,{queryByPath:t,setByPath:r,removeByPath:n,appendByPath:o,variableMap:f={},variableStub:m={},skipCheck:g=!1})=>{g||i(m,f);let b=[];for(let t=0;t<e.length;t++)b.unshift({node:e[t],visited:!1});let E=[];for(;b.length;){let e=b[b.length-1],i=e.node;if(i.type===a)E.push(i.value),b.pop();else if(i.type===h){let e=i.value,t=s(e,f,m);E.push(t),b.pop()}else if(i.type===l)E.push(t(y(i.value,f))),b.pop();else if(i.type===d){let{funName:t,params:r}=i.value;if(e.visited){let e=[];for(let t=0;t<r.length;t++)e.push(E.pop());E.push(f[t](...e)),b.pop()}else{e.visited=!0;for(let e=0;e<r.length;e++)b.push({node:r[e],visited:!1})}}else if(i.type===c){let{path:t,value:n}=i.value;if(e.visited){let e=E.pop();E.push(r(y(t.value,f),e)),b.pop()}else e.visited=!0,b.push({node:n,visited:!1})}else if(i.type===u){let{path:e}=i.value;E.push(n(y(e.value,f))),b.pop()}else if(i.type===p){let{path:t,value:r}=i.value;if(e.visited){let e=E.pop();E.push(o(y(t.value,f),e)),b.pop()}else e.visited=!0,b.push({node:r,visited:!1})}}return E[E.length-1]},checkAST:o}},function(e,t,r){"use strict";let n=r(29),{LR:o}=r(93),{getProductionId:i,processTokens:s}=r(36),a=r(104),{ACTION:l,GOTO:c}=r(106),{P_PROGRAM:u,P_EXPRESSION_LIST_0:p,P_EXPRESSION_LIST_1:h,P_EXPRESSION_0:d,P_EXPRESSION_1:f,P_EXPRESSION_2:m,P_UPDATE_EXPRESSION_0:y,P_UPDATE_EXPRESSION_1:g,P_UPDATE_EXPRESSION_2:b,P_QUERY_EXPRESSION_0:E,P_QUERY_EXPRESSION_1:v,P_QUERY_EXPRESSION_2:S,P_QUERY_EXPRESSION_3:T,P_QUERY_EXPRESSION_4:P,P_QUERY_EXPRESSION_LIST_0:_,P_QUERY_EXPRESSION_LIST_1:A,P_PATH_0:w,P_PATH_1:N,P_PATH_2:x,P_PATH_3:O,P_ATOM_DATA_0:I,P_ATOM_DATA_1:k,P_ATOM_DATA_2:R,P_ATOM_DATA_3:M,P_ATOM_DATA_4:U,T_ATOM:C,T_PATH:L,T_ASSIGN:D,T_DELETE:B,T_APPEND:X,T_VARIABLE_NAME:$,T_FUNCTION:H,T_NODE_NAME:j,T_NODE_NAME_VARIABLE:Y}=r(18);e.exports=(()=>{let e=n.parser(a),t=o(l,c,{reduceHandler:(e,t)=>{switch(i(e)){case u:t.value=t.children[0].value;break;case p:t.value=null===t.children[0].value?[]:[t.children[0].value];break;case h:t.value=(null===t.children[0].value?[]:[t.children[0].value]).concat(t.children[2].value);break;case d:case f:t.value=t.children[0].value;break;case m:t.value=null;break;case y:t.value={type:D,value:{path:t.children[0].value,value:t.children[2].value}};break;case g:t.value={type:B,value:{path:t.children[1].value}};break;case b:t.value={type:X,value:{path:t.children[1].value,value:t.children[3].value}};break;case E:t.value=t.children[0].value;break;case v:t.value={type:$,value:t.children[0].token.text};break;case S:t.value=t.children[0].value;break;case T:t.value={type:H,value:{funName:t.children[0].token.text,params:[]}};break;case P:t.value={type:"function",value:{funName:t.children[0].token.text,params:t.children[2].value}};break;case _:t.value=[t.children[0].value];break;case A:t.value=[t.children[0].value].concat(t.children[2].value);break;case w:t.value={type:L,value:[{type:j,value:t.children[0].token.text.substring(1)}]};break;case N:t.value={type:L,value:[{type:j,value:t.children[0].token.text.substring(1)}].concat(t.children[1].value.value)};break;case x:var r=t.children[0].token.text;t.value={type:L,value:[{type:Y,value:r.substring(2,r.length-1).trim()}]};break;case O:var n=t.children[0].token.text;t.value={type:L,value:[{type:Y,value:n.substring(2,n.length-1).trim()}].concat(t.children[1].value.value)};break;case I:t.value={type:C,value:!0};break;case k:t.value={type:C,value:!1};break;case R:t.value={type:C,value:null};break;case M:var o=t.children[0].token.text;t.value={type:C,value:JSON.parse(o)};break;case U:var s=t.children[0].token.text;t.value={type:C,value:Number(s)}}}});return r=>{let n=r&&r.toString(),o=s(e(n));for(let e=0;e<o.length;e++)t(o[e]);if(null===r)return t(null).children[0].value}})},function(e,t,r){"use strict";let{isString:n,funType:o,listType:i,isFunction:s,mapType:a,isFalsy:l,isNumber:c,or:u}=r(0),{WAIT:p,MATCH:h,QUIT:d}=r(16),{stateGraphDSL:f}=r(9),m=r(90),{map:y}=r(4),{getMatch:g}=r(91),{findToken:b,filterTypes:E}=r(92),{assembleToken:v}=r(33),S=o(e=>{e=y(e,e=>{let{priority:t,name:r,independent:n,match:o}=e;if(r=r||o&&o.toString(),o=g(o),!s(o))throw new Error(`Error match in token type ${T(e)}`);return{priority:t||0,name:r,match:o,independent:n}});let t="";return r=>{if(null===r){let r=P(t,e);return t="",r}t+=r.toString();let{rest:n,tokens:o}=_(t,e);return t=n,o}},[i(a({priority:u(l,c),name:u(l,n)}))]),T=({priority:e,match:t,name:r,independent:n})=>`{\n        priority: ${e},\n        match: ${t},\n        name: ${r},\n        independent: ${n}\n    }`;S.parse=((e,t)=>{let r=S(t);return r(e).concat(r(null))});let P=(e,t)=>{let{tokens:r}=_(e,t,"end");return r},_=(e,t,r)=>{let n,o=[];for(;e&&(n=A(e,t,r));){let{token:t,rest:r}=n;e=r,o.push(t)}return{tokens:o,rest:e}},A=(e,t,r="mid")=>{let n=e,o="",i=[],s=t;for(;n;){let t=n[0];o+=t,n=n.substring(1);let[r,a,l]=E(t,o,s);if(s=r,l)return N(v(l,o),e);if(!r.length&&!a.length)return w(e,i,o);i.push({partTypes:r,matchTypes:a,prefix:o})}return o===e&&"end"===r?w(e,i,o):null},w=(e,t,r)=>{let n=b(t);if(!n)throw new Error(`Can not find token from prefix "${r}". And prefix is not any part of token. stock is "${e}".`);return N(n,e)},N=(e,t)=>({token:e,rest:t.substring(e.text.length)});e.exports={parser:S,WAIT:p,QUIT:d,MATCH:h,stateGraphDSL:f,buildFSM:m}},function(e,t,r){"use strict";let{QUIT:n,WAIT:o,MATCH:i}=r(86),s=r(87);let a=function(e,t){this.currentState="__start__state__",this.stateMap=e,this.acceptStateMap=t};a.prototype.transit=function(e){let t=this.stateMap[this.currentState];if(!t)return{type:n,state:this.currentState};let r=t(e);return s.isEpsilonTransition(r)?(this.currentState=r.state,this.transit(e)):void 0===r?{type:n,state:this.currentState}:(this.currentState=r,this.acceptStateMap[r]?{type:i,state:this.currentState}:{type:o,state:this.currentState})},e.exports={fsm:e=>{let{transitions:t,acceptStateMap:r}=s.transitionMaper(s.g("__start__state__",s.c(null,e))),n=new a(t,r);return e=>n.transit(e)},stateGraphDSL:s,DFA:a,QUIT:n,WAIT:o,MATCH:i}},function(e,t,r){"use strict";e.exports={WAIT:2,MATCH:1,QUIT:0}},function(e,t,r){"use strict";let n=r(30),{isNormalAction:o,isRangeAction:i,isUnionAction:s,isLeftAction:a,isEpsilonAction:l}=n,{graph:c,connect:u,repeat:p,sequence:h,circle:d,isEpsilonTransition:f}=r(88),{mergeMap:m}=r(31),y=e=>{let t=g(e),r=[];for(let e in t)0===t[e]&&r.push(e);return r},g=e=>{let t={},{transitionMap:r}=e;for(let e in r){let n=r[e];t[e]=n.length;for(let e=0;e<n.length;e++){let{state:r}=n[e];t[r]=t[r]||0}}return t},b=(e,t)=>{let r={},n={};for(let t in e){let r=e[t];n[r]=n[r]||[],n[r].push(t)}for(let e=0;e<t.length;e++)r[t[e]]=!0;let o=0;for(;;){let e=o;for(let e in r){let t=n[e];if(t)for(let e=0;e<t.length;e++)r[t[e]]||(r[t[e]]=!0,o++)}if(o===e)break}return r},E=(e,t)=>{if(o(e)&&e.content===t)return!0;if(i(e)&&e.start<=t&&t<=e.end)return!0;if(s(e)){let{actions:r}=e;for(let e=0;e<r.length;e++)if(E(r[e],t))return!0}return!1},v=e=>{let t={};for(let r in e){let n=e[r],o=T(n,l);o&&(t[r]=o)}return t},S=e=>{let t={};for(let r in e){let n=e[r],o=T(n,a);o&&(t[r]=o)}return t},T=(e,t)=>{for(let r=e.length-1;r>=0;r--){let{action:n,state:o}=e[r];if(P(n,t))return o}},P=(e,t)=>{if(!s(e))return t(e);{let{actions:r}=e;for(let e=0;e<r.length;e++)if(P(r[e],t))return!0}return!1};e.exports=m(n,{graph:c,connect:u,transitionMaper:e=>{let t={},{transitionMap:r}=e,n=y(e),o=S(r),i=v(r);for(let e in r){let n=r[e];t[e]=(t=>{for(let e=n.length-1;e>=0;e--){let{state:r,action:o}=n[e];if(E(o,t))return r}return o[e]?o[e]:i[e]?{type:"deliver",state:i[e]}:void 0})}return{transitions:t,acceptStateMap:b(i,n)}},repeat:p,sequence:h,circle:d,isEpsilonTransition:f,g:c,c:u})},function(e,t,r){"use strict";let{isString:n,isObject:o}=r(0),i=r(30),{toAction:s}=i,{mergeMap:a}=r(31),l=0,c=()=>`__auto_state_name_${l++}`,u=(...e)=>{let t=null,r=null;n(e[0])?(t=e[0],r=e.slice(1)):(t=c(),r=e);let o={};o[t]=[];for(let e=0;e<r.length;e++){let{action:i,nextGraph:s}=r[e],a=n(s)?s:s.state;o[t].push({action:i,state:a});for(let e in s.transitionMap){if(o[e])throw new Error(`repeated state name for different state, name is ${e}`);o[e]=s.transitionMap[e]}}return{state:t,transitionMap:o}},p=(e,t)=>(e=s(e),t||(t=c()),{action:e,nextGraph:t}),h=(...e)=>{let t=e.slice(0,-1),r=e[e.length-1],n=t[0];if(t.length<=1)return p(n,r);let o=t.slice(1).concat([r]);return p(n,u(h(...o)))};e.exports=a(i,{graph:u,connect:p,repeat:(e,t,r)=>{let n=[];for(let r=0;r<t;r++)n.push(e);return n.push(r),h(...n)},sequence:h,circle:(e,t)=>{let r=c();return u(r,p(e,r),p(null,t))},isEpsilonTransition:e=>o(e)&&"deliver"===e.type})},function(e,t,r){"use strict";let{iterate:n}=r(32),{isFunction:o}=r(0),i={eq:(e,t)=>e===t},s=(e,t)=>{for(let r in t)e[r]=e[r]||t[r]},a=(e,t,r,o)=>n(e,{output:t,def:r,limit:o}),l=(e,t,r={})=>{s(r,i);let{eq:a}=r,l=o(t)?t:e=>a(t,e),p=n(e,{transfer:c,limit:u,predicate:l,def:[]});return p.length?p[0]:-1},c=(e,t)=>t,u=(e,t,r,n,o)=>o>=1,p=e=>!e,h=e=>!!e;e.exports={overArgs:(e,t)=>(...r)=>{let n=t(...r);return e(...n)},map:(e,t,r)=>n(e,{transfer:t,def:[],limit:r}),forEach:(e,t)=>n(e,{limit:e=>!0===e,transfer:t,output:(e,t)=>t,def:!1}),reduce:a,find:(e,t,r)=>{let n=l(e,t,r);if(-1!==n)return e[n]},findIndex:l,filter:(e,t,r)=>a(e,(e,r,n,o)=>(t&&t(r,n,o)&&e.push(r),e),[],r),any:(e,t)=>a(e,(e,r,n,o)=>{let i=t&&t(r,n,o);return e&&h(i)},!0,p),exist:(e,t)=>a(e,(e,r,n,o)=>{let i=t&&t(r,n,o);return e||h(i)},!1,h),compact:e=>a(e,(e,t)=>(t&&e.push(t),e),[]),reverse:e=>a(e,(e,t)=>(e.unshift(t),e),[])}},function(e,t,r){"use strict";let{stateGraphDSL:n,DFA:o}=r(9);e.exports=((e,t)=>{let r=null,{transitions:i,acceptStateMap:s}=n.transitionMaper(n.g("__start__state__",n.c(null,e)),t);return(e,t)=>1===e.length?(r=new o(i,s)).transit(t).type:r.transit(t).type})},function(e,t,r){"use strict";let{isString:n,isFunction:o}=r(0),{MATCH:i,WAIT:s,QUIT:a}=r(16),l=e=>t=>e===t?i:-1!==e.indexOf(t)?s:a;e.exports={getMatch:e=>o(e)?e:n(e)?l(e):void 0}},function(e,t,r){"use strict";let{WAIT:n,MATCH:o}=r(16),{assembleToken:i}=r(33);e.exports={findToken:e=>{let t=null;for(let r=0;r<e.length;r++){let{prefix:n,matchTypes:o}=e[r];for(let e=0;e<o.length;e++){let r=o[e];(!t||r.priority>t.tokenType.priority||r.priority===t.tokenType.priority&&n.length>t.text.length)&&(t=i(r,n))}}return t},filterTypes:(e,t,r)=>{let i=[],s=[],a=null,l=r.length;for(let c=0;c<l;c++){let l=r[c],u=l.match(t,e);u===n?i.push(l):u===o&&(s.push(l),i.push(l),!a&&l.independent&&(a=l))}return[i,s,a]}}},function(e,t,r){"use strict";e.exports=r(94)},function(e,t,r){"use strict";let n=r(95),o=r(98),i=r(103),{forEach:s}=r(7);e.exports={LR:n,LR1Table:o,parse:(e,t)=>{let{ACTION:r,GOTO:a}=o(i(e));return e=>{let o=n(r,a,t);return s(e,o),o(null)}},ctxFreeGrammer:i,buildLR1Table:e=>{let t=i(e);return o(t)}}},function(e,t,r){"use strict";let{END_SYMBOL:n,EXPAND_START_SYMBOL:o}=r(34),{initAST:i,reduceAST:s,appendToken:a}=r(96);e.exports=((e,t,{reduceHandler:r,acceptHandler:s}={})=>{let d=l(),f=i(o),m=(t,r)=>{let n=e[t][r.name];return n||{type:"error",errorMsg:`unexpected symbol (token.name) ${r.name}, token (token.text) is ${r.text}. Try to find ACTION from state ${t}.`}},y=(e,r)=>{let n=t[e][r.name];if(void 0===n)throw new Error(`fail to goto state from ${e} and symbol (token.name) is ${r.name}, token (token.text) is ${r.text}. Try to do GOTO from state ${e}, but next state not exists.`);return n},g=()=>{let e=p(d),t=h(d),n=m(e,t);switch(n.type){case"shift":c(d,n.state,t),f=a(f,t);break;case"reduce":f=u(f,n.production,d,y,r);break;case"error":throw new Error(n.errorMsg);case"accept":d[1]=[],s&&s(f);break;default:throw new Error(`unexpected action type ${n.type}, when try to recoginise from [${e}, ${t.name}]. Token is ${t.text}`)}};return e=>{if(null===e){for(d[1].push({name:n});d[1].length;)g();return f}for(d[1].push(e);d[1].length>1;)g()}});let l=()=>[[0],[]],c=(e,t,r)=>{let n=e[0],o=e[1];n.push(r,t),o.shift()},u=(e,[t,r],n,o,i)=>{let a=n[0],l=[];for(let e=0;e<r.length;e++)a.pop(),l.push(a.pop());let c=p(n);a.push(t),a.push(o(c,{name:t,text:`[none terminal symbol] ${t}`}));let{newAst:u,midNode:h}=s(e,e.children.length-r.length,e.children.length-1,t);return i&&i([t,r],h,l,e),u},p=e=>{let t=e[0];return t[t.length-1]},h=e=>e[1][0]},function(e,t,r){"use strict";let{map:n}=r(7);let o=e=>({type:"terminal",symbol:e.name,token:e});e.exports={initAST:(e,t=[])=>({type:"none-terminal",symbol:e,children:n(t,o)}),reduceAST:(e,t=0,r=0,n)=>{let o={type:"none-terminal",symbol:n},i=e.children.splice(t,r-t+1,o);return o.children=i,{newAst:e,midNode:o}},appendToken:(e,t)=>(e.children.push(o(t)),e)}},function(e,t,r){"use strict";let{iterate:n}=r(35),{isFunction:o}=r(0),i={eq:(e,t)=>e===t},s=(e,t)=>{for(let r in t)e[r]=e[r]||t[r]},a=(e,t,r,o)=>n(e,{output:t,def:r,limit:o}),l=(e,t,r={})=>{s(r,i);let{eq:a}=r,l=o(t)?t:e=>a(t,e),p=n(e,{transfer:c,limit:u,predicate:l,def:[]});return p.length?p[0]:-1},c=(e,t)=>t,u=(e,t,r,n,o)=>o>=1,p=e=>!e,h=e=>!!e;e.exports={overArgs:(e,t)=>(...r)=>{let n=t(...r);return e(...n)},map:(e,t,r)=>n(e,{transfer:t,def:[],limit:r}),forEach:(e,t)=>n(e,{limit:e=>!0===e,transfer:t,output:(e,t)=>t,def:!1}),reduce:a,find:(e,t,r)=>{let n=l(e,t,r);if(-1!==n)return e[n]},findIndex:l,filter:(e,t,r)=>a(e,(e,r,n,o)=>(t&&t(r,n,o)&&e.push(r),e),[],r),any:(e,t)=>a(e,(e,r,n,o)=>{let i=t&&t(r,n,o);return e&&h(i)},!0,p),exist:(e,t)=>a(e,(e,r,n,o)=>{let i=t&&t(r,n,o);return e||h(i)},!1,h),compact:e=>a(e,(e,t)=>(t&&e.push(t),e),[]),reverse:e=>a(e,(e,t)=>(e.unshift(t),e),[])}},function(e,t,r){"use strict";let n=r(99),{forEach:o,findIndex:i}=r(7),s=r(100),{LR1Itemer:a}=r(101),{sameClosure:l}=r(17);e.exports=(e=>{let{END_SYMBOL:t,isTerminalSymbol:r,N:i}=e,l=[],u=[],p=a(e),h=s(e,p),d=n(e,p,h);return o(d,(e,n)=>{l[n]=l[n]||{},o(e.items,i=>{if(p.isAcceptItem(i))l[n][t]={type:"accept"};else if(i.isReduceItem())o(i.getForwards(),e=>{l[n][e]={type:"reduce",production:i.getProduction()}});else if(r(i.getNextSymbol())){let t=h(e,i.getNextSymbol());t&&t.items.length&&(l[n][i.getNextSymbol()]={type:"shift",state:c(d,t)})}})}),o(d,(e,t)=>{u[t]=u[t]||{},o(i,r=>{let n=h(e,r);n&&n.items.length&&(u[t][r]=c(d,n))})}),{GOTO:u,ACTION:l}});let c=(e,t)=>i(e,t,{eq:l})},function(e,t,r){"use strict";let{buildClosure:n}=r(17),{reduce:o}=r(7);e.exports=((e,t,r)=>{let{symbols:o}=e,s=n([t.initItem(e)],e,t),a=[s],l={};l[s.serializedText]=!0;let c=a;for(;;){let e=[];for(let t=0;t<c.length;t++){let n=c[t],s=i(o,n,r);for(let t=0;t<s.length;t++){let r=s[t],n=r.serializedText;l[n]||(e.push(r),l[n]=!0)}}if(!e.length)break;c=e,a=a.concat(c)}return a});let i=(e,t,r)=>o(e,(e,n)=>{let o=r(t,n);return o&&o.items.length&&e.push(o),e},[])},function(e,t,r){"use strict";let{reduce:n,filter:o}=r(7),{buildClosure:i}=r(17);e.exports=((e,t)=>{let r=(e,t)=>{let r=o(e.items,e=>e.getNextSymbol()===t);return n(r,(e,t)=>(t.restIsNotEmpty()&&e.push(t.nextPositionItem()),e),[])};return(n,o)=>{let s=null;if(n.cache_GOTO=n.cache_GOTO||{},n.cache_GOTO[o])s=n.cache_GOTO[o];else{let a=r(n,o);s=i(a,e,t),n.cache_GOTO[o]=s}return s}})},function(e,t,r){"use strict";let n=r(102),{union:o,reduce:i,filter:s,flat:a,map:l}=r(7);e.exports={LR1Itemer:e=>{let{END_SYMBOL:t,isNoneTerminalSymbol:r,getProductionsOf:c}=e,u=n(e),p=(t,r,n)=>{let{getHead:a,getBody:l,isTerminalSymbol:c,isEndSymbol:h}=e,d=()=>n,f=()=>l(t).slice(r+1),m=null,y=null,g=null;return{getNextSymbol:()=>l(t)[r],getProduction:()=>t,getForwards:d,afterNextRest:f,list:()=>[a(t),l(t),r,n],concatForwards:e=>p(t,r,o(n,e)),getAdjoints:()=>{if(null===m){let e=f(),t=d(),r=i(t,(t,r)=>{let n=e.length?u(e.concat([r])):[r];return t.concat(s(n,e=>c(e)||h(e)))},[]);return m=r,r}return m},isReducedItem:()=>!f().length&&1===d().length&&h(d()[0]),restIsNotEmpty:()=>l(t).length&&r<l(t).length,nextPositionItem:()=>p(t,r+1,n,e),getGrammer:()=>e,isReduceItem:()=>r===l(t).length,serialize:()=>(null===y&&(y=JSON.stringify([t,r,n.sort()])),y),serializePrefix:()=>(null===g&&(g=JSON.stringify([t,r])),g)}};var h=()=>p([e.EXPAND_START_SYMBOL,[e.startSymbol]],1,[e.END_SYMBOL]);var d=(e,t)=>e.serialize()===t.serialize();let f=(e,t)=>p(e,0,[t]),m={};return{expandItem:e=>{let n=e.serialize();if(m[n])return m[n].slice(0);let{getNextSymbol:o,getAdjoints:i,isReducedItem:s}=e,u=o();if(!u||!r(u))return[];let p=c(u),h=a(l(p,e=>s()?[f(e,t)]:l(i(),t=>f(e,t))));return m[n]=h,h},buildLR1Item:p,isAcceptItem:e=>d(h(e.getGrammer()),e),sameItem:d,initItem:()=>p([e.EXPAND_START_SYMBOL,[e.startSymbol]],0,[e.END_SYMBOL]),fromList:([e,t,r,n])=>p([e,t],r,n),supItem:f}}}},function(e,t,r){"use strict";let{contain:n,union:o,reduce:i,difference:s,forEach:a}=r(7),{isArray:l}=r(0);e.exports=(e=>{let t={},r=e=>{if(t[e])return t[e];let r=c(e);return t[e]=r,r},c=t=>{let{isTerminalSymbol:r,getProductionsOf:n,isEmptyProduction:s,getBody:a,EPSILON:l}=e;if(r(t))return[t];{let c=n(t);return i(c,(t,n)=>{let i=a(n);return s(n)?o(t,[l]):r(i[0])?o(t,[i[0]]):o(t,p(i,e))},[])}},u={},p=t=>{let{EPSILON:i,getBodyId:l}=e,c=l(t);if(u[c])return u[c];let p=[];return a(t,(e,a)=>{let l=r(e);if(p=o(p,s(l,[i])),!n(l,i))return!0;a===t.length-1&&(p=o(p,[i]))}),u[c]=p,p};return e=>l(e)?p(e):r(e)})},function(e,t,r){"use strict";const{END_SYMBOL:n,EXPAND_START_SYMBOL:o,EPSILON:i}=r(34);e.exports=(({startSymbol:e,T:t,N:r,productions:l})=>{let c=t.concat(r),u=a(l),p=s(t),h=s(r),d=e=>e[1];return{isTerminalSymbol:e=>!!p[e],isNoneTerminalSymbol:e=>!!h[e],getProductionsOf:e=>u[e],isEmptyProduction:e=>!d(e).length,getBody:d,getBodyId:e=>JSON.stringify(e),getHead:e=>e[0],EPSILON:i,END_SYMBOL:n,EXPAND_START_SYMBOL:o,startSymbol:e,productions:l,isEndSymbol:e=>e===n,symbols:c,N:r}});let s=e=>{let t={},r=e.length;for(let n=0;n<r;n++)t[e[n]]=!0;return t},a=e=>{let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n],o=r[0];t[o]=t[o]||[],t[o].push(r)}return t}},function(e,t,r){"use strict";let{stringGraph:n,numberGraph:o}=r(105),{buildFSM:i}=r(29),s=r(9),{stateGraphDSL:a}=s,{g:l,c:c,union:u,sequence:p,range:h,circle:d}=a,f=u(" ","\f","\n","\r","\t","\v","","","","-","","\u2028","\u2029","","","","\ufeff"),m=l(p(".",u("_","%",h("a","z"),h("A","Z"),h("0","9")),d(u("_","%",h("a","z"),h("A","Z"),h("0","9"))))),y=l(p(u("_",h("a","z"),h("A","Z")),d(u("_",h("a","z"),h("A","Z"),h("0","9"))))),g=l(p(".","[",d(f,l(p(u("_",h("a","z"),h("A","Z")),d(u("_",h("a","z"),h("A","Z"),h("0","9")),d(f,l(c("]")))))))));e.exports=[{priority:1,match:"true",name:"true"},{priority:1,match:"false",name:"false"},{priority:1,match:"null",name:"null"},{priority:1,match:i(n),name:"string"},{priority:1,match:i(o),name:"number"},{priority:1,match:i(m),name:"nodeName"},{priority:1,match:i(g),name:"nodeNameVariable"},{priority:1,match:i(y),name:"variableName"},{priority:1,match:"=",name:"assign"},{priority:1,match:"-",name:"delete"},{priority:1,match:"+",name:"append"},{priority:1,match:";",name:"semicolon"},{priority:1,match:"(",name:"leftBracket"},{priority:1,match:")",name:"rightBracket"},{priority:1,match:",",name:"comma"},{priority:1,match:i(l(c(f))),name:"whitespace"}]},function(e,t,r){"use strict";let{stateGraphDSL:n}=r(9),{g:o,c:i,union:s,range:a,sequence:l,circle:c,left:u,repeat:p}=n,h=o(i(s(null,"-"),o(i("0",o("decimal",i(".",c(a("0","9"),"science")),i(null,o("science",i(null,"accept"),l(s("e","E"),s("+","-",null),a("0","9"),c(a("0","9"),"accept")))))),l(a("1","9"),c(a("0","9"),"decimal"))))),d=s(a("0","9"),a("A","F"),a("a","f")),f=o(i('"',o("enter",i("\\",o(i(s('"',"\\","/","b","f","n","r","t"),"enter"),i("u",o(p(d,4,"enter"))))),i('"',"accept"),i(u(),"enter"))));e.exports={numberGraph:h,stringGraph:f}},function(e,t){e.exports={GOTO:[{PROGRAM:11,EXPRESSION_LIST:12,EXPRESSION:13,UPDATE_EXPRESSION:14,QUERY_EXPRESSION:15,PATH:16,ATOM_DATA:17},{PATH:20},{PATH:23},{},{PATH:25},{PATH:26},{},{},{},{},{},{},{},{},{},{},{},{},{PATH:29},{PATH:30},{},{PATH:31},{PATH:32},{},{QUERY_EXPRESSION:43,QUERY_EXPRESSION_LIST:44,PATH:45,ATOM_DATA:46},{},{},{EXPRESSION_LIST:47,EXPRESSION:13,UPDATE_EXPRESSION:14,QUERY_EXPRESSION:15,PATH:16,ATOM_DATA:17},{QUERY_EXPRESSION:48,PATH:49,ATOM_DATA:17},{},{},{},{},{QUERY_EXPRESSION:50,PATH:49,ATOM_DATA:17},{},{},{PATH:52},{PATH:53},{},{},{},{},{},{},{},{},{},{},{},{},{},{QUERY_EXPRESSION:43,QUERY_EXPRESSION_LIST:57,PATH:45,ATOM_DATA:46},{},{},{QUERY_EXPRESSION:43,QUERY_EXPRESSION_LIST:58,PATH:45,ATOM_DATA:46},{},{},{},{},{}],ACTION:[{$:{type:"reduce",production:["EXPRESSION",[]]},semicolon:{type:"reduce",production:["EXPRESSION",[]]},variableName:{type:"shift",state:3},delete:{type:"shift",state:1},append:{type:"shift",state:2},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{nodeName:{type:"shift",state:21},nodeNameVariable:{type:"shift",state:22}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},leftBracket:{type:"shift",state:24}},{$:{type:"reduce",production:["PATH",["nodeName"]]},assign:{type:"reduce",production:["PATH",["nodeName"]]},semicolon:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{$:{type:"reduce",production:["PATH",["nodeNameVariable"]]},assign:{type:"reduce",production:["PATH",["nodeNameVariable"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{$:{type:"reduce",production:["ATOM_DATA",["true"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["true"]]}},{$:{type:"reduce",production:["ATOM_DATA",["false"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["false"]]}},{$:{type:"reduce",production:["ATOM_DATA",["null"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["null"]]}},{$:{type:"reduce",production:["ATOM_DATA",["string"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["string"]]}},{$:{type:"reduce",production:["ATOM_DATA",["number"]]},semicolon:{type:"reduce",production:["ATOM_DATA",["number"]]}},{$:{type:"accept"}},{$:{type:"reduce",production:["PROGRAM",["EXPRESSION_LIST"]]}},{$:{type:"reduce",production:["EXPRESSION_LIST",["EXPRESSION"]]},semicolon:{type:"shift",state:27}},{$:{type:"reduce",production:["EXPRESSION",["UPDATE_EXPRESSION"]]},semicolon:{type:"reduce",production:["EXPRESSION",["UPDATE_EXPRESSION"]]}},{$:{type:"reduce",production:["EXPRESSION",["QUERY_EXPRESSION"]]},semicolon:{type:"reduce",production:["EXPRESSION",["QUERY_EXPRESSION"]]}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},assign:{type:"shift",state:28}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]}},{$:{type:"reduce",production:["PATH",["nodeName"]]},semicolon:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{$:{type:"reduce",production:["PATH",["nodeNameVariable"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{$:{type:"reduce",production:["UPDATE_EXPRESSION",["delete","PATH"]]},semicolon:{type:"reduce",production:["UPDATE_EXPRESSION",["delete","PATH"]]}},{assign:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:21},nodeNameVariable:{type:"shift",state:22}},{assign:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:21},nodeNameVariable:{type:"shift",state:22}},{assign:{type:"shift",state:33}},{rightBracket:{type:"shift",state:35},variableName:{type:"shift",state:34},true:{type:"shift",state:38},false:{type:"shift",state:39},null:{type:"shift",state:40},string:{type:"shift",state:41},number:{type:"shift",state:42},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{$:{type:"reduce",production:["PATH",["nodeName","PATH"]]},assign:{type:"reduce",production:["PATH",["nodeName","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{$:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},assign:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{$:{type:"reduce",production:["EXPRESSION",[]]},semicolon:{type:"reduce",production:["EXPRESSION",[]]},variableName:{type:"shift",state:3},delete:{type:"shift",state:1},append:{type:"shift",state:2},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:4},nodeNameVariable:{type:"shift",state:5}},{variableName:{type:"shift",state:3},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{$:{type:"reduce",production:["PATH",["nodeName","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{$:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},semicolon:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{assign:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{assign:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{variableName:{type:"shift",state:3},true:{type:"shift",state:6},false:{type:"shift",state:7},null:{type:"shift",state:8},string:{type:"shift",state:9},number:{type:"shift",state:10},nodeName:{type:"shift",state:18},nodeNameVariable:{type:"shift",state:19}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["variableName"]]},leftBracket:{type:"shift",state:51}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]}},{comma:{type:"reduce",production:["PATH",["nodeName"]]},rightBracket:{type:"reduce",production:["PATH",["nodeName"]]},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{comma:{type:"reduce",production:["PATH",["nodeNameVariable"]]},rightBracket:{type:"reduce",production:["PATH",["nodeNameVariable"]]},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{comma:{type:"reduce",production:["ATOM_DATA",["true"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["true"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["false"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["false"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["null"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["null"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["string"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["string"]]}},{comma:{type:"reduce",production:["ATOM_DATA",["number"]]},rightBracket:{type:"reduce",production:["ATOM_DATA",["number"]]}},{rightBracket:{type:"reduce",production:["QUERY_EXPRESSION_LIST",["QUERY_EXPRESSION"]]},comma:{type:"shift",state:54}},{rightBracket:{type:"shift",state:55}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["ATOM_DATA"]]}},{$:{type:"reduce",production:["EXPRESSION_LIST",["EXPRESSION","semicolon","EXPRESSION_LIST"]]}},{$:{type:"reduce",production:["UPDATE_EXPRESSION",["PATH","assign","QUERY_EXPRESSION"]]},semicolon:{type:"reduce",production:["UPDATE_EXPRESSION",["PATH","assign","QUERY_EXPRESSION"]]}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["PATH"]]}},{$:{type:"reduce",production:["UPDATE_EXPRESSION",["append","PATH","assign","QUERY_EXPRESSION"]]},semicolon:{type:"reduce",production:["UPDATE_EXPRESSION",["append","PATH","assign","QUERY_EXPRESSION"]]}},{rightBracket:{type:"shift",state:56},variableName:{type:"shift",state:34},true:{type:"shift",state:38},false:{type:"shift",state:39},null:{type:"shift",state:40},string:{type:"shift",state:41},number:{type:"shift",state:42},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{comma:{type:"reduce",production:["PATH",["nodeName","PATH"]]},rightBracket:{type:"reduce",production:["PATH",["nodeName","PATH"]]}},{comma:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]},rightBracket:{type:"reduce",production:["PATH",["nodeNameVariable","PATH"]]}},{variableName:{type:"shift",state:34},true:{type:"shift",state:38},false:{type:"shift",state:39},null:{type:"shift",state:40},string:{type:"shift",state:41},number:{type:"shift",state:42},nodeName:{type:"shift",state:36},nodeNameVariable:{type:"shift",state:37}},{$:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]},semicolon:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","rightBracket"]]}},{rightBracket:{type:"shift",state:59}},{rightBracket:{type:"reduce",production:["QUERY_EXPRESSION_LIST",["QUERY_EXPRESSION","comma","QUERY_EXPRESSION_LIST"]]}},{comma:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]},rightBracket:{type:"reduce",production:["QUERY_EXPRESSION",["variableName","leftBracket","QUERY_EXPRESSION_LIST","rightBracket"]]}}]}},function(e,t,r){"use strict";let{isObject:n,isFunction:o,isString:i}=r(36),{T_ASSIGN:s,T_DELETE:a,T_VARIABLE_NAME:l,T_FUNCTION:c,T_PATH:u,T_NODE_NAME_VARIABLE:p,A_DEFAULT:h}=r(18);e.exports={checkAST:(e,{variableStub:t={}}={})=>{let r=e.slice(0);for(;r.length;){let e=r.pop(),o=e.type;if(o===l){let r=e.value;if(!t.hasOwnProperty(r))throw new Error(`missing variable ${r} in [${Object.keys(t).join(", ")}]`)}else if(o===c){let{funName:o,params:i}=e.value,s=t[o];if(!n(s)||s.type!==c)throw new Error(`missing function ${o}, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`);let a=i.length;for(let e=0;e<a;e++)r.push(i[e])}else if(o===s)r.push(e.value.path),r.push(e.value.value);else if(o===a)r.push(e.value.path);else if(o===u){let r=e.value;for(let e=0;e<r.length;e++){let{type:o,value:i}=r[e];if(o===p){let e=t[i];if(!n(e)||e.type!==p)throw new Error(`missing type attribute ${p} for ${i}, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`)}}}}},runTimeCheck:(e,t)=>{for(let r in e){let n=e[r];if(!t.hasOwnProperty(r)&&!n.hasOwnProperty(h))throw new Error(`missing variable ${r} in variableMap whick keys are [${Object.keys(t).join(", ")}].`);if(n.type===c&&!o(t[r]))throw new Error(`variable ${r} is not function as expected, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`);if(n.type===p&&!i(t[r]))throw new Error(`variable ${r} is not string as expected, please check your variable map. Current variable map has keys [${Object.keys(t).join(", ")}].`)}},getVariable:(e,t,r)=>{let i=r[e]||{},s=null;if(t.hasOwnProperty(e))s=t[e];else{if(!i.hasOwnProperty(h))throw new Error(`missing variable ${e}.`);s=i[h]}return n(i)&&o(i.validate)&&i.validate(s),s}}},function(e,t,r){"use strict";let n=r(26);e.exports={autoId:()=>`_gid_${(new Date).getTime()}_${n().replace(/-/g,"_")}`,isObject:e=>e&&"object"==typeof e,modifySuccess:(e,t)=>({operationType:"update",resultType:"success",path:e,value:t&&t.toString()}),removeNoneExist:e=>({operationType:"delete",resultType:"remove_none_exist",path:e}),removeSuccess:e=>({operationType:"delete",resultType:"success",path:e})}},function(e,t,r){"use strict";let n=r(14),o=r(1),i=(e={})=>{let{version:t=1}=e,r=e.key||s(e),n=n=>{let i=e.whiteList||[];localStorage[r]=JSON.stringify({version:t,props:i.reduce((e,t)=>(o.set(e,t,o.get(n,t)),e),{})})},i=e=>(n(e),e);return{get:(e={})=>{let n=localStorage[r];if(!n)return i(e);try{let r=JSON.parse(n);return r.version<t?i(e):r.version<t?(console.error(`unexpected situation happened, storaged data version is bigger than current version. Storaged data version is ${r.version}. Current version is ${t}.`),i(e)):o.deepMergeMap(e,r.props)}catch(t){return i(e)}},set:n}},s=({pageQueryKey:e="page"}={})=>{let t=`${document.title}-${window.location.pathname}`,r=n.parse(window.location.search.substring(1));return r&&void 0!==r[e]&&(t=`${t}?page=${r[e]}`),t};e.exports={pagePropsStore:i,wrapPagePropsWithStore:(e,t={})=>{let{get:r,set:n}=i(t),o=e.onsignal;return e.onsignal=((e,r,i)=>(t.signalTypes?-1!==t.signalTypes.findIndex(t=>e.type===t)&&n(r.props):n(r.props),o&&o(e,r,i))),r(e)}}},function(e,t,r){"use strict";const{}=r(19);e.exports={indexPage:{kabanery_page_render:[]}}},function(e,t,r){"use strict";let n=r(112),o=r(131);e.exports={indexPage:n,article:o}},function(e,t,r){"use strict";let n=r(38),o=r(3),i=r(2),{syncBindWithKeyMap:s}=r(20),{deliver:a,onSignalType:l}=r(5),{}=r(19),c=r(22),u=r(43),p=r(44),h=r(46),d=r(47);e.exports=n(o(({},e)=>i(u,[i(p,{title:"Arre's blog",leftLogos:[i("div","about me")],onsignal:l("click",e=>{"leftLogos"===e.data.sourceType&&0===e.data.index&&(window.location.href="./project/resume/index.html")})}),i(c,[d.map(({name:e,date:t,brief:r,docId:n})=>i(h,{title:e,style:{container:{cursor:"pointer",width:300,margin:8}},onsignal:l("click",()=>{window.location.href=`?page=article&docId=${n}`})},[i('div style="color:gray;font-size:14px"',t),i("div",r)]))])]),{defaultProps:{}}))},function(e,t,r){"use strict";let n=r(114);e.exports=n({pageColor:"white",hoverColor:"#90CAF9",blockColor:"#2196F3",borderColor:"#1565C0",veilColor:"rgba(125,125,125,0.6)",fontColor:"white",noticeColor:"rgb(2, 40, 51)",shadowColor:"rgba(100,100,100,0.2)",halfBlockColor:"rgba(33,150,243,0.5)",titleSize:20,normalSize:16,narrowPadding:"4 8 4 8",narrowPaddingTop:4,narrowPaddingRight:8,narrowPaddingBottom:4,narrowPaddingLeft:8,narrowMargin:"4 8 4 8",contrastBlockColor:"white",contrastFontColor:"black"})},function(e,t,r){"use strict";let{styles:n}=r(1),o=r(40),i=r(115),s=r(116),a=r(117);e.exports=((e,t={})=>{let r=i(e),n=s(e),l=a(e,o,r);return"function"==typeof t&&(t=t(e,o,r)),r=Object.assign(r,t.bulks||{}),n=Object.assign(n,t.actions||{}),l=Object.assign(l,t.widgets||{}),Object.assign({basics:e,actions:n},o,r,n,l)})},function(e,t,r){"use strict";let{styles:n}=r(1),o=r(40),{container:i}=o;e.exports=(e=>{let t=n(i,{minWidth:40,backgroundColor:e.blockColor,color:e.fontColor}),r=n(t,{backgroundColor:e.contrastBlockColor,color:e.contrastFontColor}),o=n(t,{padding:e.narrowPadding,fontSize:e.normalSize,textAlign:"center",lineHeight:20,textDecoration:"none",border:"none",color:e.fontColor}),s=n(o,{display:"inline-block",backgroundColor:e.contrastBlockColor,color:e.blockColor});return{bulk:t,contrastBulk:r,oneLineBulk:o,modalBulk:n(o,r,{display:"inline-block",boxShadow:`3px 3px 5px ${e.shadowColor}`}),flatOneLineBulk:s}})},function(e,t){e.exports=(e=>({hover:{backgroundColor:e.hoverColor},active:{backgroundColor:e.hoverColor},focus:{outline:"none"},flatHover:{color:e.hoverColor},flatActive:{color:e.hoverColor}}))},function(e,t,r){let{styles:n}=r(1);e.exports=((e,t,r)=>{let{contrastBulk:o}=r,{flat:i}=t,s=n(o,i,{border:`1px solid ${e.shadowColor}`,boxShadow:`3px 3px 5px ${e.shadowColor}`,borderRadius:2}),a=n(o,i,{width:260,padding:e.narrowPadding,backgroundColor:e.fontColor});return{inputBox:a,textAreaBox:n(a,{width:360,height:200,outline:"none",resize:"none",overflow:"auto",border:`1px solid ${e.borderColor}`,borderRadius:5,fontSize:16}),underLineBorder:{border:0,borderRadius:0,"border-bottom":`1px solid ${e.borderColor}`},underLineFocus:{paddingBottom:e.narrowPaddingBottom-1,"border-bottom":`2px solid ${e.blockColor}`},flatRippleMask:{content:"",position:"absolute",top:"50%",left:"50%",width:5,height:5,backgroundColor:e.halfBlockColor,opacity:"0",borderRadius:"100%",transform:"scale(1, 1) translate(-50%)",transformOrigin:"50% 50%"},cardBox:s}})},function(e,t,r){"use strict";let{isMapObject:n}=r(1),{mount:o,n:i,parseStyle:s}=r(6);let a=-1;e.exports=(e=>{let t=`kabanery-lumine-${++a}`,r=e=>{if("@"===e[0]){let r=e.split(" ")[0],n=e.substring(r.length).trim();return`${r} ${t}-${n}`}return`.${t}-${e}`},l=()=>{u&&(o(i("style",{id:t},u),document.head),u=null)},c=e=>{if("@"===e[0]){let t=e.split(" ")[0];e=e.substring(t.length).trim()}return`${t}-${e.split(":")[0]}`},u=null,p=e=>{if(n(e)){u="";for(let t in e){t=t.trim();let n=r(t),o=e[t];"function"==typeof o&&(o=o({getClassName:c}));let i=s(o,{valueWrapper:e=>`${""!==e?e:"''"} !important`});u+=`\n${n} {${i}}`}}};return p(e),{appendStyle:l,getClassName:c,updateClassTable:e=>{let r=document.getElementById(t);r&&r.parentNode.removeChild(r),p(e),l()}}})},function(e,t,r){"use strict";let n=r(2),o=r(3),i=r(120),s=r(121),a=r(123);e.exports=o(({props:e,children:t})=>e.show?n(s,{style:e.style},t):a(),{defaultProps:{show:!0,style:{textAlign:"center"}},defaultChildren:[n(i,{style:{position:"relative",top:"50%",marginTop:-10}})]})},function(e,t,r){"use strict";let n=r(2),o=r(3);e.exports=o(({props:e},{getClassName:t})=>e.show?n("div",{class:t("load-suffix"),style:e.style},e.textPrefix):n("div"),{defaultProps:{textPrefix:"loading",show:!0,style:{display:"inline-block"}},classTable:{"@keyframes loading":`\n    0% {\n        content: ""\n    }\n    33% {\n        content: "."\n    }\n    67% {\n        content: ".."\n    }\n    100% {\n        content: "..."\n    }`,"load-suffix::after":({getClassName:e})=>({content:JSON.stringify("."),animation:`${e("loading")} 3s infinite ease-in-out`})}})},function(e,t,r){"use strict";let n=r(122),o=r(3),i=r(2);e.exports=o(({props:e,children:t})=>i(n,e,t),{defaultProps:{style:e=>({backgroundColor:e.basics.veilColor,color:e.basics.fontColor,zIndex:1e3})}})},function(e,t,r){"use strict";let{n:n}=r(6),o=r(3),{styles:i}=r(1),{Signal:s}=r(5);e.exports=o(({props:e,children:t},{notify:r})=>n("div",{style:e.style,onclick:()=>{r(s("fullwindow-click"))}},t),{defaultProps:{style:e=>i(e.fullWindow)},defaultChildren:[]})},function(e,t,r){"use strict";let n=r(2),o=r(3);e.exports=o(()=>n("div",{style:{width:0,height:0}}))},function(e,t,r){"use strict";let n=r(2),o=r(3),{Signal:i}=r(5),{styles:s}=r(1),{compileTreeScript:a}=r(125),l=a(".props.show=false");e.exports=o(({props:e},{updateTree:t})=>(e.show&&"forever"!==e.duration&&setTimeout(()=>{t(l,null,i("notice-hide"))},e.duration),n("div",{style:{zIndex:1e4,position:"fixed",width:"100%",height:0,left:0,top:"50%",textAlign:"center"}},[e.show&&n("div",{style:e.style},e.text)])),{defaultProps:{text:"",show:!0,duration:3e3,style:e=>s(e.oneLineBulk,{display:"inline-block",backgroundColor:e.basics.noticeColor,maxWidth:400,maxHeight:200,top:-100,position:"relative"})}})},function(e,t,r){"use strict";let{parseStrToAst:n,checkAST:o}=r(15);e.exports={compileTreeScript:(e,{variableStub:t}={})=>{let r=n(e);return t&&o(r,{variableStub:t}),{ast:r,variableStub:t}}}},function(e,t,r){"use strict";let n=r(45),o=r(128),{styles:i}=r(1);e.exports=o({defaultProps:{style:e=>i(e.oneLineBulk,{cursor:"pointer"})},classTable:e=>Object.assign(n({theme:e}),{"btn:hover":e.actions.hover,"btn:active":e.actions.active,"btn:focus":e.actions.focus})})},function(e,t){e.exports=`\n    0% {\n        transform: scale(0, 0);\n        opacity: 1;\n    }\n    20% {\n        transform: scale(25, 25);\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n        transform: scale(40, 40);\n    }`},function(e,t,r){"use strict";let{n:n}=r(6),o=r(39),{Signal:i}=r(5),{styles:s}=r(1);e.exports=o(({props:e,children:t},{notify:r,getClassName:o})=>{let s={class:`${o("btn")}`,style:e.style,onclick:()=>{r(i("click"))}};return e.id&&(s.id=e.id),n("button",s,t[0])})},function(e,t,r){"use strict";let n=r(130),{styles:o}=r(1);e.exports=n(e=>o(e.oneLineBulk,{display:"block",textAlign:"left"}))},function(e,t,r){"use strict";let n=r(2),o=r(3);e.exports=((e,{tagName:t="div"}={})=>o(({props:e,children:r})=>n(t,{style:e.style},[r]),{defaultProps:{style:e}}))},function(e,t,r){"use strict";let n=r(38),o=r(3),i=r(2),{syncBindWithKeyMap:s}=r(20),{deliver:a,onSignalType:l}=r(5),{}=r(19),c=r(14),u=(r(22),r(43)),p=r(44),h=(r(46),r(132)),d=r(47);e.exports=n(o(({},e)=>{let t=c.parse(window.location.search.substring(1)),r=h[t.docId],n=d.find(({docId:e})=>e===t.docId);return i(u,[i(p,{title:n.name,leftLogos:[i("div","<")],onsignal:l("click",e=>{"leftLogos"===e.data.sourceType&&0===e.data.index&&(window.location.href="?page=indexPage")})}),i("div",{style:{padding:8}},[r])])},{defaultProps:{}}))},function(e,t,r){let n=r(133),o=r(135),i=r(136);e.exports={flexible_UI_test_restraints_design:n,performance_analysis_between_recursive_and_stack_base_none_recursive_simulation:o,is_power_of_2_k_problem:i}},function(e,t,r){"use strict";let n=r(2),{paraTitle:o,list:i,lr:s,article:a}=r(48)();e.exports=a({title:"flexible UI test restraints design",date:"2017-09-27",author:"Arre",introduction:"UI changes day by day, how to define the correct state of UI became a problem. If the restraints we designed are too strong, they will be useless, because we have to change them everyday. If the restraints we designed are too weak, they won't be able to guard the UI."},[o("Problems"),i(["How to measure a UI's state? After all, UI contains a lot of information, and can be different in different devices.","The frequency of modifying UI is high. (Not absolutly, but for some products like user-level products, may change fast)"]),o("Thought"),i(["Break down the information of UI into some dimensions.","Design an approach to balance accuracy and flexibility for each dimension.","The parameter of the dimension must be easy to set and adjust."]),n("p","This article provides a simple approach based on the two thoughts. It mainly considers to add position, content and style restraints to UI."),o("Position restraint - Grid method"),n("p","Divide page into m * n matrix. For a specific UI, it will be located in an area, which can be represented by pair of coordinates (x1, y1), (x2, y2). For example:"),s(n('img src="./img/position_restraint_demo.png"'),i(["step1: divide screen into 4 * 4 parts.","step2: we can describe there is a button in area (0,0)-(0,0)."]),300),n("h4","flexibility"),n("p","The flexibility of grid method is at m and n, which we used to divide the page. If we set m and n small, the position information will be rough. If we set m and n big, the position information will be precision."),n("p","In some simple situations:"),i(["We can define rough rate like 1.5 to calculate the m and the n for a specific UI.","In a 2 * 2 grids, we can simply to say a button located in left-top or right-top or left-bottom or right-bottom."]),n("h4","usablility"),n("p","The grid method is easy to set and adjust, we can use vision to make desicion. We can increase the grid from 1 * 1 until we think it is ok."),n("h4","combinators"),n("p","We can compose the relationship between area and UI element with some simple combinators."),i([s("In","UI element is in area A.",60),s("Not in","UI element is not in area A.",60),s("And","UI element is in area A and area B.",60),s("Or","UI element is in area A or area B.",60)]),o("Content restraint"),n('img src="./img/content_restraint_demo.png"'),n("p",'The content of UI element is the main meaning that the UI try to delivery. The content of button is "test", that may imply when we click the button, it will run some test stuff.'),n("h4","content extractor"),n("div","A content extractor is a combinator used to extract content from some UI elements dimensions."),n("p","common dimensions"),i(["textContent","image url","textContent","content of css pseudo-class in web scene","the combination of all childrens content"]),n("h4","combinator"),i([s("Match","eg: UI elements image url matches content A."),s("Not match","eg: UI elements text content not matches content A.")]),o("Style restraint"),n("p","The style of UI elements."),n("h4","common styles"),i(["font size","color","background-color"]),n("h4","combinator"),i([s("Match","eg: UI elements style matches content A."),s("Not match","eg: UI elements style not matches content A.")]),o("Other restraint"),n("p","Like tagName, attributes etc."),o("Description UI by using restraints"),n("p","Using restraint rules to describe a UI element. Specify position area, content matching, style matching."),n("p","Eg: There exists a UI element, located at area (0, 0)-(0, 0) in (5 * 6) grid, contains content test, has border, background color is white."),o("Algorithm to solve the description"),n("p","Filter all elements according to the UI restraints description. Whats left are the target elements.")])},function(e,t,r){"use strict";let n=r(2),o=r(3),i=r(45),{styles:s}=r(1);e.exports=o(({props:e},{getClassName:t})=>a(e.toc,{container:e.style.container,nameItem:e.style.nameItem,itemClass:t("tocItem")}),{defaultProps:{style:e=>({container:s(e.contrastBulk,{padding:e.basics.narrowPadding}),nameItem:s(e.flatOneLineBulk)}),toc:[]},classTable:e=>Object.assign(i({className:"tocItem",theme:e}),{"tocItem:hover":e.actions.flatHover,"tocItem:active":e.actions.flatActive,"tocItem:focus":e.actions.focus})});let a=(e,t)=>n("div",{style:t.container},[e.map(({name:e,id:r,next:o})=>(r=r||e,n("div",[n(`a href="#${r}" class=${t.itemClass}`,{style:t.nameItem},e),o&&o.length&&a(o,t)])))])},function(e,t,r){"use strict";let n=r(2),{paraTitle:o,list:i,lr:s,article:a,code:l}=r(48)();e.exports=a({title:"performance analysis between recursive and stack-base none-recursive simulation",date:"2017-09-09",author:"Arre",introduction:"In the bottom, recursive is running on the stack in memory. It's a top-down way to ergodic question tree. We can simulate it by using a stack to do the DFT (Depth First Traversal). How about the performance between them, what kind of conclusions we can get?"},[o("Experiment content"),n("p","We prepare two simple programs. One uses recursive method, the other uses stack-base simulation. To avoid problem like tail recursion optimization, we choose a binary tree traversal problem."),o("Experiment 1"),n("h4","experiment environment"),n("p","node v8.1.4, macOS Sierra, 8GB 1600 MHZ, 1.1 GHZ Intel Core M"),n("h4","recursion version code (js)"),l(`var recursiveTree = (tree) => {\n    if (!tree) return 0;\n    recursiveTree(tree.left);\n    recursiveTree(tree.right);\n};\n`),n("h4","stack-base simulation code (js)"),l(`var iterateTree = (tree) => {\n    var stack = [];\n    stack[0] = tree;\n    var topIndex = 0;\n    while (topIndex >= 0) {\n        var item = stack[topIndex--]; //pop\n\n        if (item.left) {\n            stack[++topIndex] = item.left; // push\n        }\n        if (item.right) {\n            stack[++topIndex] = item.right; // push\n        }\n    }\n};\n`),n("h4","test tree"),l(`function TreeNode(val) {\n    this.val = val;\n    this.left = this.right = null;\n}\n\nlet n = new TreeNode(0);\nlet n1 = new TreeNode(1);\nlet n2 = new TreeNode(2);\nlet n3 = new TreeNode(3);\nn.left = n1;\nn.right= n2;\n\nn1.left = n3;\n`),n('p style="font-size:14px"',"(For a more reliable result of experiment, we should try a lot of different test tree. There only enumerate one.)"),n("h4","comparison result"),l(`stack iteration x 84,084 ops/sec 6.83% (58 runs sampled)\nrecursion x 78,480 ops/sec 8.48% (59 runs sampled)\nFastest is stack iteration,recursion`),n("p","They are so close, we can think they are the same fast."),n("h4","conclusion"),n("p","In js, recursion and stack-base simulation are almost same fast. But obviously, in stack-base simulation code, the efficient of stack is the key point to performance. Js is a kind of black-box in this situation, so we will continue this experiment but with some lower-level language like c++. And our concern will focus on stack."),o("Experiment 2"),n("p","We use std::vector to simulate stack."),n("h4","experiment environment"),n("p","g++ Apple LLVM version 8.1.0 (clang-802.0.42), macOS Sierra, 8GB 1600 MHZ, 1.1 GHZ Intel Core M"),n("h4","recursion version code (c++)"),l(`int recursiveSum(Node *root) {\n  if (root == NULL)\n    return 0;\n  return recursiveSum(root->left) + recursiveSum(root->right) + root->val;\n}\n`),n("h4","stack-base simulation code (c++)"),l(`int stackIterateSum(Node *root) {\n  vector<Node *> stack;\n  stack.push_back(root);\n  int sum = 0;\n\n  while (stack.size()) {\n    Node *top = stack.back();\n    stack.pop_back();\n    sum += top->val;\n\n    if (top->right != NULL) {\n      stack.push_back(top->right);\n    }\n\n    if (top->left != NULL) {\n      stack.push_back(top->left);\n    }\n  }\n\n  return sum;\n}`),n("h4","test tree"),l(`struct Node {\n  int val;\n  Node *left;\n  Node *right;\n};\n\nNode a = {10, NULL, NULL};\nNode b = {8, NULL, NULL};\nNode c = {8, NULL, NULL};\na.left = &b;\na.right = &c;\n`),n("h4","comparison result"),n("p","Stack-base simulation spends almost 7x time of recursion. In other word, recursion's speed is 7x of stack-base simulation."),n("h4","conclusion"),n("p","If we simply use std::vector as stack, out stack-base simulation program will be slow."),n("strong","The question is can we write stack-base simulation code which is faster than recursion."),o("Experiment 3"),n("p","Let's just change the stack-base simulation code from experiment 2. This time we use array, and we allocate memory at first (once)."),n("h4","stack-base simulation code (c++)"),n("p","We use array to simulate stack, we know the stack depth is less than 100, so, we simply allocate 100 size for array."),l(`int stackIterateSum(Node *root) {\n  Node * stack[100];\n  stack[0] = root;\n  int stackIndex = 0;\n  int sum = 0;\n\n  while (stackIndex >= 0) {\n    Node *top = stack[stackIndex--];\n    sum += top->val;\n\n    if (top->right != NULL) {\n      stack[++stackIndex] = top->right;\n    }\n\n    if (top->left != NULL) {\n      stack[++stackIndex] = top->left;\n    }\n  }\n\n  return sum;\n}\n`),n("h4","comparison result"),n("p","This time, stack-base simulation is faster, and the speed is 3.6x of recursion."),o("Conclusion"),i(["In js, stack-base simulation and recursion is the same fast. (array simulates stack)","The key point to make stack-base simulation fater than recursion is to find a better stack for you problem.","In lower-level language which we can control memeory, if we know the depth of recursion, we can use an array to simulate stack. We allocate memery at first (this trick will avoid multiple times memory allocating). This kind of stack-simulation will be fast. If we want to rewrite a recursion code for better performance, we can use this trick."])])},function(e,t,r){"use strict";let n=r(2),{paraTitle:o,list:i,lr:s,article:a,code:l}=r(48)();e.exports=a({title:"Is power of 2 ^ k problem",date:"2017-09-06",author:"Arre",introduction:'We know n is a integer in 32-bit (or 64-bit) system. There is a old trick we judge n is power of 2 or 4. Today, we will try to find out a general solution for "is power of 2 ^ k".'},[o("Represent of integer"),n("p","In the bottom of computer, integer is a bounch of 0 1. In this problem, we do not consider negtive situation, so the number can equal to the binary form. And we assume a integer is 32-bit long. For example:"),i(["1 = 0000 0000 0000 0000 0000 0000 0000 0001","2 = 0000 0000 0000 0000 0000 0000 0000 0010","3 = 0000 0000 0000 0000 0000 0000 0000 0011"]),o("Is power of 2"),n("p",[n("h4","If n is power of 2, it means there will only have one 1 in n' binary representation. If n is 0, obviously n is not power of 2. Otherwise we can use binary operation n & (n - 1) = 0."),n("div",'We need to proof, if n & (n - 1), there will only be one 1 in n\'s binary representation. Because n > 0, so n must got at least one 1 in n\' binary reprentation. So we can represent n like: "E10...0", it means after 1 there are r (r>=0) 0s, E is a bunch of 0 1. The n - 1 will be "E01...1". Then we do n & (n - 1), we will got "(E & E)00...0". Because n & (n - 1) = 0, so E & E must be 0, so E = 0...0, it means, for n there is only one 1 in it\'s binary representation.'),n("div","For Example: n = 2 ^ 7 = 0000 0000 0000 0000 0000 0000 1000 0000"),l(`\n    0000 0000 0000 0000 0000 0000 1000 0000 \n  -                                       1\n  -----------------------------------------\n    0000 0000 0000 0000 0000 0000 0111 1111\n\n    0000 0000 0000 0000 0000 0000 1000 0000\n  & 0000 0000 0000 0000 0000 0000 0111 1111\n  -----------------------------------------\n    0000 0000 0000 0000 0000 0000 0000 0000\n`)]),o("Is power of 2 ^ 2"),n("p",[n("div","some examples"),i(["4 ^ 0 = 0000 0000 0000 0000 0000 0000 0000 0001","4 ^ 1 = 0000 0000 0000 0000 0000 0000 0000 0100","4 ^ 2 = 0000 0000 0000 0000 0000 0000 0001 0000","4 ^ 3 = 0000 0000 0000 0000 0000 0000 0100 0000"]),n("div","We can conclude at least three points from examples:"),i(["There is and only is one 1 in binary representation. (If n is power of 2 ^ 2, n will be the power of 2. So the conlusion before still stands.)","The minimum n is 1, the only 1 in binary representation is at position index 0.","4 ^ m compared to 4 ^ (m - 1), the 1 moved two postion to the left. (Obvisouly, 4 ^ m = 4 ^ (m -1) << 2)"]),n("div","So, all possible position for the only 1, can be enumerated, in this case, the odd postion."),l("0101 0101 0101 0101 0101 0101 0101 0101"),n("div","So we got a problem, how to detect the only 1's position? We can use:"),n("h4","n & mask = n"),n("div","The mask makes all possible positions of the only 1 in integer 1, the others 0. So when n & mask, if the only 1 in n matched a 1 in mask will still be 1, others be 0. If the only 1 in n do not matched a 1 in mask, will be 0."),n("div","We can give the conclustion:"),n("h4","n > 0, n is power of 2 ^ 2, is equivalent to n & (n - 1) = 0 and n & 0x55555555 = n")]),o("Is power of 2 ^ k, k > 1."),n("p",[n("h4","More generally, how about n is power of 2 ^ k problem."),n("div","From dicussion before, we can conclude that: n > 0, n is power of 2 ^ k, is equivalent to n & (n - 1) = 0 and n & mask = n."),n("h4","How to find the mask?"),n("div","Like discussed before, mask stands for all possible positions of the only 1."),n("div","(2 ^ k) ^ m = (2 ^ k) ^ (m - 1) << k, it means, when m increase 1, the only 1 in binary representation will move k postion to the left. And (2 ^ k) ^ 0 = 1, the start position is at index 0. We can present the possible 1s:"),l(`\n                ... 1 ... ... 1 ... 1 ... 1 ... 1\n                [32/k]*k     3k    2k     k     0\n`),n("div","The last position for the only 1 is [32/k]*k"),n("div","At last, we can give the conclution this way:"),n("h4","n is power of 2 ^ k, is equivalent to n & (n - 1) = 0 and n & mask = n, and mask is: "),l(`\n                ... 1 ... ... 1 ... 1 ... 1 ... 1\n                [32/k]*k     3k    2k     k     0\n`)])])}]);